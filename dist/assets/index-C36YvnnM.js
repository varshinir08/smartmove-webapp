(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var wp={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function SA(){if(N_)return Xl;N_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var V_;function TA(){return V_||(V_=1,wp.exports=SA()),wp.exports}var j=TA(),Cp={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function wA(){if(U_)return Ve;U_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function T(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,V={};function k(D,W,se){this.props=D,this.context=W,this.refs=V,this.updater=se||C}k.prototype.isReactComponent={},k.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function B(){}B.prototype=k.prototype;function G(D,W,se){this.props=D,this.context=W,this.refs=V,this.updater=se||C}var q=G.prototype=new B;q.constructor=G,A(q,k.prototype),q.isPureReactComponent=!0;var K=Array.isArray,z={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function O(D,W,se,J,ae,Z){return se=Z.ref,{$$typeof:i,type:D,key:W,ref:se!==void 0?se:null,props:Z}}function I(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function M(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return W[se]})}var P=/\/+/g;function U(D,W){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):W.toString(36)}function x(){}function be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ee(D,W,se,J,ae){var Z=typeof D;(Z==="undefined"||Z==="boolean")&&(D=null);var me=!1;if(D===null)me=!0;else switch(Z){case"bigint":case"string":case"number":me=!0;break;case"object":switch(D.$$typeof){case i:case e:me=!0;break;case _:return me=D._init,Ee(me(D._payload),W,se,J,ae)}}if(me)return ae=ae(D),me=J===""?"."+U(D,0):J,K(ae)?(se="",me!=null&&(se=me.replace(P,"$&/")+"/"),Ee(ae,W,se,"",function(Ne){return Ne})):ae!=null&&(w(ae)&&(ae=I(ae,se+(ae.key==null||D&&D.key===ae.key?"":(""+ae.key).replace(P,"$&/")+"/")+me)),W.push(ae)),1;me=0;var Ae=J===""?".":J+":";if(K(D))for(var ve=0;ve<D.length;ve++)J=D[ve],Z=Ae+U(J,ve),me+=Ee(J,W,se,Z,ae);else if(ve=T(D),typeof ve=="function")for(D=ve.call(D),ve=0;!(J=D.next()).done;)J=J.value,Z=Ae+U(J,ve++),me+=Ee(J,W,se,Z,ae);else if(Z==="object"){if(typeof D.then=="function")return Ee(be(D),W,se,J,ae);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function oe(D,W,se){if(D==null)return D;var J=[],ae=0;return Ee(D,J,"","",function(Z){return W.call(se,Z,ae++)}),J}function pe(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Te(){}return Ve.Children={map:oe,forEach:function(D,W,se){oe(D,function(){W.apply(this,arguments)},se)},count:function(D){var W=0;return oe(D,function(){W++}),W},toArray:function(D){return oe(D,function(W){return W})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ve.Component=k,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=G,Ve.StrictMode=r,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ve.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.cache=function(D){return function(){return D.apply(null,arguments)}},Ve.cloneElement=function(D,W,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=A({},D.props),ae=D.key,Z=void 0;if(W!=null)for(me in W.ref!==void 0&&(Z=void 0),W.key!==void 0&&(ae=""+W.key),W)!Y.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(J[me]=W[me]);var me=arguments.length-2;if(me===1)J.children=se;else if(1<me){for(var Ae=Array(me),ve=0;ve<me;ve++)Ae[ve]=arguments[ve+2];J.children=Ae}return O(D.type,ae,void 0,void 0,Z,J)},Ve.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ve.createElement=function(D,W,se){var J,ae={},Z=null;if(W!=null)for(J in W.key!==void 0&&(Z=""+W.key),W)Y.call(W,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ae[J]=W[J]);var me=arguments.length-2;if(me===1)ae.children=se;else if(1<me){for(var Ae=Array(me),ve=0;ve<me;ve++)Ae[ve]=arguments[ve+2];ae.children=Ae}if(D&&D.defaultProps)for(J in me=D.defaultProps,me)ae[J]===void 0&&(ae[J]=me[J]);return O(D,Z,void 0,void 0,null,ae)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(D){return{$$typeof:d,render:D}},Ve.isValidElement=w,Ve.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:pe}},Ve.memo=function(D,W){return{$$typeof:m,type:D,compare:W===void 0?null:W}},Ve.startTransition=function(D){var W=z.T,se={};z.T=se;try{var J=D(),ae=z.S;ae!==null&&ae(se,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Te,fe)}catch(Z){fe(Z)}finally{z.T=W}},Ve.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ve.use=function(D){return z.H.use(D)},Ve.useActionState=function(D,W,se){return z.H.useActionState(D,W,se)},Ve.useCallback=function(D,W){return z.H.useCallback(D,W)},Ve.useContext=function(D){return z.H.useContext(D)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(D,W){return z.H.useDeferredValue(D,W)},Ve.useEffect=function(D,W){return z.H.useEffect(D,W)},Ve.useId=function(){return z.H.useId()},Ve.useImperativeHandle=function(D,W,se){return z.H.useImperativeHandle(D,W,se)},Ve.useInsertionEffect=function(D,W){return z.H.useInsertionEffect(D,W)},Ve.useLayoutEffect=function(D,W){return z.H.useLayoutEffect(D,W)},Ve.useMemo=function(D,W){return z.H.useMemo(D,W)},Ve.useOptimistic=function(D,W){return z.H.useOptimistic(D,W)},Ve.useReducer=function(D,W,se){return z.H.useReducer(D,W,se)},Ve.useRef=function(D){return z.H.useRef(D)},Ve.useState=function(D){return z.H.useState(D)},Ve.useSyncExternalStore=function(D,W,se){return z.H.useSyncExternalStore(D,W,se)},Ve.useTransition=function(){return z.H.useTransition()},Ve.version="19.0.0",Ve}var j_;function wg(){return j_||(j_=1,Cp.exports=wA()),Cp.exports}var v=wg(),Ap={exports:{}},Jl={},Rp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function CA(){return z_||(z_=1,function(i){function e(oe,pe){var fe=oe.length;oe.push(pe);e:for(;0<fe;){var Te=fe-1>>>1,D=oe[Te];if(0<a(D,pe))oe[Te]=pe,oe[fe]=D,fe=Te;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var pe=oe[0],fe=oe.pop();if(fe!==pe){oe[0]=fe;e:for(var Te=0,D=oe.length,W=D>>>1;Te<W;){var se=2*(Te+1)-1,J=oe[se],ae=se+1,Z=oe[ae];if(0>a(J,fe))ae<D&&0>a(Z,J)?(oe[Te]=Z,oe[ae]=fe,Te=ae):(oe[Te]=J,oe[se]=fe,Te=se);else if(ae<D&&0>a(Z,fe))oe[Te]=Z,oe[ae]=fe,Te=ae;else break e}}return pe}function a(oe,pe){var fe=oe.sortIndex-pe.sortIndex;return fe!==0?fe:oe.id-pe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],m=[],_=1,S=null,T=3,C=!1,A=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function q(oe){for(var pe=t(m);pe!==null;){if(pe.callback===null)r(m);else if(pe.startTime<=oe)r(m),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(m)}}function K(oe){if(V=!1,q(oe),!A)if(t(p)!==null)A=!0,be();else{var pe=t(m);pe!==null&&Ee(K,pe.startTime-oe)}}var z=!1,Y=-1,O=5,I=-1;function w(){return!(i.unstable_now()-I<O)}function M(){if(z){var oe=i.unstable_now();I=oe;var pe=!0;try{e:{A=!1,V&&(V=!1,B(Y),Y=-1),C=!0;var fe=T;try{t:{for(q(oe),S=t(p);S!==null&&!(S.expirationTime>oe&&w());){var Te=S.callback;if(typeof Te=="function"){S.callback=null,T=S.priorityLevel;var D=Te(S.expirationTime<=oe);if(oe=i.unstable_now(),typeof D=="function"){S.callback=D,q(oe),pe=!0;break t}S===t(p)&&r(p),q(oe)}else r(p);S=t(p)}if(S!==null)pe=!0;else{var W=t(m);W!==null&&Ee(K,W.startTime-oe),pe=!1}}break e}finally{S=null,T=fe,C=!1}pe=void 0}}finally{pe?P():z=!1}}}var P;if(typeof G=="function")P=function(){G(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,x=U.port2;U.port1.onmessage=M,P=function(){x.postMessage(null)}}else P=function(){k(M,0)};function be(){z||(z=!0,P())}function Ee(oe,pe){Y=k(function(){oe(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oe){oe.callback=null},i.unstable_continueExecution=function(){A||C||(A=!0,be())},i.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<oe?Math.floor(1e3/oe):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var fe=T;T=pe;try{return oe()}finally{T=fe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oe,pe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var fe=T;T=oe;try{return pe()}finally{T=fe}},i.unstable_scheduleCallback=function(oe,pe,fe){var Te=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Te+fe:Te):fe=Te,oe){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,oe={id:_++,callback:pe,priorityLevel:oe,startTime:fe,expirationTime:D,sortIndex:-1},fe>Te?(oe.sortIndex=fe,e(m,oe),t(p)===null&&oe===t(m)&&(V?(B(Y),Y=-1):V=!0,Ee(K,fe-Te))):(oe.sortIndex=D,e(p,oe),A||C||(A=!0,be())),oe},i.unstable_shouldYield=w,i.unstable_wrapCallback=function(oe){var pe=T;return function(){var fe=T;T=pe;try{return oe.apply(this,arguments)}finally{T=fe}}}}(Lp)),Lp}var B_;function AA(){return B_||(B_=1,Rp.exports=CA()),Rp.exports}var Ip={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function RA(){if(H_)return on;H_=1;var i=wg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:p,containerInfo:m,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,_)},on.flushSync=function(p){var m=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=_,r.d.f()}},on.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},on.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},on.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,S=d(_,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:C}):_==="script"&&r.d.X(p,{crossOrigin:S,integrity:T,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},on.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,S=d(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},on.requestFormReset=function(p){r.d.r(p)},on.unstable_batchedUpdates=function(p,m){return p(m)},on.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.0.0",on}var q_;function Hb(){if(q_)return Ip.exports;q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ip.exports=RA(),Ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function LA(){if(F_)return Jl;F_=1;var i=AA(),e=wg(),t=Hb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),K=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Y(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case _:return"Profiler";case m:return"StrictMode";case V:return"Suspense";case k:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case T:return(n._context.displayName||"Context")+".Consumer";case A:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case B:return s=n.displayName||null,s!==null?s:I(n.type)||"Memo";case G:s=n._payload,n=n._init;try{return I(n(s))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,P,U;function x(n){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||"",U=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+U}var be=!1;function Ee(n,s){if(!n||be)return"";be=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var ee=ie}Reflect.construct(n,[],he)}else{try{he.call()}catch(ie){ee=ie}n.call(he.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(he=n())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],R=g[1];if(b&&R){var N=b.split(`
`),F=R.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===F.length)for(u=N.length-1,f=F.length-1;1<=u&&0<=f&&N[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==F[f]){var re=`
`+N[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=f);break}}}finally{be=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?x(o):""}function oe(n){switch(n.tag){case 26:case 27:case 5:return x(n.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return n=Ee(n.type,!1),n;case 11:return n=Ee(n.type.render,!1),n;case 1:return n=Ee(n.type,!0),n;default:return""}}function pe(n){try{var s="";do s+=oe(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fe(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function Te(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function D(n){if(fe(n)!==n)throw Error(r(188))}function W(n){var s=n.alternate;if(!s){if(s=fe(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return D(f),n;if(g===u)return D(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,R=f.child;R;){if(R===o){b=!0,o=f,u=g;break}if(R===u){b=!0,u=f,o=g;break}R=R.sibling}if(!b){for(R=g.child;R;){if(R===o){b=!0,o=g,u=f;break}if(R===u){b=!0,u=g,o=f;break}R=R.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function se(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=se(n),s!==null)return s;n=n.sibling}return null}var J=Array.isArray,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},me=[],Ae=-1;function ve(n){return{current:n}}function Ne(n){0>Ae||(n.current=me[Ae],me[Ae]=null,Ae--)}function ge(n,s){Ae++,me[Ae]=n.current,n.current=s}var Me=ve(null),wt=ve(null),yt=ve(null),_n=ve(null);function He(n,s){switch(ge(yt,s),ge(wt,n),ge(Me,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?h_(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=h_(n),s=f_(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ne(Me),ge(Me,s)}function Un(){Ne(Me),Ne(wt),Ne(yt)}function mi(n){n.memoizedState!==null&&ge(_n,n);var s=Me.current,o=f_(s,n.type);s!==o&&(ge(wt,n),ge(Me,o))}function Ki(n){wt.current===n&&(Ne(Me),Ne(wt)),_n.current===n&&(Ne(_n),$l._currentValue=Z)}var si=Object.prototype.hasOwnProperty,vi=i.unstable_scheduleCallback,ai=i.unstable_cancelCallback,Da=i.unstable_shouldYield,yi=i.unstable_requestPaint,Wt=i.unstable_now,Hs=i.unstable_getCurrentPriorityLevel,_t=i.unstable_ImmediatePriority,ft=i.unstable_UserBlockingPriority,jn=i.unstable_NormalPriority,$i=i.unstable_LowPriority,Pr=i.unstable_IdlePriority,Nr=i.log,_i=i.unstable_setDisableYieldValue,wn=null,xt=null;function Ei(n){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}}function Cn(n){if(typeof Nr=="function"&&_i(n),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(wn,n)}catch{}}var Rt=Math.clz32?Math.clz32:qs,Vr=Math.log,Qi=Math.LN2;function qs(n){return n>>>=0,n===0?32:31-(Vr(n)/Qi|0)|0}var An=128,oi=4194304;function sn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pn(n,s){var o=n.pendingLanes;if(o===0)return 0;var u=0,f=n.suspendedLanes,g=n.pingedLanes,b=n.warmLanes;n=n.finishedLanes!==0;var R=o&134217727;return R!==0?(o=R&~f,o!==0?u=sn(o):(g&=R,g!==0?u=sn(g):n||(b=R&~b,b!==0&&(u=sn(b))))):(R=o&~f,R!==0?u=sn(R):g!==0?u=sn(g):n||(b=o&~b,b!==0&&(u=sn(b)))),u===0?0:s!==0&&s!==u&&(s&f)===0&&(f=u&-u,b=s&-s,f>=b||f===32&&(b&4194176)!==0)?s:u}function Rn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Yi(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(){var n=An;return An<<=1,(An&4194176)===0&&(An=128),n}function li(){var n=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),n}function Ur(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function ot(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function De(n,s,o,u,f,g){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var R=n.entanglements,N=n.expirationTimes,F=n.hiddenUpdates;for(o=b&~o;0<o;){var re=31-Rt(o),he=1<<re;R[re]=0,N[re]=-1;var ee=F[re];if(ee!==null)for(F[re]=null,re=0;re<ee.length;re++){var ie=ee[re];ie!==null&&(ie.lane&=-536870913)}o&=~he}u!==0&&jr(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(b&~s))}function jr(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Rt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194218}function zr(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Rt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Fu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gu(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:M_(n.type))}function Br(n,s){var o=ae.p;try{return ae.p=n,s()}finally{ae.p=o}}var Si=Math.random().toString(36).slice(2),qt="__reactFiber$"+Si,kt="__reactProps$"+Si,Wi="__reactContainer$"+Si,Fs="__reactEvents$"+Si,xa="__reactListeners$"+Si,Ti="__reactHandles$"+Si,Jo="__reactResources$"+Si,Hr="__reactMarker$"+Si;function Gs(n){delete n[qt],delete n[kt],delete n[Fs],delete n[xa],delete n[Ti]}function ui(n){var s=n[qt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Wi]||o[qt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=g_(n);n!==null;){if(o=n[qt])return o;n=g_(n)}return s}n=o,o=n.parentNode}return null}function Zi(n){if(n=n[qt]||n[Wi]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function qr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Fr(n){var s=n[Jo];return s||(s=n[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(n){n[Hr]=!0}var el=new Set,ka={};function Ln(n,s){En(n,s),En(n+"Capture",s)}function En(n,s){for(ka[n]=s,n=0;n<s.length;n++)el.add(s[n])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function Ku(n){return si.call(nl,n)?!0:si.call(tl,n)?!1:Lf.test(n)?nl[n]=!0:(tl[n]=!0,!1)}function Gr(n,s,o){if(Ku(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Kr(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function zn(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $u(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function If(n){var s=$u(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ks(n){n._valueTracker||(n._valueTracker=If(n))}function il(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=$u(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Pa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Xi=/[\n"\\]/g;function Et(n){return n.replace(Xi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $r(n,s,o,u,f,g,b,R){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+gn(s)):n.value!==""+gn(s)&&(n.value=""+gn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Na(n,b,gn(s)):o!=null?Na(n,b,gn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+gn(R):n.removeAttribute("name")}function $s(n,s,o,u,f,g,b,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+gn(o):"",s=s!=null?""+gn(s):o,R||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=R?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Na(n,s,o){s==="number"&&Pa(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Je(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+gn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Qs(n,s,o){if(s!=null&&(s=""+gn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+gn(o):""}function Qr(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(J(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=gn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Bn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Mf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Mf.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Qu(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&rl(n,f,u)}else for(var g in s)s.hasOwnProperty(g)&&rl(n,g,s[g])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(n){return Df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hn=null;function Va(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ji=null,er=null;function tr(n){var s=Zi(n);if(s&&(n=s.stateNode)){var o=n[kt]||null;e:switch(n=s.stateNode,s.type){case"input":if($r(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Et(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[kt]||null;if(!f)throw Error(r(90));$r(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&il(u)}break e;case"textarea":Qs(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Je(n,!!o.multiple,s,!1)}}}var al=!1;function Yu(n,s,o){if(al)return n(s,o);al=!0;try{var u=n(s);return u}finally{if(al=!1,(Ji!==null||er!==null)&&(zc(),Ji&&(s=Ji,n=er,er=Ji=null,tr(s),n)))for(s=0;s<n.length;s++)tr(n[s])}}function Ys(n,s){var o=n.stateNode;if(o===null)return null;var u=o[kt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var qn=!1;if(In)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{qn=!1}var Ci=null,Yr=null,nr=null;function ol(){if(nr)return nr;var n,s=Yr,o=s.length,u,f="value"in Ci?Ci.value:Ci.textContent,g=f.length;for(n=0;n<o&&s[n]===f[n];n++);var b=o-n;for(u=1;u<=b&&s[o-u]===f[g-u];u++);return nr=f.slice(n,1<u?1-u:void 0)}function Ai(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ri(){return!0}function ll(){return!1}function Ft(n){function s(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(o=n[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ri:ll,this.isPropagationStopped=ll,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),s}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Ft(it),Zs=M({},it,{view:0,detail:0}),Wu=Ft(Zs),ja,za,Li,Xs=M({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Li&&(Li&&n.type==="mousemove"?(ja=n.screenX-Li.screenX,za=n.screenY-Li.screenY):za=ja=0,Li=n),ja)},movementY:function(n){return"movementY"in n?n.movementY:za}}),Fn=Ft(Xs),Zu=M({},Xs,{dataTransfer:0}),xf=Ft(Zu),Js=M({},Zs,{relatedTarget:0}),Ba=Ft(Js),ul=M({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=Ft(ul),Xu=M({},it,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qa=Ft(Xu),kf=M({},it,{data:0}),cl=Ft(kf),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ec[n])?!!s[n]:!1}function ta(){return hl}var tc=M({},Zs,{key:function(n){if(n.key){var s=ea[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ju[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(n){return n.type==="keypress"?Ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fa=Ft(tc),nc=M({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ft(nc),ir=M({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),ic=Ft(ir),rc=M({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=Ft(rc),ac=M({},Xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Ft(ac),mn=M({},it,{newState:0,oldState:0}),oc=Ft(mn),lc=[9,13,27,32],Ii=In&&"CompositionEvent"in window,h=null;In&&"documentMode"in document&&(h=document.documentMode);var y=In&&"TextEvent"in window&&!h,E=In&&(!Ii||h&&8<h&&11>=h),L=" ",Q=!1;function te(n,s){switch(n){case"keyup":return lc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ye=!1;function Pt(n,s){switch(n){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(Q=!0,L);case"textInput":return n=s.data,n===L&&Q?null:n;default:return null}}function We(n,s){if(Ye)return n==="compositionend"||!Ii&&te(n,s)?(n=ol(),nr=Yr=Ci=null,Ye=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Gt[n.type]:s==="textarea"}function rr(n,s,o,u){Ji?er?er.push(u):er=[u]:Ji=u,s=Gc(s,"onChange"),0<s.length&&(o=new Ua("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Zt=null,Mi=null;function dl(n){a_(n,0)}function uc(n){var s=qr(n);if(il(s))return n}function Pm(n,s){if(n==="change")return s}var Nm=!1;if(In){var Pf;if(In){var Nf="oninput"in document;if(!Nf){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),Nf=typeof Vm.oninput=="function"}Pf=Nf}else Pf=!1;Nm=Pf&&(!document.documentMode||9<document.documentMode)}function Um(){Zt&&(Zt.detachEvent("onpropertychange",jm),Mi=Zt=null)}function jm(n){if(n.propertyName==="value"&&uc(Mi)){var s=[];rr(s,Mi,n,Va(n)),Yu(dl,s)}}function Xw(n,s,o){n==="focusin"?(Um(),Zt=s,Mi=o,Zt.attachEvent("onpropertychange",jm)):n==="focusout"&&Um()}function Jw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uc(Mi)}function eC(n,s){if(n==="click")return uc(s)}function tC(n,s){if(n==="input"||n==="change")return uc(s)}function nC(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mn=typeof Object.is=="function"?Object.is:nC;function pl(n,s){if(Mn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!si.call(s,f)||!Mn(n[f],s[f]))return!1}return!0}function zm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bm(n,s){var o=zm(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zm(o)}}function Hm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Hm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function qm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Pa(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Pa(n.document)}return s}function Vf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function iC(n,s){var o=qm(s);s=n.focusedElem;var u=n.selectionRange;if(o!==s&&s&&s.ownerDocument&&Hm(s.ownerDocument.documentElement,s)){if(u!==null&&Vf(s)){if(n=u.start,o=u.end,o===void 0&&(o=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(o,s.value.length);else if(o=(n=s.ownerDocument||document)&&n.defaultView||window,o.getSelection){o=o.getSelection();var f=s.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!o.extend&&g>u&&(f=u,u=g,g=f),f=Bm(s,g);var b=Bm(s,u);f&&b&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),o.removeAllRanges(),g>u?(o.addRange(n),o.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),o.addRange(n)))}}for(n=[],o=s;o=o.parentNode;)o.nodeType===1&&n.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)o=n[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var rC=In&&"documentMode"in document&&11>=document.documentMode,Ka=null,Uf=null,gl=null,jf=!1;function Fm(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jf||Ka==null||Ka!==Pa(u)||(u=Ka,"selectionStart"in u&&Vf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),gl&&pl(gl,u)||(gl=u,u=Gc(Uf,"onSelect"),0<u.length&&(s=new Ua("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Ka)))}function na(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var $a={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},zf={},Gm={};In&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ia(n){if(zf[n])return zf[n];if(!$a[n])return n;var s=$a[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Gm)return zf[n]=s[o];return n}var Km=ia("animationend"),$m=ia("animationiteration"),Qm=ia("animationstart"),sC=ia("transitionrun"),aC=ia("transitionstart"),oC=ia("transitioncancel"),Ym=ia("transitionend"),Wm=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ci(n,s){Wm.set(n,s),Ln(s,[n])}var Gn=[],Qa=0,Bf=0;function cc(){for(var n=Qa,s=Bf=Qa=0;s<n;){var o=Gn[s];Gn[s++]=null;var u=Gn[s];Gn[s++]=null;var f=Gn[s];Gn[s++]=null;var g=Gn[s];if(Gn[s++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Xm(o,f,g)}}function hc(n,s,o,u){Gn[Qa++]=n,Gn[Qa++]=s,Gn[Qa++]=o,Gn[Qa++]=u,Bf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hf(n,s,o,u){return hc(n,s,o,u),fc(n)}function Wr(n,s){return hc(n,null,null,s),fc(n)}function Xm(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;f&&s!==null&&n.tag===3&&(g=n.stateNode,f=31-Rt(o),g=g.hiddenUpdates,n=g[f],n===null?g[f]=[s]:n.push(s),s.lane=o|536870912)}function fc(n){if(50<zl)throw zl=0,Qd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ya={},Jm=new WeakMap;function Kn(n,s){if(typeof n=="object"&&n!==null){var o=Jm.get(n);return o!==void 0?o:(s={value:n,source:s,stack:pe(s)},Jm.set(n,s),s)}return{value:n,source:s,stack:pe(s)}}var Wa=[],Za=0,dc=null,pc=0,$n=[],Qn=0,ra=null,sr=1,ar="";function sa(n,s){Wa[Za++]=pc,Wa[Za++]=dc,dc=n,pc=s}function ev(n,s,o){$n[Qn++]=sr,$n[Qn++]=ar,$n[Qn++]=ra,ra=n;var u=sr;n=ar;var f=32-Rt(u)-1;u&=~(1<<f),o+=1;var g=32-Rt(s)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,sr=1<<32-Rt(s)+f|o<<f|u,ar=g+n}else sr=1<<g|o<<f|u,ar=n}function qf(n){n.return!==null&&(sa(n,1),ev(n,1,0))}function Ff(n){for(;n===dc;)dc=Wa[--Za],Wa[Za]=null,pc=Wa[--Za],Wa[Za]=null;for(;n===ra;)ra=$n[--Qn],$n[Qn]=null,ar=$n[--Qn],$n[Qn]=null,sr=$n[--Qn],$n[Qn]=null}var vn=null,Xt=null,et=!1,hi=null,Oi=!1,Gf=Error(r(519));function aa(n){var s=Error(r(418,""));throw yl(Kn(s,n)),Gf}function tv(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[qt]=n,s[kt]=u,o){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(o=0;o<Hl.length;o++)$e(Hl[o],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),$s(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ks(s);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),Qr(s,u.value,u.defaultValue,u.children),Ks(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||c_(s.textContent,o)?(u.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),u.onScroll!=null&&$e("scroll",s),u.onScrollEnd!=null&&$e("scrollend",s),u.onClick!=null&&(s.onclick=Kc),s=!0):s=!1,s||aa(n)}function nv(n){for(vn=n.return;vn;)switch(vn.tag){case 3:case 27:Oi=!0;return;case 5:case 13:Oi=!1;return;default:vn=vn.return}}function ml(n){if(n!==vn)return!1;if(!et)return nv(n),et=!0,!1;var s=!1,o;if((o=n.tag!==3&&n.tag!==27)&&((o=n.tag===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||hp(n.type,n.memoizedProps)),o=!o),o&&(s=!0),s&&Xt&&aa(n),nv(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){Xt=di(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}Xt=null}}else Xt=vn?di(n.stateNode.nextSibling):null;return!0}function vl(){Xt=vn=null,et=!1}function yl(n){hi===null?hi=[n]:hi.push(n)}var _l=Error(r(460)),iv=Error(r(474)),Kf={then:function(){}};function rv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gc(){}function sv(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(gc,gc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===_l?Error(r(483)):n;default:if(typeof s.status=="string")s.then(gc,gc);else{if(n=ut,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===_l?Error(r(483)):n}throw El=s,_l}}var El=null;function av(){if(El===null)throw Error(r(459));var n=El;return El=null,n}var Xa=null,bl=0;function mc(n){var s=bl;return bl+=1,Xa===null&&(Xa=[]),sv(Xa,n,s)}function Sl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function vc(n,s){throw s.$$typeof===l?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ov(n){var s=n._init;return s(n._payload)}function lv(n){function s($,H){if(n){var X=$.deletions;X===null?($.deletions=[H],$.flags|=16):X.push(H)}}function o($,H){if(!n)return null;for(;H!==null;)s($,H),H=H.sibling;return null}function u($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function f($,H){return $=ls($,H),$.index=0,$.sibling=null,$}function g($,H,X){return $.index=X,n?(X=$.alternate,X!==null?(X=X.index,X<H?($.flags|=33554434,H):X):($.flags|=33554434,H)):($.flags|=1048576,H)}function b($){return n&&$.alternate===null&&($.flags|=33554434),$}function R($,H,X,le){return H===null||H.tag!==6?(H=zd(X,$.mode,le),H.return=$,H):(H=f(H,X),H.return=$,H)}function N($,H,X,le){var Se=X.type;return Se===p?re($,H,X.props.children,le,X.key):H!==null&&(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===G&&ov(Se)===H.type)?(H=f(H,X.props),Sl(H,X),H.return=$,H):(H=Pc(X.type,X.key,X.props,null,$.mode,le),Sl(H,X),H.return=$,H)}function F($,H,X,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Bd(X,$.mode,le),H.return=$,H):(H=f(H,X.children||[]),H.return=$,H)}function re($,H,X,le,Se){return H===null||H.tag!==7?(H=ma(X,$.mode,le,Se),H.return=$,H):(H=f(H,X),H.return=$,H)}function he($,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=zd(""+H,$.mode,X),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return X=Pc(H.type,H.key,H.props,null,$.mode,X),Sl(X,H),X.return=$,X;case d:return H=Bd(H,$.mode,X),H.return=$,H;case G:var le=H._init;return H=le(H._payload),he($,H,X)}if(J(H)||Y(H))return H=ma(H,$.mode,X,null),H.return=$,H;if(typeof H.then=="function")return he($,mc(H),X);if(H.$$typeof===C)return he($,Dc($,H),X);vc($,H)}return null}function ee($,H,X,le){var Se=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Se!==null?null:R($,H,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return X.key===Se?N($,H,X,le):null;case d:return X.key===Se?F($,H,X,le):null;case G:return Se=X._init,X=Se(X._payload),ee($,H,X,le)}if(J(X)||Y(X))return Se!==null?null:re($,H,X,le,null);if(typeof X.then=="function")return ee($,H,mc(X),le);if(X.$$typeof===C)return ee($,H,Dc($,X),le);vc($,X)}return null}function ie($,H,X,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(X)||null,R(H,$,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return $=$.get(le.key===null?X:le.key)||null,N(H,$,le,Se);case d:return $=$.get(le.key===null?X:le.key)||null,F(H,$,le,Se);case G:var ze=le._init;return le=ze(le._payload),ie($,H,X,le,Se)}if(J(le)||Y(le))return $=$.get(X)||null,re(H,$,le,Se,null);if(typeof le.then=="function")return ie($,H,X,mc(le),Se);if(le.$$typeof===C)return ie($,H,X,Dc(H,le),Se);vc(H,le)}return null}function we($,H,X,le){for(var Se=null,ze=null,Ce=H,Le=H=0,Qt=null;Ce!==null&&Le<X.length;Le++){Ce.index>Le?(Qt=Ce,Ce=null):Qt=Ce.sibling;var tt=ee($,Ce,X[Le],le);if(tt===null){Ce===null&&(Ce=Qt);break}n&&Ce&&tt.alternate===null&&s($,Ce),H=g(tt,H,Le),ze===null?Se=tt:ze.sibling=tt,ze=tt,Ce=Qt}if(Le===X.length)return o($,Ce),et&&sa($,Le),Se;if(Ce===null){for(;Le<X.length;Le++)Ce=he($,X[Le],le),Ce!==null&&(H=g(Ce,H,Le),ze===null?Se=Ce:ze.sibling=Ce,ze=Ce);return et&&sa($,Le),Se}for(Ce=u(Ce);Le<X.length;Le++)Qt=ie(Ce,$,Le,X[Le],le),Qt!==null&&(n&&Qt.alternate!==null&&Ce.delete(Qt.key===null?Le:Qt.key),H=g(Qt,H,Le),ze===null?Se=Qt:ze.sibling=Qt,ze=Qt);return n&&Ce.forEach(function(gs){return s($,gs)}),et&&sa($,Le),Se}function ke($,H,X,le){if(X==null)throw Error(r(151));for(var Se=null,ze=null,Ce=H,Le=H=0,Qt=null,tt=X.next();Ce!==null&&!tt.done;Le++,tt=X.next()){Ce.index>Le?(Qt=Ce,Ce=null):Qt=Ce.sibling;var gs=ee($,Ce,tt.value,le);if(gs===null){Ce===null&&(Ce=Qt);break}n&&Ce&&gs.alternate===null&&s($,Ce),H=g(gs,H,Le),ze===null?Se=gs:ze.sibling=gs,ze=gs,Ce=Qt}if(tt.done)return o($,Ce),et&&sa($,Le),Se;if(Ce===null){for(;!tt.done;Le++,tt=X.next())tt=he($,tt.value,le),tt!==null&&(H=g(tt,H,Le),ze===null?Se=tt:ze.sibling=tt,ze=tt);return et&&sa($,Le),Se}for(Ce=u(Ce);!tt.done;Le++,tt=X.next())tt=ie(Ce,$,Le,tt.value,le),tt!==null&&(n&&tt.alternate!==null&&Ce.delete(tt.key===null?Le:tt.key),H=g(tt,H,Le),ze===null?Se=tt:ze.sibling=tt,ze=tt);return n&&Ce.forEach(function(bA){return s($,bA)}),et&&sa($,Le),Se}function Tt($,H,X,le){if(typeof X=="object"&&X!==null&&X.type===p&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case c:e:{for(var Se=X.key;H!==null;){if(H.key===Se){if(Se=X.type,Se===p){if(H.tag===7){o($,H.sibling),le=f(H,X.props.children),le.return=$,$=le;break e}}else if(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===G&&ov(Se)===H.type){o($,H.sibling),le=f(H,X.props),Sl(le,X),le.return=$,$=le;break e}o($,H);break}else s($,H);H=H.sibling}X.type===p?(le=ma(X.props.children,$.mode,le,X.key),le.return=$,$=le):(le=Pc(X.type,X.key,X.props,null,$.mode,le),Sl(le,X),le.return=$,$=le)}return b($);case d:e:{for(Se=X.key;H!==null;){if(H.key===Se)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o($,H.sibling),le=f(H,X.children||[]),le.return=$,$=le;break e}else{o($,H);break}else s($,H);H=H.sibling}le=Bd(X,$.mode,le),le.return=$,$=le}return b($);case G:return Se=X._init,X=Se(X._payload),Tt($,H,X,le)}if(J(X))return we($,H,X,le);if(Y(X)){if(Se=Y(X),typeof Se!="function")throw Error(r(150));return X=Se.call(X),ke($,H,X,le)}if(typeof X.then=="function")return Tt($,H,mc(X),le);if(X.$$typeof===C)return Tt($,H,Dc($,X),le);vc($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o($,H.sibling),le=f(H,X),le.return=$,$=le):(o($,H),le=zd(X,$.mode,le),le.return=$,$=le),b($)):o($,H)}return function($,H,X,le){try{bl=0;var Se=Tt($,H,X,le);return Xa=null,Se}catch(Ce){if(Ce===_l)throw Ce;var ze=Xn(29,Ce,null,$.mode);return ze.lanes=le,ze.return=$,ze}finally{}}}var oa=lv(!0),uv=lv(!1),Ja=ve(null),yc=ve(0);function cv(n,s){n=vr,ge(yc,n),ge(Ja,s),vr=n|s.baseLanes}function $f(){ge(yc,vr),ge(Ja,Ja.current)}function Qf(){vr=yc.current,Ne(Ja),Ne(yc)}var Yn=ve(null),Di=null;function Zr(n){var s=n.alternate;ge(Vt,Vt.current&1),ge(Yn,n),Di===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(Di=n)}function hv(n){if(n.tag===22){if(ge(Vt,Vt.current),ge(Yn,n),Di===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Di=n)}}else Xr()}function Xr(){ge(Vt,Vt.current),ge(Yn,Yn.current)}function or(n){Ne(Yn),Di===n&&(Di=null),Ne(Vt)}var Vt=ve(0);function _c(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var lC=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},uC=i.unstable_scheduleCallback,cC=i.unstable_NormalPriority,Ut={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new lC,data:new Map,refCount:0}}function Tl(n){n.refCount--,n.refCount===0&&uC(cC,function(){n.controller.abort()})}var wl=null,Wf=0,eo=0,to=null;function hC(n,s){if(wl===null){var o=wl=[];Wf=0,eo=np(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wf++,s.then(fv,fv),s}function fv(){if(--Wf===0&&wl!==null){to!==null&&(to.status="fulfilled");var n=wl;wl=null,eo=0,to=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function fC(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var dv=w.S;w.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&hC(n,s),dv!==null&&dv(n,s)};var la=ve(null);function Zf(){var n=la.current;return n!==null?n:ut.pooledCache}function Ec(n,s){s===null?ge(la,la.current):ge(la,s.pool)}function pv(){var n=Zf();return n===null?null:{parent:Ut._currentValue,pool:n}}var Jr=0,je=null,st=null,Lt=null,bc=!1,no=!1,ua=!1,Sc=0,Cl=0,io=null,dC=0;function Ct(){throw Error(r(321))}function Xf(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Mn(n[o],s[o]))return!1;return!0}function Jf(n,s,o,u,f,g){return Jr=g,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,w.H=n===null||n.memoizedState===null?ca:es,ua=!1,g=o(u,f),ua=!1,no&&(g=mv(s,o,u,f)),gv(n),g}function gv(n){w.H=xi;var s=st!==null&&st.next!==null;if(Jr=0,Lt=st=je=null,bc=!1,Cl=0,io=null,s)throw Error(r(300));n===null||Kt||(n=n.dependencies,n!==null&&Oc(n)&&(Kt=!0))}function mv(n,s,o,u){je=n;var f=0;do{if(no&&(io=null),Cl=0,no=!1,25<=f)throw Error(r(301));if(f+=1,Lt=st=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}w.H=ha,g=s(o,u)}while(no);return g}function pC(){var n=w.H,s=n.useState()[0];return s=typeof s.then=="function"?Al(s):s,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(je.flags|=1024),s}function ed(){var n=Sc!==0;return Sc=0,n}function td(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function nd(n){if(bc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}bc=!1}Jr=0,Lt=st=je=null,no=!1,Cl=Sc=0,io=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?je.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function It(){if(st===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var s=Lt===null?je.memoizedState:Lt.next;if(s!==null)Lt=s,st=n;else{if(n===null)throw je.alternate===null?Error(r(467)):Error(r(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Lt===null?je.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}var Tc;Tc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Al(n){var s=Cl;return Cl+=1,io===null&&(io=[]),n=sv(io,n,s),s=je,(Lt===null?s.memoizedState:Lt.next)===null&&(s=s.alternate,w.H=s===null||s.memoizedState===null?ca:es),n}function wc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===C)return an(n)}throw Error(r(438,String(n)))}function id(n){var s=null,o=je.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Tc(),je.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=K;return s.index++,o}function lr(n,s){return typeof s=="function"?s(n):s}function Cc(n){var s=It();return rd(s,st,n)}function rd(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}s.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var R=b=null,N=null,F=s,re=!1;do{var he=F.lane&-536870913;if(he!==F.lane?(Ze&he)===he:(Jr&he)===he){var ee=F.revertLane;if(ee===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),he===eo&&(re=!0);else if((Jr&ee)===ee){F=F.next,ee===eo&&(re=!0);continue}else he={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(R=N=he,b=g):N=N.next=he,je.lanes|=ee,us|=ee;he=F.action,ua&&o(g,he),g=F.hasEagerState?F.eagerState:o(g,he)}else ee={lane:he,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(R=N=ee,b=g):N=N.next=ee,je.lanes|=he,us|=he;F=F.next}while(F!==null&&F!==s);if(N===null?b=g:N.next=R,!Mn(g,n.memoizedState)&&(Kt=!0,re&&(o=to,o!==null)))throw o;n.memoizedState=g,n.baseState=b,n.baseQueue=N,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function sd(n){var s=It(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=n(g,b.action),b=b.next;while(b!==f);Mn(g,s.memoizedState)||(Kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function vv(n,s,o){var u=je,f=It(),g=et;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Mn((st||f).memoizedState,o);if(b&&(f.memoizedState=o,Kt=!0),f=f.queue,ld(Ev.bind(null,u,f,n),[n]),f.getSnapshot!==s||b||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,ro(9,_v.bind(null,u,f,o,s),{destroy:void 0},null),ut===null)throw Error(r(349));g||(Jr&60)!==0||yv(u,s,o)}return o}function yv(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=je.updateQueue,s===null?(s=Tc(),je.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function _v(n,s,o,u){s.value=o,s.getSnapshot=u,bv(s)&&Sv(n)}function Ev(n,s,o){return o(function(){bv(s)&&Sv(n)})}function bv(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Mn(n,o)}catch{return!0}}function Sv(n){var s=Wr(n,2);s!==null&&yn(s,n,2)}function ad(n){var s=bn();if(typeof n=="function"){var o=n;if(n=o(),ua){Cn(!0);try{o()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},s}function Tv(n,s,o,u){return n.baseState=o,rd(n,st,typeof u=="function"?u:lr)}function gC(n,s,o,u,f){if(Lc(n))throw Error(r(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};w.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,wv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function wv(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var g=w.T,b={};w.T=b;try{var R=o(f,u),N=w.S;N!==null&&N(b,R),Cv(n,s,R)}catch(F){od(n,s,F)}finally{w.T=g}}else try{g=o(f,u),Cv(n,s,g)}catch(F){od(n,s,F)}}function Cv(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Av(n,s,u)},function(u){return od(n,s,u)}):Av(n,s,o)}function Av(n,s,o){s.status="fulfilled",s.value=o,Rv(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,wv(n,o)))}function od(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Rv(s),s=s.next;while(s!==u)}n.action=null}function Rv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Lv(n,s){return s}function Iv(n,s){if(et){var o=ut.formState;if(o!==null){e:{var u=je;if(et){if(Xt){t:{for(var f=Xt,g=Oi;f.nodeType!==8;){if(!g){f=null;break t}if(f=di(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Xt=di(f.nextSibling),u=f.data==="F!";break e}}aa(u)}u=!1}u&&(s=o[0])}}return o=bn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lv,lastRenderedState:s},o.queue=u,o=$v.bind(null,je,u),u.dispatch=o,u=ad(!1),g=dd.bind(null,je,!1,u.queue),u=bn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=gC.bind(null,je,f,g,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function Mv(n){var s=It();return Ov(s,st,n)}function Ov(n,s,o){s=rd(n,s,Lv)[0],n=Cc(lr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Al(s):s;var u=It(),f=u.queue,g=f.dispatch;return o!==u.memoizedState&&(je.flags|=2048,ro(9,mC.bind(null,f,o),{destroy:void 0},null)),[s,g,n]}function mC(n,s){n.action=s}function Dv(n){var s=It(),o=st;if(o!==null)return Ov(s,o,n);It(),s=s.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function ro(n,s,o,u){return n={tag:n,create:s,inst:o,deps:u,next:null},s=je.updateQueue,s===null&&(s=Tc(),je.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function xv(){return It().memoizedState}function Ac(n,s,o,u){var f=bn();je.flags|=n,f.memoizedState=ro(1|s,o,{destroy:void 0},u===void 0?null:u)}function Rc(n,s,o,u){var f=It();u=u===void 0?null:u;var g=f.memoizedState.inst;st!==null&&u!==null&&Xf(u,st.memoizedState.deps)?f.memoizedState=ro(s,o,g,u):(je.flags|=n,f.memoizedState=ro(1|s,o,g,u))}function kv(n,s){Ac(8390656,8,n,s)}function ld(n,s){Rc(2048,8,n,s)}function Pv(n,s){return Rc(4,2,n,s)}function Nv(n,s){return Rc(4,4,n,s)}function Vv(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Uv(n,s,o){o=o!=null?o.concat([n]):null,Rc(4,4,Vv.bind(null,s,n),o)}function ud(){}function jv(n,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Xf(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function zv(n,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Xf(s,u[1]))return u[0];if(u=n(),ua){Cn(!0);try{n()}finally{Cn(!1)}}return o.memoizedState=[u,s],u}function cd(n,s,o){return o===void 0||(Jr&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=Hy(),je.lanes|=n,us|=n,o)}function Bv(n,s,o,u){return Mn(o,s)?o:Ja.current!==null?(n=cd(n,o,u),Mn(n,s)||(Kt=!0),n):(Jr&42)===0?(Kt=!0,n.memoizedState=o):(n=Hy(),je.lanes|=n,us|=n,s)}function Hv(n,s,o,u,f){var g=ae.p;ae.p=g!==0&&8>g?g:8;var b=w.T,R={};w.T=R,dd(n,!1,s,o);try{var N=f(),F=w.S;if(F!==null&&F(R,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var re=fC(N,u);Rl(n,s,re,kn(n))}else Rl(n,s,u,kn(n))}catch(he){Rl(n,s,{then:function(){},status:"rejected",reason:he},kn())}finally{ae.p=g,w.T=b}}function vC(){}function hd(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=qv(n).queue;Hv(n,f,s,Z,o===null?vC:function(){return Fv(n),o(u)})}function qv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:Z},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Fv(n){var s=qv(n).next.queue;Rl(n,s,{},kn())}function fd(){return an($l)}function Gv(){return It().memoizedState}function Kv(){return It().memoizedState}function yC(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=kn();n=is(o);var u=rs(s,n,o);u!==null&&(yn(u,s,o),Ml(u,s,o)),s={cache:Yf()},n.payload=s;return}s=s.return}}function _C(n,s,o){var u=kn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lc(n)?Qv(s,o):(o=Hf(n,s,o,u),o!==null&&(yn(o,n,u),Yv(o,s,u)))}function $v(n,s,o){var u=kn();Rl(n,s,o,u)}function Rl(n,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lc(n))Qv(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,R=g(b,o);if(f.hasEagerState=!0,f.eagerState=R,Mn(R,b))return hc(n,s,f,0),ut===null&&cc(),!1}catch{}finally{}if(o=Hf(n,s,f,u),o!==null)return yn(o,n,u),Yv(o,s,u),!0}return!1}function dd(n,s,o,u){if(u={lane:2,revertLane:np(),action:u,hasEagerState:!1,eagerState:null,next:null},Lc(n)){if(s)throw Error(r(479))}else s=Hf(n,o,u,2),s!==null&&yn(s,n,2)}function Lc(n){var s=n.alternate;return n===je||s!==null&&s===je}function Qv(n,s){no=bc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Yv(n,s,o){if((o&4194176)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,zr(n,o)}}var xi={readContext:an,use:wc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct};xi.useCacheRefresh=Ct,xi.useMemoCache=Ct,xi.useHostTransitionStatus=Ct,xi.useFormState=Ct,xi.useActionState=Ct,xi.useOptimistic=Ct;var ca={readContext:an,use:wc,useCallback:function(n,s){return bn().memoizedState=[n,s===void 0?null:s],n},useContext:an,useEffect:kv,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Ac(4194308,4,Vv.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Ac(4194308,4,n,s)},useInsertionEffect:function(n,s){Ac(4,2,n,s)},useMemo:function(n,s){var o=bn();s=s===void 0?null:s;var u=n();if(ua){Cn(!0);try{n()}finally{Cn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=bn();if(o!==void 0){var f=o(s);if(ua){Cn(!0);try{o(s)}finally{Cn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=_C.bind(null,je,n),[u.memoizedState,n]},useRef:function(n){var s=bn();return n={current:n},s.memoizedState=n},useState:function(n){n=ad(n);var s=n.queue,o=$v.bind(null,je,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:ud,useDeferredValue:function(n,s){var o=bn();return cd(o,n,s)},useTransition:function(){var n=ad(!1);return n=Hv.bind(null,je,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=je,f=bn();if(et){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ut===null)throw Error(r(349));(Ze&60)!==0||yv(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,kv(Ev.bind(null,u,g,n),[n]),u.flags|=2048,ro(9,_v.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var n=bn(),s=ut.identifierPrefix;if(et){var o=ar,u=sr;o=(u&~(1<<32-Rt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Sc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=dC++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return bn().memoizedState=yC.bind(null,je)}};ca.useMemoCache=id,ca.useHostTransitionStatus=fd,ca.useFormState=Iv,ca.useActionState=Iv,ca.useOptimistic=function(n){var s=bn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=dd.bind(null,je,!0,o),o.dispatch=s,[n,s]};var es={readContext:an,use:wc,useCallback:jv,useContext:an,useEffect:ld,useImperativeHandle:Uv,useInsertionEffect:Pv,useLayoutEffect:Nv,useMemo:zv,useReducer:Cc,useRef:xv,useState:function(){return Cc(lr)},useDebugValue:ud,useDeferredValue:function(n,s){var o=It();return Bv(o,st.memoizedState,n,s)},useTransition:function(){var n=Cc(lr)[0],s=It().memoizedState;return[typeof n=="boolean"?n:Al(n),s]},useSyncExternalStore:vv,useId:Gv};es.useCacheRefresh=Kv,es.useMemoCache=id,es.useHostTransitionStatus=fd,es.useFormState=Mv,es.useActionState=Mv,es.useOptimistic=function(n,s){var o=It();return Tv(o,st,n,s)};var ha={readContext:an,use:wc,useCallback:jv,useContext:an,useEffect:ld,useImperativeHandle:Uv,useInsertionEffect:Pv,useLayoutEffect:Nv,useMemo:zv,useReducer:sd,useRef:xv,useState:function(){return sd(lr)},useDebugValue:ud,useDeferredValue:function(n,s){var o=It();return st===null?cd(o,n,s):Bv(o,st.memoizedState,n,s)},useTransition:function(){var n=sd(lr)[0],s=It().memoizedState;return[typeof n=="boolean"?n:Al(n),s]},useSyncExternalStore:vv,useId:Gv};ha.useCacheRefresh=Kv,ha.useMemoCache=id,ha.useHostTransitionStatus=fd,ha.useFormState=Dv,ha.useActionState=Dv,ha.useOptimistic=function(n,s){var o=It();return st!==null?Tv(o,st,n,s):(o.baseState=n,[n,o.queue.dispatch])};function pd(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:M({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var gd={isMounted:function(n){return(n=n._reactInternals)?fe(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var u=kn(),f=is(u);f.payload=s,o!=null&&(f.callback=o),s=rs(n,f,u),s!==null&&(yn(s,n,u),Ml(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=kn(),f=is(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=rs(n,f,u),s!==null&&(yn(s,n,u),Ml(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=kn(),u=is(o);u.tag=2,s!=null&&(u.callback=s),s=rs(n,u,o),s!==null&&(yn(s,n,o),Ml(s,n,o))}};function Wv(n,s,o,u,f,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!pl(o,u)||!pl(f,g):!0}function Zv(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&gd.enqueueReplaceState(s,s.state,null)}function fa(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=M({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Ic=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Xv(n){Ic(n)}function Jv(n){console.error(n)}function ey(n){Ic(n)}function Mc(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function ty(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(n,s,o){return o=is(o),o.tag=3,o.payload={element:null},o.callback=function(){Mc(n,s)},o}function ny(n){return n=is(n),n.tag=3,n}function iy(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){ty(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){ty(s,o,u),typeof f!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function EC(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Il(s,o,f,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return Di===null?Zd():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Kf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Jd(n,u,f)),!1;case 22:return o.flags|=65536,u===Kf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Jd(n,u,f)),!1}throw Error(r(435,o.tag))}return Jd(n,u,f),Zd(),!1}if(et)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Gf&&(n=Error(r(422),{cause:u}),yl(Kn(n,o)))):(u!==Gf&&(s=Error(r(423),{cause:u}),yl(Kn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Kn(u,o),f=md(n.stateNode,u,f),Od(n,f),St!==4&&(St=2)),!1;var g=Error(r(520),{cause:u});if(g=Kn(g,o),Ul===null?Ul=[g]:Ul.push(g),St!==4&&(St=2),s===null)return!0;u=Kn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=md(o.stateNode,u,n),Od(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cs===null||!cs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=ny(f),iy(f,n,o,u),Od(o,f),!1}o=o.return}while(o!==null);return!1}var ry=Error(r(461)),Kt=!1;function Jt(n,s,o,u){s.child=n===null?uv(s,null,o,u):oa(s,n.child,o,u)}function sy(n,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var R in u)R!=="ref"&&(b[R]=u[R])}else b=u;return pa(s),u=Jf(n,s,o,b,g,f),R=ed(),n!==null&&!Kt?(td(n,s,f),ur(n,s,f)):(et&&R&&qf(s),s.flags|=1,Jt(n,s,u,f),s.child)}function ay(n,s,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!jd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,oy(n,s,g,u,f)):(n=Pc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Cd(n,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:pl,o(b,u)&&n.ref===s.ref)return ur(n,s,f)}return s.flags|=1,n=ls(g,u),n.ref=s.ref,n.return=s,s.child=n}function oy(n,s,o,u,f){if(n!==null){var g=n.memoizedProps;if(pl(g,u)&&n.ref===s.ref)if(Kt=!1,s.pendingProps=u=g,Cd(n,f))(n.flags&131072)!==0&&(Kt=!0);else return s.lanes=n.lanes,ur(n,s,f)}return vd(n,s,o,u,f)}function ly(n,s,o){var u=s.pendingProps,f=u.children,g=(s.stateNode._pendingVisibility&2)!==0,b=n!==null?n.memoizedState:null;if(Ll(n,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,n!==null){for(f=s.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return uy(n,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ec(s,b!==null?b.cachePool:null),b!==null?cv(s,b):$f(),hv(s);else return s.lanes=s.childLanes=536870912,uy(n,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Ec(s,b.cachePool),cv(s,b),Xr(),s.memoizedState=null):(n!==null&&Ec(s,null),$f(),Xr());return Jt(n,s,f,o),s.child}function uy(n,s,o,u){var f=Zf();return f=f===null?null:{parent:Ut._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},n!==null&&Ec(s,null),$f(),hv(s),n!==null&&Il(n,s,u,!0),null}function Ll(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=2097664)}}function vd(n,s,o,u,f){return pa(s),o=Jf(n,s,o,u,void 0,f),u=ed(),n!==null&&!Kt?(td(n,s,f),ur(n,s,f)):(et&&u&&qf(s),s.flags|=1,Jt(n,s,o,f),s.child)}function cy(n,s,o,u,f,g){return pa(s),s.updateQueue=null,o=mv(s,u,o,f),gv(n),u=ed(),n!==null&&!Kt?(td(n,s,g),ur(n,s,g)):(et&&u&&qf(s),s.flags|=1,Jt(n,s,o,g),s.child)}function hy(n,s,o,u,f){if(pa(s),s.stateNode===null){var g=Ya,b=o.contextType;typeof b=="object"&&b!==null&&(g=an(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Id(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?an(b):Ya,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(pd(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&gd.enqueueReplaceState(g,g.state,null),Dl(s,u,g,f),Ol(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var R=s.memoizedProps,N=fa(o,R);g.props=N;var F=g.context,re=o.contextType;b=Ya,typeof re=="object"&&re!==null&&(b=an(re));var he=o.getDerivedStateFromProps;re=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||F!==b)&&Zv(s,g,u,b),ns=!1;var ee=s.memoizedState;g.state=ee,Dl(s,u,g,f),Ol(),F=s.memoizedState,R||ee!==F||ns?(typeof he=="function"&&(pd(s,o,he,u),F=s.memoizedState),(N=ns||Wv(s,o,N,u,ee,F,b))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),g.props=u,g.state=F,g.context=b,u=N):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Md(n,s),b=s.memoizedProps,re=fa(o,b),g.props=re,he=s.pendingProps,ee=g.context,F=o.contextType,N=Ya,typeof F=="object"&&F!==null&&(N=an(F)),R=o.getDerivedStateFromProps,(F=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==he||ee!==N)&&Zv(s,g,u,N),ns=!1,ee=s.memoizedState,g.state=ee,Dl(s,u,g,f),Ol();var ie=s.memoizedState;b!==he||ee!==ie||ns||n!==null&&n.dependencies!==null&&Oc(n.dependencies)?(typeof R=="function"&&(pd(s,o,R,u),ie=s.memoizedState),(re=ns||Wv(s,o,re,u,ee,ie,N)||n!==null&&n.dependencies!==null&&Oc(n.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ie,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ie,N)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&ee===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&ee===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ie),g.props=u,g.state=ie,g.context=N,u=re):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&ee===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&ee===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ll(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=oa(s,n.child,null,f),s.child=oa(s,null,o,f)):Jt(n,s,o,f),s.memoizedState=g.state,n=s.child):n=ur(n,s,f),n}function fy(n,s,o,u){return vl(),s.flags|=256,Jt(n,s,o,u),s.child}var yd={dehydrated:null,treeContext:null,retryLane:0};function _d(n){return{baseLanes:n,cachePool:pv()}}function Ed(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Jn),n}function dy(n,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(et){if(f?Zr(s):Xr(),et){var R=Xt,N;if(N=R){e:{for(N=R,R=Oi;N.nodeType!==8;){if(!R){R=null;break e}if(N=di(N.nextSibling),N===null){R=null;break e}}R=N}R!==null?(s.memoizedState={dehydrated:R,treeContext:ra!==null?{id:sr,overflow:ar}:null,retryLane:536870912},N=Xn(18,null,null,0),N.stateNode=R,N.return=s,s.child=N,vn=s,Xt=null,N=!0):N=!1}N||aa(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?s.lanes=16:s.lanes=536870912,null;or(s)}return R=u.children,u=u.fallback,f?(Xr(),f=s.mode,R=Sd({mode:"hidden",children:R},f),u=ma(u,f,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,f=s.child,f.memoizedState=_d(o),f.childLanes=Ed(n,b,o),s.memoizedState=yd,u):(Zr(s),bd(s,R))}if(N=n.memoizedState,N!==null&&(R=N.dehydrated,R!==null)){if(g)s.flags&256?(Zr(s),s.flags&=-257,s=Td(n,s,o)):s.memoizedState!==null?(Xr(),s.child=n.child,s.flags|=128,s=null):(Xr(),f=u.fallback,R=s.mode,u=Sd({mode:"visible",children:u.children},R),f=ma(f,R,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,oa(s,n.child,null,o),u=s.child,u.memoizedState=_d(o),u.childLanes=Ed(n,b,o),s.memoizedState=yd,s=f);else if(Zr(s),R.data==="$!"){if(b=R.nextSibling&&R.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(r(419)),u.stack="",u.digest=b,yl({value:u,source:null,stack:null}),s=Td(n,s,o)}else if(Kt||Il(n,s,o,!1),b=(o&n.childLanes)!==0,Kt||b){if(b=ut,b!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,Wr(n,u),yn(b,n,u),ry}R.data==="$?"||Zd(),s=Td(n,s,o)}else R.data==="$?"?(s.flags|=128,s.child=n.child,s=PC.bind(null,n),R._reactRetry=s,s=null):(n=N.treeContext,Xt=di(R.nextSibling),vn=s,et=!0,hi=null,Oi=!1,n!==null&&($n[Qn++]=sr,$n[Qn++]=ar,$n[Qn++]=ra,sr=n.id,ar=n.overflow,ra=s),s=bd(s,u.children),s.flags|=4096);return s}return f?(Xr(),f=u.fallback,R=s.mode,N=n.child,F=N.sibling,u=ls(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,F!==null?f=ls(F,f):(f=ma(f,R,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,R=n.child.memoizedState,R===null?R=_d(o):(N=R.cachePool,N!==null?(F=Ut._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=pv(),R={baseLanes:R.baseLanes|o,cachePool:N}),f.memoizedState=R,f.childLanes=Ed(n,b,o),s.memoizedState=yd,u):(Zr(s),o=n.child,n=o.sibling,o=ls(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=o,s.memoizedState=null,o)}function bd(n,s){return s=Sd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Sd(n,s){return jy(n,s,0,null)}function Td(n,s,o){return oa(s,n.child,null,o),n=bd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function py(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Rd(n.return,s,o)}function wd(n,s,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function gy(n,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Jt(n,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&py(n,o,s);else if(n.tag===19)py(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ge(Vt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&_c(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),wd(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&_c(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}wd(s,!0,o,null,g);break;case"together":wd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ur(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),us|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Il(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=ls(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ls(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Cd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Oc(n)))}function bC(n,s,o){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),ts(s,Ut,n.memoizedState.cache),vl();break;case 27:case 5:mi(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Zr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?dy(n,s,o):(Zr(s),n=ur(n,s,o),n!==null?n.sibling:null);Zr(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Il(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return gy(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ge(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,ly(n,s,o);case 24:ts(s,Ut,n.memoizedState.cache)}return ur(n,s,o)}function my(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Cd(n,o)&&(s.flags&128)===0)return Kt=!1,bC(n,s,o);Kt=(n.flags&131072)!==0}else Kt=!1,et&&(s.flags&1048576)!==0&&ev(s,pc,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")jd(u)?(n=fa(u,n),s.tag=1,s=hy(null,s,u,n,o)):(s.tag=0,s=vd(null,s,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===A){s.tag=11,s=sy(null,s,u,n,o);break e}else if(f===B){s.tag=14,s=ay(null,s,u,n,o);break e}}throw s=I(u)||u,Error(r(306,s,""))}}return s;case 0:return vd(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=fa(u,s.pendingProps),hy(n,s,u,f,o);case 3:e:{if(He(s,s.stateNode.containerInfo),n===null)throw Error(r(387));var g=s.pendingProps;f=s.memoizedState,u=f.element,Md(n,s),Dl(s,g,null,o);var b=s.memoizedState;if(g=b.cache,ts(s,Ut,g),g!==f.cache&&Ld(s,[Ut],o,!0),Ol(),g=b.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=fy(n,s,g,o);break e}else if(g!==u){u=Kn(Error(r(424)),s),yl(u),s=fy(n,s,g,o);break e}else for(Xt=di(s.stateNode.containerInfo.firstChild),vn=s,et=!0,hi=null,Oi=!0,o=uv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(vl(),g===u){s=ur(n,s,o);break e}Jt(n,s,g,o)}s=s.child}return s;case 26:return Ll(n,s),n===null?(o=__(s.type,null,s.pendingProps,null))?s.memoizedState=o:et||(o=s.type,n=s.pendingProps,u=$c(yt.current).createElement(o),u[qt]=s,u[kt]=n,en(u,o,n),dt(u),s.stateNode=u):s.memoizedState=__(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return mi(s),n===null&&et&&(u=s.stateNode=m_(s.type,s.pendingProps,yt.current),vn=s,Oi=!0,Xt=di(u.firstChild)),u=s.pendingProps.children,n!==null||et?Jt(n,s,u,o):s.child=oa(s,null,u,o),Ll(n,s),s.child;case 5:return n===null&&et&&((f=u=Xt)&&(u=ZC(u,s.type,s.pendingProps,Oi),u!==null?(s.stateNode=u,vn=s,Xt=di(u.firstChild),Oi=!1,f=!0):f=!1),f||aa(s)),mi(s),f=s.type,g=s.pendingProps,b=n!==null?n.memoizedProps:null,u=g.children,hp(f,g)?u=null:b!==null&&hp(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=Jf(n,s,pC,null,null,o),$l._currentValue=f),Ll(n,s),Jt(n,s,u,o),s.child;case 6:return n===null&&et&&((n=o=Xt)&&(o=XC(o,s.pendingProps,Oi),o!==null?(s.stateNode=o,vn=s,Xt=null,n=!0):n=!1),n||aa(s)),null;case 13:return dy(n,s,o);case 4:return He(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=oa(s,null,u,o):Jt(n,s,u,o),s.child;case 11:return sy(n,s,s.type,s.pendingProps,o);case 7:return Jt(n,s,s.pendingProps,o),s.child;case 8:return Jt(n,s,s.pendingProps.children,o),s.child;case 12:return Jt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ts(s,s.type,u.value),Jt(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,pa(s),f=an(f),u=u(f),s.flags|=1,Jt(n,s,u,o),s.child;case 14:return ay(n,s,s.type,s.pendingProps,o);case 15:return oy(n,s,s.type,s.pendingProps,o);case 19:return gy(n,s,o);case 22:return ly(n,s,o);case 24:return pa(s),u=an(Ut),n===null?(f=Zf(),f===null&&(f=ut,g=Yf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},Id(s),ts(s,Ut,f)):((n.lanes&o)!==0&&(Md(n,s),Dl(s,null,null,o),Ol()),f=n.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ts(s,Ut,u)):(u=g.cache,ts(s,Ut,u),u!==f.cache&&Ld(s,[Ut],o,!0))),Jt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Ad=ve(null),da=null,cr=null;function ts(n,s,o){ge(Ad,s._currentValue),s._currentValue=o}function hr(n){n._currentValue=Ad.current,Ne(Ad)}function Rd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Ld(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=f;for(var N=0;N<s.length;N++)if(R.context===s[N]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Rd(g.return,o,n),u||(b=null);break e}g=R.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Rd(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Il(n,s,o,u){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var R=f.type;Mn(f.pendingProps.value,b.value)||(n!==null?n.push(R):n=[R])}}else if(f===_n.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&Ld(s,n,o,u),s.flags|=262144}function Oc(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function pa(n){da=n,cr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function an(n){return vy(da,n)}function Dc(n,s){return da===null&&pa(n),vy(n,s)}function vy(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},cr===null){if(n===null)throw Error(r(308));cr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else cr=cr.next=s;return o}var ns=!1;function Id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function is(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function rs(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=fc(n),Xm(n,null,o),s}return hc(n,u,s,o),fc(n)}function Ml(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,zr(n,o)}}function Od(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Dd=!1;function Ol(){if(Dd){var n=to;if(n!==null)throw n}}function Dl(n,s,o,u){Dd=!1;var f=n.updateQueue;ns=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var N=R,F=N.next;N.next=null,b===null?g=F:b.next=F,b=N;var re=n.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==b&&(R===null?re.firstBaseUpdate=F:R.next=F,re.lastBaseUpdate=N))}if(g!==null){var he=f.baseState;b=0,re=F=N=null,R=g;do{var ee=R.lane&-536870913,ie=ee!==R.lane;if(ie?(Ze&ee)===ee:(u&ee)===ee){ee!==0&&ee===eo&&(Dd=!0),re!==null&&(re=re.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var we=n,ke=R;ee=s;var Tt=o;switch(ke.tag){case 1:if(we=ke.payload,typeof we=="function"){he=we.call(Tt,he,ee);break e}he=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ke.payload,ee=typeof we=="function"?we.call(Tt,he,ee):we,ee==null)break e;he=M({},he,ee);break e;case 2:ns=!0}}ee=R.callback,ee!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(F=re=ie,N=he):re=re.next=ie,b|=ee;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);re===null&&(N=he),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=re,g===null&&(f.shared.lanes=0),us|=b,n.lanes=b,n.memoizedState=he}}function yy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function _y(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)yy(o[n],s)}function xl(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(R){lt(s,s.return,R)}}function ss(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var b=u.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,f=s;var N=o;try{R()}catch(F){lt(f,N,F)}}}u=u.next}while(u!==g)}}catch(F){lt(s,s.return,F)}}function Ey(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{_y(s,o)}catch(u){lt(n,n.return,u)}}}function by(n,s,o){o.props=fa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){lt(n,s,u)}}function ga(n,s){try{var o=n.ref;if(o!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?n.refCleanup=o(f):o.current=f}}catch(g){lt(n,s,g)}}function On(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){lt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){lt(n,s,f)}else o.current=null}function Sy(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){lt(n,n.return,f)}}function Ty(n,s,o){try{var u=n.stateNode;KC(u,n.type,o,s),u[kt]=s}catch(f){lt(n,n.return,f)}}function wy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kd(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(kd(n,s,o),n=n.sibling;n!==null;)kd(n,s,o),n=n.sibling}function xc(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(xc(n,s,o),n=n.sibling;n!==null;)xc(n,s,o),n=n.sibling}var fr=!1,bt=!1,Pd=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,$t=null,Ay=!1;function SC(n,s){if(n=n.containerInfo,up=Jc,n=qm(n),Vf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,R=-1,N=-1,F=0,re=0,he=n,ee=null;t:for(;;){for(var ie;he!==o||f!==0&&he.nodeType!==3||(R=b+f),he!==g||u!==0&&he.nodeType!==3||(N=b+u),he.nodeType===3&&(b+=he.nodeValue.length),(ie=he.firstChild)!==null;)ee=he,he=ie;for(;;){if(he===n)break t;if(ee===o&&++F===f&&(R=b),ee===g&&++re===u&&(N=b),(ie=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=ie}o=R===-1||N===-1?null:{start:R,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(cp={focusedElem:n,selectionRange:o},Jc=!1,$t=s;$t!==null;)if(s=$t,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,$t=n;else for(;$t!==null;){switch(s=$t,g=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var we=fa(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(we,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(ke){lt(o,o.return,ke)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)pp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":pp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,$t=n;break}$t=s.return}return we=Ay,Ay=!1,we}function Ry(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:pr(n,o),u&4&&xl(5,o);break;case 1:if(pr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(R){lt(o,o.return,R)}else{var f=fa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(R){lt(o,o.return,R)}}u&64&&Ey(o),u&512&&ga(o,o.return);break;case 3:if(pr(n,o),u&64&&(u=o.updateQueue,u!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{_y(u,n)}catch(R){lt(o,o.return,R)}}break;case 26:pr(n,o),u&512&&ga(o,o.return);break;case 27:case 5:pr(n,o),s===null&&u&4&&Sy(o),u&512&&ga(o,o.return);break;case 12:pr(n,o);break;case 13:pr(n,o),u&4&&My(n,o);break;case 22:if(f=o.memoizedState!==null||fr,!f){s=s!==null&&s.memoizedState!==null||bt;var g=fr,b=bt;fr=f,(bt=s)&&!b?as(n,o,(o.subtreeFlags&8772)!==0):pr(n,o),fr=g,bt=b}u&512&&(o.memoizedProps.mode==="manual"?ga(o,o.return):On(o,o.return));break;default:pr(n,o)}}function Ly(n){var s=n.alternate;s!==null&&(n.alternate=null,Ly(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Gs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Mt=null,Dn=!1;function dr(n,s,o){for(o=o.child;o!==null;)Iy(n,s,o),o=o.sibling}function Iy(n,s,o){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(wn,o)}catch{}switch(o.tag){case 26:bt||On(o,s),dr(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||On(o,s);var u=Mt,f=Dn;for(Mt=o.stateNode,dr(n,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Gs(o),Mt=u,Dn=f;break;case 5:bt||On(o,s);case 6:f=Mt;var g=Dn;if(Mt=null,dr(n,s,o),Mt=f,Dn=g,Mt!==null)if(Dn)try{n=Mt,u=o.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(b){lt(o,s,b)}else try{Mt.removeChild(o.stateNode)}catch(b){lt(o,s,b)}break;case 18:Mt!==null&&(Dn?(s=Mt,o=o.stateNode,s.nodeType===8?dp(s.parentNode,o):s.nodeType===1&&dp(s,o),Zl(s)):dp(Mt,o.stateNode));break;case 4:u=Mt,f=Dn,Mt=o.stateNode.containerInfo,Dn=!0,dr(n,s,o),Mt=u,Dn=f;break;case 0:case 11:case 14:case 15:bt||ss(2,o,s),bt||ss(4,o,s),dr(n,s,o);break;case 1:bt||(On(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&by(o,s,u)),dr(n,s,o);break;case 21:dr(n,s,o);break;case 22:bt||On(o,s),bt=(u=bt)||o.memoizedState!==null,dr(n,s,o),bt=u;break;default:dr(n,s,o)}}function My(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zl(n)}catch(o){lt(s,s.return,o)}}function TC(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Cy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Cy),s;default:throw Error(r(435,n.tag))}}function Nd(n,s){var o=TC(n);s.forEach(function(u){var f=NC.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Wn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,b=s,R=b;e:for(;R!==null;){switch(R.tag){case 27:case 5:Mt=R.stateNode,Dn=!1;break e;case 3:Mt=R.stateNode.containerInfo,Dn=!0;break e;case 4:Mt=R.stateNode.containerInfo,Dn=!0;break e}R=R.return}if(Mt===null)throw Error(r(160));Iy(g,b,f),Mt=null,Dn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Oy(s,n),s=s.sibling}var fi=null;function Oy(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wn(s,n),Zn(n),u&4&&(ss(3,n,n.return),xl(3,n),ss(5,n,n.return));break;case 1:Wn(s,n),Zn(n),u&512&&(bt||o===null||On(o,o.return)),u&64&&fr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fi;if(Wn(s,n),Zn(n),u&512&&(bt||o===null||On(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Hr]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),en(g,u,o),g[qt]=n,dt(g),u=g;break e;case"link":var b=S_("link","href",f).get(u+(o.href||""));if(b){for(var R=0;R<b.length;R++)if(g=b[R],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(R,1);break t}}g=f.createElement(u),en(g,u,o),f.head.appendChild(g);break;case"meta":if(b=S_("meta","content",f).get(u+(o.content||""))){for(R=0;R<b.length;R++)if(g=b[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(R,1);break t}}g=f.createElement(u),en(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[qt]=n,dt(g),u=g}n.stateNode=u}else T_(f,n.type,n.stateNode);else n.stateNode=b_(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?T_(f,n.type,n.stateNode):b_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Ty(n,n.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,g=n.memoizedProps;try{for(var N=f.firstChild;N;){var F=N.nextSibling,re=N.nodeName;N[Hr]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=F}for(var he=n.type,ee=f.attributes;ee.length;)f.removeAttributeNode(ee[0]);en(f,he,g),f[qt]=n,f[kt]=g}catch(we){lt(n,n.return,we)}}case 5:if(Wn(s,n),Zn(n),u&512&&(bt||o===null||On(o,o.return)),n.flags&32){f=n.stateNode;try{Bn(f,"")}catch(we){lt(n,n.return,we)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Ty(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Pd=!0);break;case 6:if(Wn(s,n),Zn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(we){lt(n,n.return,we)}}break;case 3:if(Wc=null,f=fi,fi=Qc(s.containerInfo),Wn(s,n),fi=f,Zn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Zl(s.containerInfo)}catch(we){lt(n,n.return,we)}Pd&&(Pd=!1,Dy(n));break;case 4:u=fi,fi=Qc(n.stateNode.containerInfo),Wn(s,n),Zn(n),fi=u;break;case 12:Wn(s,n),Zn(n);break;case 13:Wn(s,n),Zn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gd=Wt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Nd(n,u)));break;case 22:if(u&512&&(bt||o===null||On(o,o.return)),N=n.memoizedState!==null,F=o!==null&&o.memoizedState!==null,re=fr,he=bt,fr=re||N,bt=he||F,Wn(s,n),bt=he,fr=re,Zn(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=fr||bt,o===null||F||s||so(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(o=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){F=o=s;try{if(f=F.stateNode,N)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=F.stateNode,R=F.memoizedProps.style;var ie=R!=null&&R.hasOwnProperty("display")?R.display:null;b.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(we){lt(F,F.return,we)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=N?"":F.memoizedProps}catch(we){lt(F,F.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nd(n,o))));break;case 19:Wn(s,n),Zn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Nd(n,u)));break;case 21:break;default:Wn(s,n),Zn(n)}}function Zn(n){var s=n.flags;if(s&2){try{if(n.tag!==27){e:{for(var o=n.return;o!==null;){if(wy(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 27:var f=u.stateNode,g=xd(n);xc(n,g,f);break;case 5:var b=u.stateNode;u.flags&32&&(Bn(b,""),u.flags&=-33);var R=xd(n);xc(n,R,b);break;case 3:case 4:var N=u.stateNode.containerInfo,F=xd(n);kd(n,F,N);break;default:throw Error(r(161))}}}catch(re){lt(n,n.return,re)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Dy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Dy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function pr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ry(n,s.alternate,s),s=s.sibling}function so(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ss(4,s,s.return),so(s);break;case 1:On(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&by(s,s.return,o),so(s);break;case 26:case 27:case 5:On(s,s.return),so(s);break;case 22:On(s,s.return),s.memoizedState===null&&so(s);break;default:so(s)}n=n.sibling}}function as(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:as(f,g,o),xl(4,g);break;case 1:if(as(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){lt(u,u.return,F)}if(u=g,f=u.updateQueue,f!==null){var R=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)yy(N[f],R)}catch(F){lt(u,u.return,F)}}o&&b&64&&Ey(g),ga(g,g.return);break;case 26:case 27:case 5:as(f,g,o),o&&u===null&&b&4&&Sy(g),ga(g,g.return);break;case 12:as(f,g,o);break;case 13:as(f,g,o),o&&b&4&&My(f,g);break;case 22:g.memoizedState===null&&as(f,g,o),ga(g,g.return);break;default:as(f,g,o)}s=s.sibling}}function Vd(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Tl(o))}function Ud(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Tl(n))}function os(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xy(n,s,o,u),s=s.sibling}function xy(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:os(n,s,o,u),f&2048&&xl(9,s);break;case 3:os(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Tl(n)));break;case 12:if(f&2048){os(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,b=g.id,R=g.onPostCommit;typeof R=="function"&&R(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){lt(s,s.return,N)}}else os(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?os(n,s,o,u):kl(n,s):g._visibility&4?os(n,s,o,u):(g._visibility|=4,ao(n,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Vd(s.alternate,s);break;case 24:os(n,s,o,u),f&2048&&Ud(s.alternate,s);break;default:os(n,s,o,u)}}function ao(n,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=n,b=s,R=o,N=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:ao(g,b,R,N,f),xl(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&4?ao(g,b,R,N,f):kl(g,b):(re._visibility|=4,ao(g,b,R,N,f)),f&&F&2048&&Vd(b.alternate,b);break;case 24:ao(g,b,R,N,f),f&&F&2048&&Ud(b.alternate,b);break;default:ao(g,b,R,N,f)}s=s.sibling}}function kl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:kl(o,u),f&2048&&Vd(u.alternate,u);break;case 24:kl(o,u),f&2048&&Ud(u.alternate,u);break;default:kl(o,u)}s=s.sibling}}var Pl=8192;function oo(n){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)ky(n),n=n.sibling}function ky(n){switch(n.tag){case 26:oo(n),n.flags&Pl&&n.memoizedState!==null&&hA(fi,n.memoizedState,n.memoizedProps);break;case 5:oo(n);break;case 3:case 4:var s=fi;fi=Qc(n.stateNode.containerInfo),oo(n),fi=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Pl,Pl=16777216,oo(n),Pl=s):oo(n));break;default:oo(n)}}function Py(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Nl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,Vy(u,n)}Py(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(n),n=n.sibling}function Ny(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&ss(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,kc(n)):Nl(n);break;default:Nl(n)}}function kc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,Vy(u,n)}Py(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ss(8,s,s.return),kc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,kc(s));break;default:kc(s)}n=n.sibling}}function Vy(n,s){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$t=u;else e:for(o=n;$t!==null;){u=$t;var f=u.sibling,g=u.return;if(Ly(u),u===o){$t=null;break e}if(f!==null){f.return=g,$t=f;break e}$t=g}}}function wC(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(n,s,o,u){return new wC(n,s,o,u)}function jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ls(n,s){var o=n.alternate;return o===null?(o=Xn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&31457280,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Uy(n,s){n.flags&=31457282;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Pc(n,s,o,u,f,g){var b=0;if(u=n,typeof n=="function")jd(n)&&(b=1);else if(typeof n=="string")b=uA(n,o,Me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ma(o.children,f,g,s);case m:b=8,f|=24;break;case _:return n=Xn(12,o,s,f|2),n.elementType=_,n.lanes=g,n;case V:return n=Xn(13,o,s,f),n.elementType=V,n.lanes=g,n;case k:return n=Xn(19,o,s,f),n.elementType=k,n.lanes=g,n;case q:return jy(o,f,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case C:b=10;break e;case T:b=9;break e;case A:b=11;break e;case B:b=14;break e;case G:b=16,u=null;break e}b=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Xn(b,o,s,f),s.elementType=n,s.type=u,s.lanes=g,s}function ma(n,s,o,u){return n=Xn(7,n,u,s),n.lanes=o,n}function jy(n,s,o,u){n=Xn(22,n,u,s),n.elementType=q,n.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(r(456));if((f._pendingVisibility&2)===0){var b=Wr(g,2);b!==null&&(f._pendingVisibility|=2,yn(b,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(r(456));if((f._pendingVisibility&2)!==0){var b=Wr(g,2);b!==null&&(f._pendingVisibility&=-3,yn(b,g,2))}}};return n.stateNode=f,n}function zd(n,s,o){return n=Xn(6,n,null,s),n.lanes=o,n}function Bd(n,s,o){return s=Xn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function gr(n){n.flags|=4}function zy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!w_(s)){if(s=Yn.current,s!==null&&((Ze&4194176)===Ze?Di!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||s!==Di))throw El=Kf,iv;n.flags|=8192}}function Nc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?li():536870912,n.lanes|=s,uo|=s)}function Vl(n,s){if(!et)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function pt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function CC(n,s,o){var u=s.pendingProps;switch(Ff(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),hr(Ut),Un(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ml(s)?gr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hi!==null&&(Yd(hi),hi=null))),pt(s),null;case 26:return o=s.memoizedState,n===null?(gr(s),o!==null?(pt(s),zy(s,o)):(pt(s),s.flags&=-16777217)):o?o!==n.memoizedState?(gr(s),pt(s),zy(s,o)):(pt(s),s.flags&=-16777217):(n.memoizedProps!==u&&gr(s),pt(s),s.flags&=-16777217),null;case 27:Ki(s),o=yt.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&gr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pt(s),null}n=Me.current,ml(s)?tv(s):(n=m_(f,u,o),s.stateNode=n,gr(s))}return pt(s),null;case 5:if(Ki(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&gr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pt(s),null}if(n=Me.current,ml(s))tv(s);else{switch(f=$c(yt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[qt]=s,n[kt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(en(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&gr(s)}}return pt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&gr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=yt.current,ml(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=vn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[qt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||c_(n.nodeValue,o)),n||aa(s)}else n=$c(n).createTextNode(u),n[qt]=s,s.stateNode=n}return pt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ml(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[qt]=s}else vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),f=!1}else hi!==null&&(Yd(hi),hi=null),f=!0;if(!f)return s.flags&256?(or(s),s):(or(s),null)}if(or(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Nc(s,s.updateQueue),pt(s),null;case 4:return Un(),n===null&&ap(s.stateNode.containerInfo),pt(s),null;case 10:return hr(s.type),pt(s),null;case 19:if(Ne(Vt),f=s.memoizedState,f===null)return pt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Vl(f,!1);else{if(St!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=_c(n),g!==null){for(s.flags|=128,Vl(f,!1),n=g.updateQueue,s.updateQueue=n,Nc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Uy(o,n),o=o.sibling;return ge(Vt,Vt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Wt()>Vc&&(s.flags|=128,u=!0,Vl(f,!1),s.lanes=4194304)}else{if(!u)if(n=_c(g),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Nc(s,n),Vl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!et)return pt(s),null}else 2*Wt()-f.renderingStartTime>Vc&&o!==536870912&&(s.flags|=128,u=!0,Vl(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(n=f.last,n!==null?n.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Wt(),s.sibling=null,n=Vt.current,ge(Vt,u?n&1|2:n&1),s):(pt(s),null);case 22:case 23:return or(s),Qf(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&Nc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&Ne(la),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),hr(Ut),pt(s),null;case 25:return null}throw Error(r(156,s.tag))}function AC(n,s){switch(Ff(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return hr(Ut),Un(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ki(s),null;case 13:if(or(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));vl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ne(Vt),null;case 4:return Un(),null;case 10:return hr(s.type),null;case 22:case 23:return or(s),Qf(),n!==null&&Ne(la),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return hr(Ut),null;case 25:return null;default:return null}}function By(n,s){switch(Ff(s),s.tag){case 3:hr(Ut),Un();break;case 26:case 27:case 5:Ki(s);break;case 4:Un();break;case 13:or(s);break;case 19:Ne(Vt);break;case 10:hr(s.type);break;case 22:case 23:or(s),Qf(),n!==null&&Ne(la);break;case 24:hr(Ut)}}var RC={getCacheForType:function(n){var s=an(Ut),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},LC=typeof WeakMap=="function"?WeakMap:Map,gt=0,ut=null,qe=null,Ze=0,ct=0,xn=null,mr=!1,lo=!1,Hd=!1,vr=0,St=0,us=0,va=0,qd=0,Jn=0,uo=0,Ul=null,ki=null,Fd=!1,Gd=0,Vc=1/0,Uc=null,cs=null,jc=!1,ya=null,jl=0,Kd=0,$d=null,zl=0,Qd=null;function kn(){if((gt&2)!==0&&Ze!==0)return Ze&-Ze;if(w.T!==null){var n=eo;return n!==0?n:np()}return Gu()}function Hy(){Jn===0&&(Jn=(Ze&536870912)===0||et?bi():536870912);var n=Yn.current;return n!==null&&(n.flags|=32),Jn}function yn(n,s,o){(n===ut&&ct===2||n.cancelPendingCommit!==null)&&(co(n,0),yr(n,Ze,Jn,!1)),ot(n,o),((gt&2)===0||n!==ut)&&(n===ut&&((gt&2)===0&&(va|=o),St===4&&yr(n,Ze,Jn,!1)),Pi(n))}function qy(n,s,o){if((gt&6)!==0)throw Error(r(327));var u=!o&&(s&60)===0&&(s&n.expiredLanes)===0||Rn(n,s),f=u?OC(n,s):Xd(n,s,!0),g=u;do{if(f===0){lo&&!u&&yr(n,s,0,!1);break}else if(f===6)yr(n,s,0,!mr);else{if(o=n.current.alternate,g&&!IC(o)){f=Xd(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var R=n;f=Ul;var N=R.current.memoizedState.isDehydrated;if(N&&(co(R,b).flags|=256),b=Xd(R,b,!1),b!==2){if(Hd&&!N){R.errorRecoveryDisabledLanes|=g,va|=g,f=4;break e}g=ki,ki=f,g!==null&&Yd(g)}f=b}if(g=!1,f!==2)continue}}if(f===1){co(n,0),yr(n,s,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){yr(u,s,Jn,!mr);break e}break;case 2:ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Gd+300-Wt(),10<g)){if(yr(u,s,Jn,!mr),pn(u,0)!==0)break e;u.timeoutHandle=d_(Fy.bind(null,u,o,ki,Uc,Fd,s,Jn,va,uo,mr,2,-0,0),g);break e}Fy(u,o,ki,Uc,Fd,s,Jn,va,uo,mr,0,-0,0)}}break}while(!0);Pi(n)}function Yd(n){ki===null?ki=n:ki.push.apply(ki,n)}function Fy(n,s,o,u,f,g,b,R,N,F,re,he,ee){var ie=s.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:cA},ky(s),s=fA(),s!==null)){n.cancelPendingCommit=s(Zy.bind(null,n,o,u,f,b,R,N,1,he,ee)),yr(n,g,b,!F);return}Zy(n,o,u,f,b,R,N,re,he,ee)}function IC(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Mn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yr(n,s,o,u){s&=~qd,s&=~va,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var g=31-Rt(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&jr(n,o,s)}function zc(){return(gt&6)===0?(Bl(0),!1):!0}function Wd(){if(qe!==null){if(ct===0)var n=qe.return;else n=qe,cr=da=null,nd(n),Xa=null,bl=0,n=qe;for(;n!==null;)By(n.alternate,n),n=n.return;qe=null}}function co(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,QC(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Wd(),ut=n,qe=o=ls(n.current,null),Ze=s,ct=0,xn=null,mr=!1,lo=Rn(n,s),Hd=!1,uo=Jn=qd=va=us=St=0,ki=Ul=null,Fd=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Rt(u),g=1<<f;s|=n[f],u&=~g}return vr=s,cc(),o}function Gy(n,s){je=null,w.H=xi,s===_l?(s=av(),ct=3):s===iv?(s=av(),ct=4):ct=s===ry?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,qe===null&&(St=1,Mc(n,Kn(s,n.current)))}function Ky(){var n=w.H;return w.H=xi,n===null?xi:n}function $y(){var n=w.A;return w.A=RC,n}function Zd(){St=4,mr||(Ze&4194176)!==Ze&&Yn.current!==null||(lo=!0),(us&134217727)===0&&(va&134217727)===0||ut===null||yr(ut,Ze,Jn,!1)}function Xd(n,s,o){var u=gt;gt|=2;var f=Ky(),g=$y();(ut!==n||Ze!==s)&&(Uc=null,co(n,s)),s=!1;var b=St;e:do try{if(ct!==0&&qe!==null){var R=qe,N=xn;switch(ct){case 8:Wd(),b=6;break e;case 3:case 2:case 6:Yn.current===null&&(s=!0);var F=ct;if(ct=0,xn=null,ho(n,R,N,F),o&&lo){b=0;break e}break;default:F=ct,ct=0,xn=null,ho(n,R,N,F)}}MC(),b=St;break}catch(re){Gy(n,re)}while(!0);return s&&n.shellSuspendCounter++,cr=da=null,gt=u,w.H=f,w.A=g,qe===null&&(ut=null,Ze=0,cc()),b}function MC(){for(;qe!==null;)Qy(qe)}function OC(n,s){var o=gt;gt|=2;var u=Ky(),f=$y();ut!==n||Ze!==s?(Uc=null,Vc=Wt()+500,co(n,s)):lo=Rn(n,s);e:do try{if(ct!==0&&qe!==null){s=qe;var g=xn;t:switch(ct){case 1:ct=0,xn=null,ho(n,s,g,1);break;case 2:if(rv(g)){ct=0,xn=null,Yy(s);break}s=function(){ct===2&&ut===n&&(ct=7),Pi(n)},g.then(s,s);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:rv(g)?(ct=0,xn=null,Yy(s)):(ct=0,xn=null,ho(n,s,g,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var R=qe;if(!b||w_(b)){ct=0,xn=null;var N=R.sibling;if(N!==null)qe=N;else{var F=R.return;F!==null?(qe=F,Bc(F)):qe=null}break t}}ct=0,xn=null,ho(n,s,g,5);break;case 6:ct=0,xn=null,ho(n,s,g,6);break;case 8:Wd(),St=6;break e;default:throw Error(r(462))}}DC();break}catch(re){Gy(n,re)}while(!0);return cr=da=null,w.H=u,w.A=f,gt=o,qe!==null?0:(ut=null,Ze=0,cc(),St)}function DC(){for(;qe!==null&&!Da();)Qy(qe)}function Qy(n){var s=my(n.alternate,n,vr);n.memoizedProps=n.pendingProps,s===null?Bc(n):qe=s}function Yy(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=cy(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=cy(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:nd(s);default:By(o,s),s=qe=Uy(s,vr),s=my(o,s,vr)}n.memoizedProps=n.pendingProps,s===null?Bc(n):qe=s}function ho(n,s,o,u){cr=da=null,nd(s),Xa=null,bl=0;var f=s.return;try{if(EC(n,f,s,o,Ze)){St=1,Mc(n,Kn(o,n.current)),qe=null;return}}catch(g){if(f!==null)throw qe=f,g;St=1,Mc(n,Kn(o,n.current)),qe=null;return}s.flags&32768?(et||u===1?n=!0:lo||(Ze&536870912)!==0?n=!1:(mr=n=!0,(u===2||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wy(s,n)):Bc(s)}function Bc(n){var s=n;do{if((s.flags&32768)!==0){Wy(s,mr);return}n=s.return;var o=CC(s.alternate,s,vr);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=n}while(s!==null);St===0&&(St=5)}function Wy(n,s){do{var o=AC(n.alternate,n);if(o!==null){o.flags&=32767,qe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){qe=n;return}qe=n=o}while(n!==null);St=6,qe=null}function Zy(n,s,o,u,f,g,b,R,N,F){var re=w.T,he=ae.p;try{ae.p=2,w.T=null,xC(n,s,o,u,he,f,g,b,R,N,F)}finally{w.T=re,ae.p=he}}function xC(n,s,o,u,f,g,b,R){do fo();while(ya!==null);if((gt&6)!==0)throw Error(r(327));var N=n.finishedWork;if(u=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var F=N.lanes|N.childLanes;if(F|=Bf,De(n,u,F,g,b,R),n===ut&&(qe=ut=null,Ze=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||jc||(jc=!0,Kd=F,$d=o,VC(jn,function(){return fo(),null})),o=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||o?(o=w.T,w.T=null,g=ae.p,ae.p=2,b=gt,gt|=4,SC(n,N),Oy(N,n),iC(cp,n.containerInfo),Jc=!!up,cp=up=null,n.current=N,Ry(n,N.alternate,N),yi(),gt=b,ae.p=g,w.T=o):n.current=N,jc?(jc=!1,ya=n,jl=u):Xy(n,F),F=n.pendingLanes,F===0&&(cs=null),Ei(N.stateNode),Pi(n),s!==null)for(f=n.onRecoverableError,N=0;N<s.length;N++)F=s[N],f(F.value,{componentStack:F.stack});return(jl&3)!==0&&fo(),F=n.pendingLanes,(u&4194218)!==0&&(F&42)!==0?n===Qd?zl++:(zl=0,Qd=n):zl=0,Bl(0),null}function Xy(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Tl(s)))}function fo(){if(ya!==null){var n=ya,s=Kd;Kd=0;var o=Fu(jl),u=w.T,f=ae.p;try{if(ae.p=32>o?32:o,w.T=null,ya===null)var g=!1;else{o=$d,$d=null;var b=ya,R=jl;if(ya=null,jl=0,(gt&6)!==0)throw Error(r(331));var N=gt;if(gt|=4,Ny(b.current),xy(b,b.current,R,o),gt=N,Bl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(wn,b)}catch{}g=!0}return g}finally{ae.p=f,w.T=u,Xy(n,s)}}return!1}function Jy(n,s,o){s=Kn(o,s),s=md(n.stateNode,s,2),n=rs(n,s,2),n!==null&&(ot(n,2),Pi(n))}function lt(n,s,o){if(n.tag===3)Jy(n,n,o);else for(;s!==null;){if(s.tag===3){Jy(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cs===null||!cs.has(u))){n=Kn(o,n),o=ny(2),u=rs(s,o,2),u!==null&&(iy(o,u,s,n),ot(u,2),Pi(u));break}}s=s.return}}function Jd(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new LC;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Hd=!0,f.add(o),n=kC.bind(null,n,s,o),s.then(n,n))}function kC(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ut===n&&(Ze&o)===o&&(St===4||St===3&&(Ze&62914560)===Ze&&300>Wt()-Gd?(gt&2)===0&&co(n,0):qd|=o,uo===Ze&&(uo=0)),Pi(n)}function e_(n,s){s===0&&(s=li()),n=Wr(n,s),n!==null&&(ot(n,s),Pi(n))}function PC(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),e_(n,o)}function NC(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),e_(n,o)}function VC(n,s){return vi(n,s)}var Hc=null,po=null,ep=!1,qc=!1,tp=!1,_a=0;function Pi(n){n!==po&&n.next===null&&(po===null?Hc=po=n:po=po.next=n),qc=!0,ep||(ep=!0,jC(UC))}function Bl(n,s){if(!tp&&qc){tp=!0;do for(var o=!1,u=Hc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-Rt(42|n)+1)-1,g&=f&~(b&~R),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,i_(u,g))}else g=Ze,g=pn(u,u===ut?g:0),(g&3)===0||Rn(u,g)||(o=!0,i_(u,g));u=u.next}while(o);tp=!1}}function UC(){qc=ep=!1;var n=0;_a!==0&&($C()&&(n=_a),_a=0);for(var s=Wt(),o=null,u=Hc;u!==null;){var f=u.next,g=t_(u,s);g===0?(u.next=null,o===null?Hc=f:o.next=f,f===null&&(po=o)):(o=u,(n!==0||(g&3)!==0)&&(qc=!0)),u=f}Bl(n)}function t_(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var b=31-Rt(g),R=1<<b,N=f[b];N===-1?((R&o)===0||(R&u)!==0)&&(f[b]=Yi(R,s)):N<=s&&(n.expiredLanes|=R),g&=~R}if(s=ut,o=Ze,o=pn(n,n===s?o:0),u=n.callbackNode,o===0||n===s&&ct===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ai(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Rn(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&ai(u),Fu(o)){case 2:case 8:o=ft;break;case 32:o=jn;break;case 268435456:o=Pr;break;default:o=jn}return u=n_.bind(null,n),o=vi(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&ai(u),n.callbackPriority=2,n.callbackNode=null,2}function n_(n,s){var o=n.callbackNode;if(fo()&&n.callbackNode!==o)return null;var u=Ze;return u=pn(n,n===ut?u:0),u===0?null:(qy(n,u,s),t_(n,Wt()),n.callbackNode!=null&&n.callbackNode===o?n_.bind(null,n):null)}function i_(n,s){if(fo())return null;qy(n,s,!0)}function jC(n){YC(function(){(gt&6)!==0?vi(_t,n):n()})}function np(){return _a===0&&(_a=bi()),_a}function r_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wi(""+n)}function s_(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function zC(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=r_((f[kt]||null).action),b=u.submitter;b&&(s=(s=b[kt]||null)?r_(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var R=new Ua("action","action",null,u,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var N=b?s_(f,b):new FormData(f);hd(o,{pending:!0,data:N,method:f.method,action:g},null,N)}}else typeof g=="function"&&(R.preventDefault(),N=b?s_(f,b):new FormData(f),hd(o,{pending:!0,data:N,method:f.method,action:g},g,N))},currentTarget:f}]})}}for(var ip=0;ip<Zm.length;ip++){var rp=Zm[ip],BC=rp.toLowerCase(),HC=rp[0].toUpperCase()+rp.slice(1);ci(BC,"on"+HC)}ci(Km,"onAnimationEnd"),ci($m,"onAnimationIteration"),ci(Qm,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(sC,"onTransitionRun"),ci(aC,"onTransitionStart"),ci(oC,"onTransitionCancel"),ci(Ym,"onTransitionEnd"),En("onMouseEnter",["mouseout","mouseover"]),En("onMouseLeave",["mouseout","mouseover"]),En("onPointerEnter",["pointerout","pointerover"]),En("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function a_(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var R=u[b],N=R.instance,F=R.currentTarget;if(R=R.listener,N!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=F;try{g(f)}catch(re){Ic(re)}f.currentTarget=null,g=N}else for(b=0;b<u.length;b++){if(R=u[b],N=R.instance,F=R.currentTarget,R=R.listener,N!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=F;try{g(f)}catch(re){Ic(re)}f.currentTarget=null,g=N}}}}function $e(n,s){var o=s[Fs];o===void 0&&(o=s[Fs]=new Set);var u=n+"__bubble";o.has(u)||(o_(s,n,2,!1),o.add(u))}function sp(n,s,o){var u=0;s&&(u|=4),o_(o,n,u,s)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function ap(n){if(!n[Fc]){n[Fc]=!0,el.forEach(function(o){o!=="selectionchange"&&(qC.has(o)||sp(o,!1,n),sp(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Fc]||(s[Fc]=!0,sp("selectionchange",!1,s))}}function o_(n,s,o,u){switch(M_(s)){case 2:var f=gA;break;case 8:f=mA;break;default:f=_p}o=f.bind(null,s,o,n),f=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function op(n,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var R=u.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&(N=b.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;b=b.return}for(;R!==null;){if(b=ui(R),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=g=b;continue e}R=R.parentNode}}u=u.return}Yu(function(){var F=g,re=Va(o),he=[];e:{var ee=Wm.get(n);if(ee!==void 0){var ie=Ua,we=n;switch(n){case"keypress":if(Ai(o)===0)break e;case"keydown":case"keyup":ie=Fa;break;case"focusin":we="focus",ie=Ba;break;case"focusout":we="blur",ie=Ba;break;case"beforeblur":case"afterblur":ie=Ba;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=ic;break;case Km:case $m:case Qm:ie=Ha;break;case Ym:ie=sc;break;case"scroll":case"scrollend":ie=Wu;break;case"wheel":ie=Ga;break;case"copy":case"cut":case"paste":ie=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=fl;break;case"toggle":case"beforetoggle":ie=oc}var ke=(s&4)!==0,Tt=!ke&&(n==="scroll"||n==="scrollend"),$=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var H=F,X;H!==null;){var le=H;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||$===null||(le=Ys(H,$),le!=null&&ke.push(ql(H,le,X))),Tt)break;H=H.return}0<ke.length&&(ee=new ie(ee,we,null,o,re),he.push({event:ee,listeners:ke}))}}if((s&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",ee&&o!==Hn&&(we=o.relatedTarget||o.fromElement)&&(ui(we)||we[Wi]))break e;if((ie||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(we=o.relatedTarget||o.toElement,ie=F,we=we?ui(we):null,we!==null&&(Tt=fe(we),ke=we.tag,we!==Tt||ke!==5&&ke!==27&&ke!==6)&&(we=null)):(ie=null,we=F),ie!==we)){if(ke=Fn,le="onMouseLeave",$="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(ke=fl,le="onPointerLeave",$="onPointerEnter",H="pointer"),Tt=ie==null?ee:qr(ie),X=we==null?ee:qr(we),ee=new ke(le,H+"leave",ie,o,re),ee.target=Tt,ee.relatedTarget=X,le=null,ui(re)===F&&(ke=new ke($,H+"enter",we,o,re),ke.target=X,ke.relatedTarget=Tt,le=ke),Tt=le,ie&&we)t:{for(ke=ie,$=we,H=0,X=ke;X;X=go(X))H++;for(X=0,le=$;le;le=go(le))X++;for(;0<H-X;)ke=go(ke),H--;for(;0<X-H;)$=go($),X--;for(;H--;){if(ke===$||$!==null&&ke===$.alternate)break t;ke=go(ke),$=go($)}ke=null}else ke=null;ie!==null&&l_(he,ee,ie,ke,!1),we!==null&&Tt!==null&&l_(he,Tt,we,ke,!0)}}e:{if(ee=F?qr(F):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var Se=Pm;else if(Nt(ee))if(Nm)Se=tC;else{Se=Jw;var ze=Xw}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?F&&sl(F.elementType)&&(Se=Pm):Se=eC;if(Se&&(Se=Se(n,F))){rr(he,Se,o,re);break e}ze&&ze(n,ee,F),n==="focusout"&&F&&ee.type==="number"&&F.memoizedProps.value!=null&&Na(ee,"number",ee.value)}switch(ze=F?qr(F):window,n){case"focusin":(Nt(ze)||ze.contentEditable==="true")&&(Ka=ze,Uf=F,gl=null);break;case"focusout":gl=Uf=Ka=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Fm(he,o,re);break;case"selectionchange":if(rC)break;case"keydown":case"keyup":Fm(he,o,re)}var Ce;if(Ii)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ye?te(n,o)&&(Le="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(E&&o.locale!=="ko"&&(Ye||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ye&&(Ce=ol()):(Ci=re,Yr="value"in Ci?Ci.value:Ci.textContent,Ye=!0)),ze=Gc(F,Le),0<ze.length&&(Le=new cl(Le,n,null,o,re),he.push({event:Le,listeners:ze}),Ce?Le.data=Ce:(Ce=de(o),Ce!==null&&(Le.data=Ce)))),(Ce=y?Pt(n,o):We(n,o))&&(Le=Gc(F,"onBeforeInput"),0<Le.length&&(ze=new cl("onBeforeInput","beforeinput",null,o,re),he.push({event:ze,listeners:Le}),ze.data=Ce)),zC(he,n,F,o,re)}a_(he,s)})}function ql(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Gc(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ys(n,o),f!=null&&u.unshift(ql(n,f,g)),f=Ys(n,s),f!=null&&u.push(ql(n,f,g))),n=n.return}return u}function go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function l_(n,s,o,u,f){for(var g=s._reactName,b=[];o!==null&&o!==u;){var R=o,N=R.alternate,F=R.stateNode;if(R=R.tag,N!==null&&N===u)break;R!==5&&R!==26&&R!==27||F===null||(N=F,f?(F=Ys(o,g),F!=null&&b.unshift(ql(o,F,N))):f||(F=Ys(o,g),F!=null&&b.push(ql(o,F,N)))),o=o.return}b.length!==0&&n.push({event:s,listeners:b})}var FC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function u_(n){return(typeof n=="string"?n:""+n).replace(FC,`
`).replace(GC,"")}function c_(n,s){return s=u_(s),u_(n)===s}function Kc(){}function at(n,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Bn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Bn(n,""+u);break;case"className":Kr(n,"class",u);break;case"tabIndex":Kr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(n,o,u);break;case"style":Qu(n,u,g);break;case"data":if(s!=="object"){Kr(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=wi(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&at(n,s,"name",f.name,f,null),at(n,s,"formEncType",f.formEncType,f,null),at(n,s,"formMethod",f.formMethod,f,null),at(n,s,"formTarget",f.formTarget,f,null)):(at(n,s,"encType",f.encType,f,null),at(n,s,"method",f.method,f,null),at(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=wi(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Kc);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=wi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Gr(n,"popover",u);break;case"xlinkActuate":zn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Of.get(o)||o,Gr(n,o,u))}}function lp(n,s,o,u,f,g){switch(o){case"style":Qu(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Bn(n,u):(typeof u=="number"||typeof u=="bigint")&&Bn(n,""+u);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ka.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=n[kt]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Gr(n,o,u)}}}function en(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(n,s,g,b,o,null)}}f&&at(n,s,"srcSet",o.srcSet,o,null),u&&at(n,s,"src",o.src,o,null);return;case"input":$e("invalid",n);var R=g=b=f=null,N=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":f=re;break;case"type":b=re;break;case"checked":N=re;break;case"defaultChecked":F=re;break;case"value":g=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:at(n,s,u,re,o,null)}}$s(n,g,R,N,F,b,f,!1),Ks(n);return;case"select":$e("invalid",n),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(R=o[f],R!=null))switch(f){case"value":g=R;break;case"defaultValue":b=R;break;case"multiple":u=R;default:at(n,s,f,R,o,null)}s=g,o=b,n.multiple=!!u,s!=null?Je(n,!!u,s,!1):o!=null&&Je(n,!!u,o,!0);return;case"textarea":$e("invalid",n),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(R=o[b],R!=null))switch(b){case"value":u=R;break;case"defaultValue":f=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:at(n,s,b,R,o,null)}Qr(n,u,f,g),Ks(n);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:at(n,s,N,u,o,null)}return;case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(u=0;u<Hl.length;u++)$e(Hl[u],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(n,s,F,u,o,null)}return;default:if(sl(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&lp(n,s,re,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&at(n,s,R,u,o,null))}function KC(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,R=null,N=null,F=null,re=null;for(ie in o){var he=o[ie];if(o.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":N=he;default:u.hasOwnProperty(ie)||at(n,s,ie,null,u,he)}}for(var ee in u){var ie=u[ee];if(he=o[ee],u.hasOwnProperty(ee)&&(ie!=null||he!=null))switch(ee){case"type":g=ie;break;case"name":f=ie;break;case"checked":F=ie;break;case"defaultChecked":re=ie;break;case"value":b=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ie!==he&&at(n,s,ee,ie,u,he)}}$r(n,b,R,N,F,re,g,f);return;case"select":ie=b=R=ee=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":ie=N;default:u.hasOwnProperty(g)||at(n,s,g,null,u,N)}for(f in u)if(g=u[f],N=o[f],u.hasOwnProperty(f)&&(g!=null||N!=null))switch(f){case"value":ee=g;break;case"defaultValue":R=g;break;case"multiple":b=g;default:g!==N&&at(n,s,f,g,u,N)}s=R,o=b,u=ie,ee!=null?Je(n,!!o,ee,!1):!!u!=!!o&&(s!=null?Je(n,!!o,s,!0):Je(n,!!o,o?[]:"",!1));return;case"textarea":ie=ee=null;for(R in o)if(f=o[R],o.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:at(n,s,R,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":ee=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&at(n,s,b,f,u,g)}Qs(n,ee,ie);return;case"option":for(var we in o)if(ee=o[we],o.hasOwnProperty(we)&&ee!=null&&!u.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:at(n,s,we,null,u,ee)}for(N in u)if(ee=u[N],ie=o[N],u.hasOwnProperty(N)&&ee!==ie&&(ee!=null||ie!=null))switch(N){case"selected":n.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:at(n,s,N,ee,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)ee=o[ke],o.hasOwnProperty(ke)&&ee!=null&&!u.hasOwnProperty(ke)&&at(n,s,ke,null,u,ee);for(F in u)if(ee=u[F],ie=o[F],u.hasOwnProperty(F)&&ee!==ie&&(ee!=null||ie!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:at(n,s,F,ee,u,ie)}return;default:if(sl(s)){for(var Tt in o)ee=o[Tt],o.hasOwnProperty(Tt)&&ee!==void 0&&!u.hasOwnProperty(Tt)&&lp(n,s,Tt,void 0,u,ee);for(re in u)ee=u[re],ie=o[re],!u.hasOwnProperty(re)||ee===ie||ee===void 0&&ie===void 0||lp(n,s,re,ee,u,ie);return}}for(var $ in o)ee=o[$],o.hasOwnProperty($)&&ee!=null&&!u.hasOwnProperty($)&&at(n,s,$,null,u,ee);for(he in u)ee=u[he],ie=o[he],!u.hasOwnProperty(he)||ee===ie||ee==null&&ie==null||at(n,s,he,ee,u,ie)}var up=null,cp=null;function $c(n){return n.nodeType===9?n:n.ownerDocument}function h_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function hp(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fp=null;function $C(){var n=window.event;return n&&n.type==="popstate"?n===fp?!1:(fp=n,!0):(fp=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,QC=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,YC=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(n){return p_.resolve(null).then(n).catch(WC)}:d_;function WC(n){setTimeout(function(){throw n})}function dp(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){n.removeChild(f),Zl(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Zl(s)}function pp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pp(o),Gs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function ZC(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Hr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=di(n.nextSibling),n===null)break}return null}function XC(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=di(n.nextSibling),n===null))return null;return n}function di(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function g_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function m_(n,s,o){switch(s=$c(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}var ei=new Map,v_=new Set;function Qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var _r=ae.d;ae.d={f:JC,r:eA,D:tA,C:nA,L:iA,m:rA,X:aA,S:sA,M:oA};function JC(){var n=_r.f(),s=zc();return n||s}function eA(n){var s=Zi(n);s!==null&&s.tag===5&&s.type==="form"?Fv(s):_r.r(n)}var mo=typeof document>"u"?null:document;function y_(n,s,o){var u=mo;if(u&&typeof s=="string"&&s){var f=Et(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),v_.has(f)||(v_.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),en(s,"link",n),dt(s),u.head.appendChild(s)))}}function tA(n){_r.D(n),y_("dns-prefetch",n,null)}function nA(n,s){_r.C(n,s),y_("preconnect",n,s)}function iA(n,s,o){_r.L(n,s,o);var u=mo;if(u&&n&&s){var f='link[rel="preload"][as="'+Et(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Et(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Et(o.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var g=f;switch(s){case"style":g=vo(n);break;case"script":g=yo(n)}ei.has(g)||(n=M({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),ei.set(g,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Fl(g))||s==="script"&&u.querySelector(Gl(g))||(s=u.createElement("link"),en(s,"link",n),dt(s),u.head.appendChild(s)))}}function rA(n,s){_r.m(n,s);var o=mo;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yo(n)}if(!ei.has(g)&&(n=M({rel:"modulepreload",href:n},s),ei.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gl(g)))return}u=o.createElement("link"),en(u,"link",n),dt(u),o.head.appendChild(u)}}}function sA(n,s,o){_r.S(n,s,o);var u=mo;if(u&&n){var f=Fr(u).hoistableStyles,g=vo(n);s=s||"default";var b=f.get(g);if(!b){var R={loading:0,preload:null};if(b=u.querySelector(Fl(g)))R.loading=5;else{n=M({rel:"stylesheet",href:n,"data-precedence":s},o),(o=ei.get(g))&&gp(n,o);var N=b=u.createElement("link");dt(N),en(N,"link",n),N._p=new Promise(function(F,re){N.onload=F,N.onerror=re}),N.addEventListener("load",function(){R.loading|=1}),N.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Yc(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:R},f.set(g,b)}}}function aA(n,s){_r.X(n,s);var o=mo;if(o&&n){var u=Fr(o).hoistableScripts,f=yo(n),g=u.get(f);g||(g=o.querySelector(Gl(f)),g||(n=M({src:n,async:!0},s),(s=ei.get(f))&&mp(n,s),g=o.createElement("script"),dt(g),en(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function oA(n,s){_r.M(n,s);var o=mo;if(o&&n){var u=Fr(o).hoistableScripts,f=yo(n),g=u.get(f);g||(g=o.querySelector(Gl(f)),g||(n=M({src:n,async:!0,type:"module"},s),(s=ei.get(f))&&mp(n,s),g=o.createElement("script"),dt(g),en(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function __(n,s,o,u){var f=(f=yt.current)?Qc(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=vo(o.href),o=Fr(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=vo(o.href);var g=Fr(f).hoistableStyles,b=g.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,b),(g=f.querySelector(Fl(n)))&&!g._p&&(b.instance=g,b.state.loading=5),ei.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(n,o),g||lA(f,n,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yo(o),o=Fr(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function vo(n){return'href="'+Et(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function E_(n){return M({},n,{"data-precedence":n.precedence,precedence:null})}function lA(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),en(s,"link",o),dt(s),n.head.appendChild(s))}function yo(n){return'[src="'+Et(n)+'"]'}function Gl(n){return"script[async]"+n}function b_(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Et(o.href)+'"]');if(u)return s.instance=u,dt(u),u;var f=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),dt(u),en(u,"style",f),Yc(u,o.precedence,n),s.instance=u;case"stylesheet":f=vo(o.href);var g=n.querySelector(Fl(f));if(g)return s.state.loading|=4,s.instance=g,dt(g),g;u=E_(o),(f=ei.get(f))&&gp(u,f),g=(n.ownerDocument||n).createElement("link"),dt(g);var b=g;return b._p=new Promise(function(R,N){b.onload=R,b.onerror=N}),en(g,"link",u),s.state.loading|=4,Yc(g,o.precedence,n),s.instance=g;case"script":return g=yo(o.src),(f=n.querySelector(Gl(g)))?(s.instance=f,dt(f),f):(u=o,(f=ei.get(g))&&(u=M({},o),mp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),en(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Yc(u,o.precedence,n));return s.instance}function Yc(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var R=u[b];if(R.dataset.precedence===s)g=R;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function gp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function mp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Wc=null;function S_(n,s,o){if(Wc===null){var u=new Map,f=Wc=new Map;f.set(o,u)}else f=Wc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Hr]||g[qt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=n+b;var R=u.get(b);R?R.push(g):u.set(b,[g])}}return u}function T_(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function uA(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function w_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Kl=null;function cA(){}function hA(n,s,o){if(Kl===null)throw Error(r(475));var u=Kl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=vo(o.href),g=n.querySelector(Fl(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Zc.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=g,dt(g);return}g=n.ownerDocument||n,o=E_(o),(f=ei.get(f))&&gp(o,f),g=g.createElement("link"),dt(g);var b=g;b._p=new Promise(function(R,N){b.onload=R,b.onerror=N}),en(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Zc.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function fA(){if(Kl===null)throw Error(r(475));var n=Kl;return n.stylesheets&&n.count===0&&vp(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&vp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)vp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function vp(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,s.forEach(dA,n),Xc=null,Zc.call(n))}function dA(n,s){if(!(s.state.loading&4)){var o=Xc.get(n);if(o)var u=o.get(null);else{o=new Map,Xc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=s.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=Zc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var $l={$$typeof:C,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function pA(n,s,o,u,f,g,b,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function C_(n,s,o,u,f,g,b,R,N,F,re,he){return n=new pA(n,s,o,b,R,N,F,he),s=1,g===!0&&(s|=24),g=Xn(3,null,null,s),n.current=g,g.stateNode=n,s=Yf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Id(g),n}function A_(n){return n?(n=Ya,n):Ya}function R_(n,s,o,u,f,g){f=A_(f),u.context===null?u.context=f:u.pendingContext=f,u=is(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=rs(n,u,s),o!==null&&(yn(o,n,s),Ml(o,n,s))}function L_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function yp(n,s){L_(n,s),(n=n.alternate)&&L_(n,s)}function I_(n){if(n.tag===13){var s=Wr(n,67108864);s!==null&&yn(s,n,67108864),yp(n,67108864)}}var Jc=!0;function gA(n,s,o,u){var f=w.T;w.T=null;var g=ae.p;try{ae.p=2,_p(n,s,o,u)}finally{ae.p=g,w.T=f}}function mA(n,s,o,u){var f=w.T;w.T=null;var g=ae.p;try{ae.p=8,_p(n,s,o,u)}finally{ae.p=g,w.T=f}}function _p(n,s,o,u){if(Jc){var f=Ep(u);if(f===null)op(n,s,u,eh,o),O_(n,u);else if(yA(f,n,s,o,u))u.stopPropagation();else if(O_(n,u),s&4&&-1<vA.indexOf(n)){for(;f!==null;){var g=Zi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=sn(g.pendingLanes);if(b!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var N=1<<31-Rt(b);R.entanglements[1]|=N,b&=~N}Pi(g),(gt&6)===0&&(Vc=Wt()+500,Bl(0))}}break;case 13:R=Wr(g,2),R!==null&&yn(R,g,2),zc(),yp(g,2)}if(g=Ep(u),g===null&&op(n,s,u,eh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else op(n,s,u,null,o)}}function Ep(n){return n=Va(n),bp(n)}var eh=null;function bp(n){if(eh=null,n=ui(n),n!==null){var s=fe(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=Te(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return eh=n,null}function M_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case _t:return 2;case ft:return 8;case jn:case $i:return 32;case Pr:return 268435456;default:return 32}default:return 32}}var Sp=!1,hs=null,fs=null,ds=null,Ql=new Map,Yl=new Map,ps=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(n,s){switch(n){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(s.pointerId)}}function Wl(n,s,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Zi(s),s!==null&&I_(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function yA(n,s,o,u,f){switch(s){case"focusin":return hs=Wl(hs,n,s,o,u,f),!0;case"dragenter":return fs=Wl(fs,n,s,o,u,f),!0;case"mouseover":return ds=Wl(ds,n,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return Ql.set(g,Wl(Ql.get(g)||null,n,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Yl.set(g,Wl(Yl.get(g)||null,n,s,o,u,f)),!0}return!1}function D_(n){var s=ui(n.target);if(s!==null){var o=fe(s);if(o!==null){if(s=o.tag,s===13){if(s=Te(o),s!==null){n.blockedOn=s,Br(n.priority,function(){if(o.tag===13){var u=kn(),f=Wr(o,u);f!==null&&yn(f,o,u),yp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function th(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Ep(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Hn=u,o.target.dispatchEvent(u),Hn=null}else return s=Zi(o),s!==null&&I_(s),n.blockedOn=o,!1;s.shift()}return!0}function x_(n,s,o){th(n)&&o.delete(s)}function _A(){Sp=!1,hs!==null&&th(hs)&&(hs=null),fs!==null&&th(fs)&&(fs=null),ds!==null&&th(ds)&&(ds=null),Ql.forEach(x_),Yl.forEach(x_)}function nh(n,s){n.blockedOn===s&&(n.blockedOn=null,Sp||(Sp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_A)))}var ih=null;function k_(n){ih!==n&&(ih=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ih===n&&(ih=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(bp(u||o)===null)continue;break}var g=Zi(o);g!==null&&(n.splice(s,3),s-=3,hd(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Zl(n){function s(N){return nh(N,n)}hs!==null&&nh(hs,n),fs!==null&&nh(fs,n),ds!==null&&nh(ds,n),Ql.forEach(s),Yl.forEach(s);for(var o=0;o<ps.length;o++){var u=ps[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ps.length&&(o=ps[0],o.blockedOn===null);)D_(o),o.blockedOn===null&&ps.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[kt]||null;if(typeof g=="function")b||k_(o);else if(b){var R=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[kt]||null)R=b.formAction;else if(bp(f)!==null)continue}else R=b.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),k_(o)}}}function Tp(n){this._internalRoot=n}rh.prototype.render=Tp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=kn();R_(o,u,n,s,null,null)},rh.prototype.unmount=Tp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&fo(),R_(n.current,2,null,n,null,null),zc(),s[Wi]=null}};function rh(n){this._internalRoot=n}rh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Gu();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ps.length&&s!==0&&s<ps[o].priority;o++);ps.splice(o,0,n),o===0&&D_(n)}};var P_=e.version;if(P_!=="19.0.0")throw Error(r(527,P_,"19.0.0"));ae.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=W(s),n=n!==null?se(n):null,n=n===null?null:n.stateNode,n};var EA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:ui,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{wn=sh.inject(EA),xt=sh}catch{}}return Jl.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=Xv,g=Jv,b=ey,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=C_(n,1,!1,null,null,o,u,f,g,b,R,null),n[Wi]=s.current,ap(n.nodeType===8?n.parentNode:n),new Tp(s)},Jl.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",g=Xv,b=Jv,R=ey,N=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),s=C_(n,1,!0,s,o??null,u,f,g,b,R,N,F),s.context=A_(null),o=s.current,u=kn(),f=is(u),f.callback=null,rs(o,f,u),s.current.lanes=u,ot(s,u),Pi(s),n[Wi]=s.current,ap(n),new rh(s)},Jl.version="19.0.0",Jl}var G_;function IA(){if(G_)return Ap.exports;G_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ap.exports=LA(),Ap.exports}var MA=IA();const OA=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},DA=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,p=a+2<i.length,m=p?i[a+2]:0,_=l>>2,S=(l&3)<<4|d>>4;let T=(d&15)<<2|m>>6,C=m&63;p||(C=64,c||(T=64)),r.push(t[_],t[S],t[T],t[C])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):DA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const m=a<i.length?t[i.charAt(a)]:64;++a;const S=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||m==null||S==null)throw new xA;const T=l<<2|d>>4;if(r.push(T),m!==64){const C=d<<4&240|m>>2;if(r.push(C),S!==64){const A=m<<6&192|S;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kA=function(i){const e=qb(i);return Fb.encodeByteArray(e,!0)},Rh=function(i){return kA(i).replace(/\./g,"")},Gb=function(i){try{return Fb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=()=>PA().__FIREBASE_DEFAULTS__,VA=()=>{if(typeof process>"u"||typeof K_>"u")return;const i=K_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Gb(i[1]);return e&&JSON.parse(e)},rf=()=>{try{return OA()||NA()||VA()||UA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Kb=i=>{var e,t;return(t=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},jA=i=>{const e=Kb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$b=()=>{var i;return(i=rf())===null||i===void 0?void 0:i.config},Qb=i=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function qA(){var i;const e=(i=rf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const i=dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function QA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="FirebaseError";class Mr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZA,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?XA(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Mr(a,d,r)}}function XA(i,e){return i.replace(JA,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const JA=/\{\$([^}]+)}/g;function eR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ms(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if($_(l)&&$_(c)){if(!Ms(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function $_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function su(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function au(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function tR(i,e){const t=new nR(i,e);return t.subscribe.bind(t)}class nR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Mp),a.error===void 0&&(a.error=Mp),a.complete===void 0&&(a.complete=Mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(i){return i&&i._delegate?i._delegate:i}class wa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(i){return i===ba?void 0:i}function aR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const lR={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},uR=Ge.INFO,cR={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},hR=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=cR[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const fR=(i,e)=>e.some(t=>i instanceof t);let Q_,Y_;function dR(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yb=new WeakMap,Qp=new WeakMap,Wb=new WeakMap,Op=new WeakMap,Ag=new WeakMap;function gR(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(Cs(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Yb.set(t,i)}).catch(()=>{}),Ag.set(e,i),e}function mR(i){if(Qp.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Qp.set(i,e)}let Yp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Qp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Wb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function vR(i){Yp=i(Yp)}function yR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Dp(this),e,...t);return Wb.set(r,e.sort?e.sort():[e]),Cs(r)}:pR().includes(i)?function(...e){return i.apply(Dp(this),e),Cs(Yb.get(this))}:function(...e){return Cs(i.apply(Dp(this),e))}}function _R(i){return typeof i=="function"?yR(i):(i instanceof IDBTransaction&&mR(i),fR(i,dR())?new Proxy(i,Yp):i)}function Cs(i){if(i instanceof IDBRequest)return gR(i);if(Op.has(i))return Op.get(i);const e=_R(i);return e!==i&&(Op.set(i,e),Ag.set(e,i)),e}const Dp=i=>Ag.get(i);function ER(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=Cs(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Cs(c.result),p.oldVersion,p.newVersion,Cs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const bR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],xp=new Map;function W_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=SR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||bR.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return xp.set(e,l),l}vR(i=>({...i,get:(e,t,r)=>W_(e,t)||i.get(e,t,r),has:(e,t)=>!!W_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function wR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wp="@firebase/app",Z_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Cg("@firebase/app"),CR="@firebase/app-compat",AR="@firebase/analytics-compat",RR="@firebase/analytics",LR="@firebase/app-check-compat",IR="@firebase/app-check",MR="@firebase/auth",OR="@firebase/auth-compat",DR="@firebase/database",xR="@firebase/data-connect",kR="@firebase/database-compat",PR="@firebase/functions",NR="@firebase/functions-compat",VR="@firebase/installations",UR="@firebase/installations-compat",jR="@firebase/messaging",zR="@firebase/messaging-compat",BR="@firebase/performance",HR="@firebase/performance-compat",qR="@firebase/remote-config",FR="@firebase/remote-config-compat",GR="@firebase/storage",KR="@firebase/storage-compat",$R="@firebase/firestore",QR="@firebase/vertexai",YR="@firebase/firestore-compat",WR="firebase",ZR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="[DEFAULT]",XR={[Wp]:"fire-core",[CR]:"fire-core-compat",[RR]:"fire-analytics",[AR]:"fire-analytics-compat",[IR]:"fire-app-check",[LR]:"fire-app-check-compat",[MR]:"fire-auth",[OR]:"fire-auth-compat",[DR]:"fire-rtdb",[xR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[PR]:"fire-fn",[NR]:"fire-fn-compat",[VR]:"fire-iid",[UR]:"fire-iid-compat",[jR]:"fire-fcm",[zR]:"fire-fcm-compat",[BR]:"fire-perf",[HR]:"fire-perf-compat",[qR]:"fire-rc",[FR]:"fire-rc-compat",[GR]:"fire-gcs",[KR]:"fire-gcs-compat",[$R]:"fire-fst",[YR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,JR=new Map,Xp=new Map;function X_(i,e){try{i.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Oo(i){const e=i.name;if(Xp.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,i);for(const t of Lh.values())X_(t,i);for(const t of JR.values())X_(t,i);return!0}function Rg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ii(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Mu("app","Firebase",eL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=ZR;function Zb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zp,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw As.create("bad-app-name",{appName:String(a)});if(t||(t=$b()),!t)throw As.create("no-options");const l=Lh.get(a);if(l){if(Ms(t,l.options)&&Ms(r,l.config))return l;throw As.create("duplicate-app",{appName:a})}const c=new oR(a);for(const p of Xp.values())c.addComponent(p);const d=new tL(t,r,c);return Lh.set(a,d),d}function Xb(i=Zp){const e=Lh.get(i);if(!e&&i===Zp&&$b())return Zb();if(!e)throw As.create("no-app",{appName:i});return e}function Rs(i,e,t){var r;let a=(r=XR[i])!==null&&r!==void 0?r:i;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(d.join(" "));return}Oo(new wa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="firebase-heartbeat-database",iL=1,vu="firebase-heartbeat-store";let kp=null;function Jb(){return kp||(kp=ER(nL,iL,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(i=>{throw As.create("idb-open",{originalErrorMessage:i.message})})),kp}async function rL(i){try{const t=(await Jb()).transaction(vu),r=await t.objectStore(vu).get(eS(i));return await t.done,r}catch(e){if(e instanceof Mr)Ar.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ar.warn(t.message)}}}async function J_(i,e){try{const r=(await Jb()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,eS(i)),await r.done}catch(t){if(t instanceof Mr)Ar.warn(t.message);else{const r=As.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ar.warn(r.message)}}}function eS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=1024,aL=30;class oL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=eE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>aL){const c=cL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:r,unsentEntries:a}=lL(this._heartbeatsCache.heartbeats),l=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ar.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function lL(i,e=sL){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),tE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),tE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class uL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function tE(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function cL(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(i){Oo(new wa("platform-logger",e=>new TR(e),"PRIVATE")),Oo(new wa("heartbeat",e=>new oL(e),"PRIVATE")),Rs(Wp,Z_,i),Rs(Wp,Z_,"esm2017"),Rs("fire-js","")}hL("");function Lg(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(i);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(i,r[a])&&(t[r[a]]=i[r[a]]);return t}function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fL=tS,nS=new Mu("auth","Firebase",tS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Cg("@firebase/auth");function dL(i,...e){Ih.logLevel<=Ge.WARN&&Ih.warn(`Auth (${Bo}): ${i}`,...e)}function gh(i,...e){Ih.logLevel<=Ge.ERROR&&Ih.error(`Auth (${Bo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(i,...e){throw Ig(i,...e)}function Vi(i,...e){return Ig(i,...e)}function iS(i,e,t){const r=Object.assign(Object.assign({},fL()),{[e]:t});return new Mu("auth","Firebase",r).create(e,{appName:i.name})}function Tr(i){return iS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ig(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return nS.create(i,...e)}function Ie(i,e,...t){if(!i)throw Ig(e,...t)}function Er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw gh(e),new Error(e)}function Rr(i,e){i||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function pL(){return nE()==="http:"||nE()==="https:"}function nE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pL()||GA()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rr(t>e,"Short delay should be less than long delay!"),this.isMobile=HA()||KA()}get(){return gL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(i,e){Rr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new Du(3e4,6e4);function Or(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Dr(i,e,t,r,a={}){return sS(i,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Ou(Object.assign({key:i.config.apiKey},c)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},l);return FA()||(m.referrerPolicy="no-referrer"),rS.fetch()(aS(i,i.config.apiHost,t,d),m)})}async function sS(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},vL),e);try{const a=new EL(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ah(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw ah(i,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw iS(i,_,m);pi(i,_)}}catch(a){if(a instanceof Mr)throw a;pi(i,"network-request-failed",{message:String(a)})}}async function xu(i,e,t,r,a={}){const l=await Dr(i,e,t,r,a);return"mfaPendingCredential"in l&&pi(i,"multi-factor-auth-required",{_serverResponse:l}),l}function aS(i,e,t,r){const a=`${e}${t}?${r}`;return i.config.emulator?Mg(i.config,a):`${i.config.apiScheme}://${a}`}function _L(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),yL.get())})}}function ah(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Vi(i,e,r);return a.customData._tokenResponse=t,a}function iE(i){return i!==void 0&&i.enterprise!==void 0}class bL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _L(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SL(i,e){return Dr(i,"GET","/v2/recaptchaConfig",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(i,e){return Dr(i,"POST","/v1/accounts:delete",e)}async function oS(i,e){return Dr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wL(i,e=!1){const t=Bt(i),r=await t.getIdToken(e),a=Og(r);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:hu(Pp(a.auth_time)),issuedAtTime:hu(Pp(a.iat)),expirationTime:hu(Pp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Pp(i){return Number(i)*1e3}function Og(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Gb(t);return a?JSON.parse(a):(gh("Failed to decode base64 JWT payload"),null)}catch(a){return gh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function rE(i){const e=Og(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Mr&&CL(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function CL({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(i){var e;const t=i.auth,r=await i.getIdToken(),a=await yu(i,oS(t,{idToken:r}));Ie(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?lS(l.providerUserInfo):[],d=LL(i.providerData,c),p=i.isAnonymous,m=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?m:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new eg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,S)}async function RL(i){const e=Bt(i);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LL(i,e){return[...i.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function lS(i){return i.map(e=>{var{providerId:t}=e,r=Lg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(i,e){const t=await sS(i,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=aS(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",rS.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ML(i,e){return Dr(i,"POST","/v2/accounts:revokeToken",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=rE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await IL(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Co;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new eg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wL(this,e)}reload(){return RL(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await yu(this,TL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,c,d,p,m,_;const S=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,A=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(m=t.createdAt)!==null&&m!==void 0?m:void 0,G=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:K,isAnonymous:z,providerData:Y,stsTokenManager:O}=t;Ie(q&&O,e,"internal-error");const I=Co.fromJSON(this.name,O);Ie(typeof q=="string",e,"internal-error"),ms(S,e.name),ms(T,e.name),Ie(typeof K=="boolean",e,"internal-error"),Ie(typeof z=="boolean",e,"internal-error"),ms(C,e.name),ms(A,e.name),ms(V,e.name),ms(k,e.name),ms(B,e.name),ms(G,e.name);const w=new br({uid:q,auth:e,email:T,emailVerified:K,displayName:S,isAnonymous:z,photoURL:A,phoneNumber:C,tenantId:V,stsTokenManager:I,createdAt:B,lastLoginAt:G});return Y&&Array.isArray(Y)&&(w.providerData=Y.map(M=>Object.assign({},M))),k&&(w._redirectEventId=k),w}static async _fromIdTokenResponse(e,t,r=!1){const a=new Co;a.updateFromServerResponse(t);const l=new br({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Mh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?lS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Co;d.updateFromIdToken(r);const p=new br({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new eg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function Sr(i){Rr(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(Rr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uS.type="NONE";const aE=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i,e,t){return`firebase:${i}:${e}:${t}`}class Ao{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=mh(this.userKey,a.apiKey,l),this.fullPersistenceKey=mh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ao(Sr(aE),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Sr(aE);const c=mh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){const S=br._fromJSON(e,_);m!==l&&(d=S),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ao(l,e,r):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Ao(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(mS(e))return"Webos";if(hS(e))return"Safari";if((e.includes("chrome/")||fS(e))&&!e.includes("edge/"))return"Chrome";if(pS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cS(i=dn()){return/firefox\//i.test(i)}function hS(i=dn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fS(i=dn()){return/crios\//i.test(i)}function dS(i=dn()){return/iemobile/i.test(i)}function pS(i=dn()){return/android/i.test(i)}function gS(i=dn()){return/blackberry/i.test(i)}function mS(i=dn()){return/webos/i.test(i)}function Dg(i=dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function OL(i=dn()){var e;return Dg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DL(){return $A()&&document.documentMode===10}function vS(i=dn()){return Dg(i)||pS(i)||mS(i)||gS(i)||/windows phone/i.test(i)||dS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(i,e=[]){let t;switch(i){case"Browser":t=oE(dn());break;case"Worker":t=`${oE(dn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(i,e={}){return Dr(i,"GET","/v2/passwordPolicy",Or(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=6;class NL{constructor(e){var t,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:PL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new xL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await oS(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Tr(this));const t=e?Bt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kL(this),t=new NL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ML(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&dL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Us(i){return Bt(i)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=tR(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UL(i){sf=i}function _S(i){return sf.loadJS(i)}function jL(){return sf.recaptchaEnterpriseScript}function zL(){return sf.gapiScript}function BL(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class HL{constructor(){this.enterprise=new qL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FL="recaptcha-enterprise",ES="NO_RECAPTCHA";class GL{constructor(e){this.type=FL,this.auth=Us(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{SL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new bL(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(ES)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!t&&iE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jL();p.length!==0&&(p+=d),_S(p).then(()=>{a(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function uE(i,e,t,r=!1,a=!1){const l=new GL(i);let c;if(a)c=ES;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Oh(i,e,t,r,a){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await uE(i,e,t,t==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await uE(i,e,t,t==="getOobCode");return r(i,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(i,e){const t=Rg(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ms(l,e??{}))return a;pi(a,"already-initialized")}return t.initialize({options:e})}function $L(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Sr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QL(i,e,t){const r=Us(i);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=bS(e),{host:c,port:d}=YL(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Ms(m,r.config.emulator)&&Ms(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,WL()}function bS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function YL(i){const e=bS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:cE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:cE(c)}}}function cE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function WL(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,t){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function ZL(i,e){return Dr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(i,e){return xu(i,"POST","/v1/accounts:signInWithPassword",Or(i,e))}async function JL(i,e){return Dr(i,"POST","/v1/accounts:sendOobCode",Or(i,e))}async function eI(i,e){return JL(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(i,e){return xu(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}async function nI(i,e){return xu(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends xg{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,t,"signInWithPassword",XL);case"emailLink":return tI(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,r,"signUpPassword",ZL);case"emailLink":return nI(e,{idToken:t,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,e){return xu(i,"POST","/v1/accounts:signInWithIdp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="http://localhost";class Ca extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=Lg(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ca(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ro(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:iI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sI(i){const e=su(au(i)).link,t=e?su(au(e)).deep_link_id:null,r=su(au(i)).deep_link_id;return(r?su(au(r)).link:null)||r||t||e||i}class kg{constructor(e){var t,r,a,l,c,d;const p=su(au(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,S=rI((a=p.mode)!==null&&a!==void 0?a:null);Ie(m&&_&&S,"argument-error"),this.apiKey=m,this.operation=S,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=sI(e);try{return new kg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.providerId=Ho.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=kg.parseLink(t);return Ie(r,"argument-error"),_u._fromEmailAndCode(e,r.code,r.tenantId)}}Ho.PROVIDER_ID="password";Ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends SS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends ku{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ca._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Es.credential(t,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends ku{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends ku{constructor(){super("twitter.com")}static credential(e,t){return Ca._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ss.credential(t,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(i,e){return xu(i,"POST","/v1/accounts:signUp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await br._fromIdTokenResponse(e,r,a),c=hE(r);return new Aa({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=hE(r);return new Aa({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function hE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Mr{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Dh(e,t,r,a)}}function TS(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(i,l,e,r):l})}async function oI(i,e,t=!1){const r=await yu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Aa._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(i,e,t=!1){const{auth:r}=i;if(ii(r.app))return Promise.reject(Tr(r));const a="reauthenticate";try{const l=await yu(i,TS(r,a,e,i),t);Ie(l.idToken,r,"internal-error");const c=Og(l.idToken);Ie(c,r,"internal-error");const{sub:d}=c;return Ie(i.uid===d,r,"user-mismatch"),Aa._forOperation(i,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(i,e,t=!1){if(ii(i.app))return Promise.reject(Tr(i));const r="signIn",a=await TS(i,r,e),l=await Aa._fromIdTokenResponse(i,r,a);return t||await i._updateCurrentUser(l.user),l}async function uI(i,e){return wS(Us(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(i){const e=Us(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cI(i,e,t){const r=Us(i);await Oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",eI)}async function AS(i,e,t){if(ii(i.app))return Promise.reject(Tr(i));const r=Us(i),c=await Oh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&CS(i),p}),d=await Aa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function hI(i,e,t){return ii(i.app)?Promise.reject(Tr(i)):uI(Bt(i),Ho.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CS(i),r})}function fI(i,e,t,r){return Bt(i).onIdTokenChanged(e,t,r)}function dI(i,e,t){return Bt(i).beforeAuthStateChanged(e,t)}function pI(i,e,t,r){return Bt(i).onAuthStateChanged(e,t,r)}function gI(i){return Bt(i).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1e3,vI=10;class LS extends RS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);DL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,vI):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LS.type="LOCAL";const yI=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends RS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IS.type="SESSION";const MS=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await _I(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=Pg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(S){const T=S;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function bI(i){Ui().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function SI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function wI(){return OS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebaseLocalStorageDb",CI=1,kh="firebaseLocalStorage",xS="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function of(i,e){return i.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function AI(){const i=indexedDB.deleteDatabase(DS);return new Pu(i).toPromise()}function tg(){const i=indexedDB.open(DS,CI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(kh,{keyPath:xS})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await AI(),e(await tg()))})})}async function fE(i,e,t){const r=of(i,!0).put({[xS]:e,value:t});return new Pu(r).toPromise()}async function RI(i,e){const t=of(i,!1).get(e),r=await new Pu(t).toPromise();return r===void 0?null:r.value}function dE(i,e){const t=of(i,!0).delete(e);return new Pu(t).toPromise()}const LI=800,II=3;class kS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>II)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(wI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await SI(),!this.activeServiceWorker)return;this.sender=new EI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await fE(e,xh,"1"),await dE(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>RI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=of(a,!1).getAll();return new Pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kS.type="LOCAL";const MI=kS;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(i,e){return e?Sr(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DI(i){return wS(i.auth,new Ng(i),i.bypassAuthState)}function xI(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),lI(t,new Ng(i),i.bypassAuthState)}async function kI(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),oI(t,new Ng(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:pi(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Du(2e3,1e4);class To extends PS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PI.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="pendingRedirect",vh=new Map;class VI extends PS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await UI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UI(i,e){const t=BI(e),r=zI(i);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function jI(i,e){vh.set(i._key(),e)}function zI(i){return Sr(i._redirectPersistence)}function BI(i){return mh(NI,i.config.apiKey,i.name)}async function HI(i,e,t=!1){if(ii(i.app))return Promise.reject(Tr(i));const r=Us(i),a=OI(r,e),c=await new VI(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=10*60*1e3;class FI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!NS(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qI&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function NS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(i,e={}){return Dr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QI=/^https?/;async function YI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await KI(i);for(const t of e)try{if(WI(t))return}catch{}pi(i,"unauthorized-domain")}function WI(i){const e=Jp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!QI.test(t))return!1;if($I.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Du(3e4,6e4);function gE(){const i=Ui().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function XI(i){return new Promise((e,t)=>{var r,a,l;function c(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),t(Vi(i,"network-request-failed"))},timeout:ZI.get()})}if(!((a=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ui().gapi)===null||l===void 0)&&l.load)c();else{const d=BL("iframefcb");return Ui()[d]=()=>{gapi.load?c():t(Vi(i,"network-request-failed"))},_S(`${zL()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function JI(i){return yh=yh||XI(i),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Du(5e3,15e3),tM="__/auth/iframe",nM="emulator/auth/iframe",iM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sM(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Mg(e,nM):`https://${i.config.authDomain}/${tM}`,r={apiKey:e.apiKey,appName:i.name,v:Bo},a=rM.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Ou(r).slice(1)}`}async function aM(i){const e=await JI(i),t=Ui().gapi;return Ie(t,i,"internal-error"),e.open({where:document.body,url:sM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iM,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Vi(i,"network-request-failed"),d=Ui().setTimeout(()=>{l(c)},eM.get());function p(){Ui().clearTimeout(d),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lM=500,uM=600,cM="_blank",hM="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fM(i,e,t,r=lM,a=uM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},oM),{width:r.toString(),height:a.toString(),top:l,left:c}),m=dn().toLowerCase();t&&(d=fS(m)?cM:t),cS(m)&&(e=e||hM,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[C,A])=>`${T}${C}=${A},`,"");if(OL(m)&&d!=="_self")return dM(e||"",d),new mE(null);const S=window.open(e||"",d,_);Ie(S,i,"popup-blocked");try{S.focus()}catch{}return new mE(S)}function dM(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="__/auth/handler",gM="emulator/auth/handler",mM=encodeURIComponent("fac");async function vE(i,e,t,r,a,l){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Bo,eventId:a};if(e instanceof SS){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",eR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))c[_]=S}if(e instanceof ku){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),m=p?`#${mM}=${encodeURIComponent(p)}`:"";return`${vM(i)}?${Ou(d).slice(1)}${m}`}function vM({config:i}){return i.emulator?Mg(i,gM):`https://${i.authDomain}/${pM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class yM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MS,this._completeRedirectFn=HI,this._overrideRedirectResult=jI}async _openPopup(e,t,r,a){var l;Rr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await vE(e,t,r,Jp(),a);return fM(e,c,Pg())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await vE(e,t,r,Jp(),a);return bI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Rr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await aM(e),r=new FI(e);return t.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Np,{type:Np},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Np];c!==void 0&&t(!!c),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vS()||hS()||Dg()}}const _M=yM;var yE="@firebase/auth",_E="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SM(i){Oo(new wa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(i)},m=new VL(r,a,l,p);return $L(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oo(new wa("auth-internal",e=>{const t=Us(e.getProvider("auth").getImmediate());return(r=>new EM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(yE,_E,bM(i)),Rs(yE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=5*60,wM=Qb("authIdTokenMaxAge")||TM;let EE=null;const CM=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wM)return;const a=t==null?void 0:t.token;EE!==a&&(EE=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function AM(i=Xb()){const e=Rg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=KL(i,{popupRedirectResolver:_M,persistence:[MI,yI,MS]}),r=Qb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=CM(l.toString());dI(t,c,()=>c(t.currentUser)),fI(t,d=>c(d))}}const a=Kb("auth");return a&&QL(t,`http://${a}`),t}function RM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}UL({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=a=>{const l=Vi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",RM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SM("Browser");var bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,VS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function w(){}w.prototype=I.prototype,O.D=I.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(M,P,U){for(var x=Array(arguments.length-2),be=2;be<arguments.length;be++)x[be-2]=arguments[be];return I.prototype[P].apply(M,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,I,w){w||(w=0);var M=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)M[P]=I.charCodeAt(w++)|I.charCodeAt(w++)<<8|I.charCodeAt(w++)<<16|I.charCodeAt(w++)<<24;else for(P=0;16>P;++P)M[P]=I[w++]|I[w++]<<8|I[w++]<<16|I[w++]<<24;I=O.g[0],w=O.g[1],P=O.g[2];var U=O.g[3],x=I+(U^w&(P^U))+M[0]+3614090360&4294967295;I=w+(x<<7&4294967295|x>>>25),x=U+(P^I&(w^P))+M[1]+3905402710&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(w^U&(I^w))+M[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=w+(I^P&(U^I))+M[3]+3250441966&4294967295,w=P+(x<<22&4294967295|x>>>10),x=I+(U^w&(P^U))+M[4]+4118548399&4294967295,I=w+(x<<7&4294967295|x>>>25),x=U+(P^I&(w^P))+M[5]+1200080426&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(w^U&(I^w))+M[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=w+(I^P&(U^I))+M[7]+4249261313&4294967295,w=P+(x<<22&4294967295|x>>>10),x=I+(U^w&(P^U))+M[8]+1770035416&4294967295,I=w+(x<<7&4294967295|x>>>25),x=U+(P^I&(w^P))+M[9]+2336552879&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(w^U&(I^w))+M[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=w+(I^P&(U^I))+M[11]+2304563134&4294967295,w=P+(x<<22&4294967295|x>>>10),x=I+(U^w&(P^U))+M[12]+1804603682&4294967295,I=w+(x<<7&4294967295|x>>>25),x=U+(P^I&(w^P))+M[13]+4254626195&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(w^U&(I^w))+M[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=w+(I^P&(U^I))+M[15]+1236535329&4294967295,w=P+(x<<22&4294967295|x>>>10),x=I+(P^U&(w^P))+M[1]+4129170786&4294967295,I=w+(x<<5&4294967295|x>>>27),x=U+(w^P&(I^w))+M[6]+3225465664&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^w&(U^I))+M[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=w+(U^I&(P^U))+M[0]+3921069994&4294967295,w=P+(x<<20&4294967295|x>>>12),x=I+(P^U&(w^P))+M[5]+3593408605&4294967295,I=w+(x<<5&4294967295|x>>>27),x=U+(w^P&(I^w))+M[10]+38016083&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^w&(U^I))+M[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=w+(U^I&(P^U))+M[4]+3889429448&4294967295,w=P+(x<<20&4294967295|x>>>12),x=I+(P^U&(w^P))+M[9]+568446438&4294967295,I=w+(x<<5&4294967295|x>>>27),x=U+(w^P&(I^w))+M[14]+3275163606&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^w&(U^I))+M[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=w+(U^I&(P^U))+M[8]+1163531501&4294967295,w=P+(x<<20&4294967295|x>>>12),x=I+(P^U&(w^P))+M[13]+2850285829&4294967295,I=w+(x<<5&4294967295|x>>>27),x=U+(w^P&(I^w))+M[2]+4243563512&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^w&(U^I))+M[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=w+(U^I&(P^U))+M[12]+2368359562&4294967295,w=P+(x<<20&4294967295|x>>>12),x=I+(w^P^U)+M[5]+4294588738&4294967295,I=w+(x<<4&4294967295|x>>>28),x=U+(I^w^P)+M[8]+2272392833&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^w)+M[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=w+(P^U^I)+M[14]+4259657740&4294967295,w=P+(x<<23&4294967295|x>>>9),x=I+(w^P^U)+M[1]+2763975236&4294967295,I=w+(x<<4&4294967295|x>>>28),x=U+(I^w^P)+M[4]+1272893353&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^w)+M[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=w+(P^U^I)+M[10]+3200236656&4294967295,w=P+(x<<23&4294967295|x>>>9),x=I+(w^P^U)+M[13]+681279174&4294967295,I=w+(x<<4&4294967295|x>>>28),x=U+(I^w^P)+M[0]+3936430074&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^w)+M[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=w+(P^U^I)+M[6]+76029189&4294967295,w=P+(x<<23&4294967295|x>>>9),x=I+(w^P^U)+M[9]+3654602809&4294967295,I=w+(x<<4&4294967295|x>>>28),x=U+(I^w^P)+M[12]+3873151461&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^w)+M[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=w+(P^U^I)+M[2]+3299628645&4294967295,w=P+(x<<23&4294967295|x>>>9),x=I+(P^(w|~U))+M[0]+4096336452&4294967295,I=w+(x<<6&4294967295|x>>>26),x=U+(w^(I|~P))+M[7]+1126891415&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~w))+M[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=w+(U^(P|~I))+M[5]+4237533241&4294967295,w=P+(x<<21&4294967295|x>>>11),x=I+(P^(w|~U))+M[12]+1700485571&4294967295,I=w+(x<<6&4294967295|x>>>26),x=U+(w^(I|~P))+M[3]+2399980690&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~w))+M[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=w+(U^(P|~I))+M[1]+2240044497&4294967295,w=P+(x<<21&4294967295|x>>>11),x=I+(P^(w|~U))+M[8]+1873313359&4294967295,I=w+(x<<6&4294967295|x>>>26),x=U+(w^(I|~P))+M[15]+4264355552&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~w))+M[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=w+(U^(P|~I))+M[13]+1309151649&4294967295,w=P+(x<<21&4294967295|x>>>11),x=I+(P^(w|~U))+M[4]+4149444226&4294967295,I=w+(x<<6&4294967295|x>>>26),x=U+(w^(I|~P))+M[11]+3174756917&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~w))+M[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=w+(U^(P|~I))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+U&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var w=I-this.blockSize,M=this.B,P=this.h,U=0;U<I;){if(P==0)for(;U<=w;)a(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<I;)if(M[P++]=O.charCodeAt(U++),P==this.blockSize){a(this,M),P=0;break}}else for(;U<I;)if(M[P++]=O[U++],P==this.blockSize){a(this,M),P=0;break}}this.h=P,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var w=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=w&255,w/=256;for(this.u(O),O=Array(16),I=w=0;4>I;++I)for(var M=0;32>M;M+=8)O[w++]=this.g[I]>>>M&255;return O};function l(O,I){var w=d;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=I(O)}function c(O,I){this.h=I;for(var w=[],M=!0,P=O.length-1;0<=P;P--){var U=O[P]|0;M&&U==I||(w[P]=U,M=!1)}this.g=w}var d={};function p(O){return-128<=O&&128>O?l(O,function(I){return new c([I|0],0>I?-1:0)}):new c([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return k(m(-O));for(var I=[],w=1,M=0;O>=w;M++)I[M]=O/w|0,w*=4294967296;return new c(I,0)}function _(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return k(_(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=m(Math.pow(I,8)),M=S,P=0;P<O.length;P+=8){var U=Math.min(8,O.length-P),x=parseInt(O.substring(P,P+U),I);8>U?(U=m(Math.pow(I,U)),M=M.j(U).add(m(x))):(M=M.j(w),M=M.add(m(x)))}return M}var S=p(0),T=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(V(this))return-k(this).m();for(var O=0,I=1,w=0;w<this.g.length;w++){var M=this.i(w);O+=(0<=M?M:4294967296+M)*I,I*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(V(this))return"-"+k(this).toString(O);for(var I=m(Math.pow(O,6)),w=this,M="";;){var P=K(w,I).g;w=B(w,P.j(I));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=P,A(w))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function V(O){return O.h==-1}i.l=function(O){return O=B(this,O),V(O)?-1:A(O)?0:1};function k(O){for(var I=O.g.length,w=[],M=0;M<I;M++)w[M]=~O.g[M];return new c(w,~O.h).add(T)}i.abs=function(){return V(this)?k(this):this},i.add=function(O){for(var I=Math.max(this.g.length,O.g.length),w=[],M=0,P=0;P<=I;P++){var U=M+(this.i(P)&65535)+(O.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);M=x>>>16,U&=65535,x&=65535,w[P]=x<<16|U}return new c(w,w[w.length-1]&-2147483648?-1:0)};function B(O,I){return O.add(k(I))}i.j=function(O){if(A(this)||A(O))return S;if(V(this))return V(O)?k(this).j(k(O)):k(k(this).j(O));if(V(O))return k(this.j(k(O)));if(0>this.l(C)&&0>O.l(C))return m(this.m()*O.m());for(var I=this.g.length+O.g.length,w=[],M=0;M<2*I;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<O.g.length;P++){var U=this.i(M)>>>16,x=this.i(M)&65535,be=O.i(P)>>>16,Ee=O.i(P)&65535;w[2*M+2*P]+=x*Ee,G(w,2*M+2*P),w[2*M+2*P+1]+=U*Ee,G(w,2*M+2*P+1),w[2*M+2*P+1]+=x*be,G(w,2*M+2*P+1),w[2*M+2*P+2]+=U*be,G(w,2*M+2*P+2)}for(M=0;M<I;M++)w[M]=w[2*M+1]<<16|w[2*M];for(M=I;M<2*I;M++)w[M]=0;return new c(w,0)};function G(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function q(O,I){this.g=O,this.h=I}function K(O,I){if(A(I))throw Error("division by zero");if(A(O))return new q(S,S);if(V(O))return I=K(k(O),I),new q(k(I.g),k(I.h));if(V(I))return I=K(O,k(I)),new q(k(I.g),I.h);if(30<O.g.length){if(V(O)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var w=T,M=I;0>=M.l(O);)w=z(w),M=z(M);var P=Y(w,1),U=Y(M,1);for(M=Y(M,2),w=Y(w,2);!A(M);){var x=U.add(M);0>=x.l(O)&&(P=P.add(w),U=x),M=Y(M,1),w=Y(w,1)}return I=B(O,P.j(I)),new q(P,I)}for(P=S;0<=O.l(I);){for(w=Math.max(1,Math.floor(O.m()/I.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=m(w),x=U.j(I);V(x)||0<x.l(O);)w-=M,U=m(w),x=U.j(I);A(U)&&(U=T),P=P.add(U),O=B(O,x)}return new q(P,O)}i.A=function(O){return K(this,O).h},i.and=function(O){for(var I=Math.max(this.g.length,O.g.length),w=[],M=0;M<I;M++)w[M]=this.i(M)&O.i(M);return new c(w,this.h&O.h)},i.or=function(O){for(var I=Math.max(this.g.length,O.g.length),w=[],M=0;M<I;M++)w[M]=this.i(M)|O.i(M);return new c(w,this.h|O.h)},i.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),w=[],M=0;M<I;M++)w[M]=this.i(M)^O.i(M);return new c(w,this.h^O.h)};function z(O){for(var I=O.g.length+1,w=[],M=0;M<I;M++)w[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(w,O.h)}function Y(O,I){var w=I>>5;I%=32;for(var M=O.g.length-w,P=[],U=0;U<M;U++)P[U]=0<I?O.i(U+w)>>>I|O.i(U+w+1)<<32-I:O.i(U+w);return new c(P,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Ls=c}).apply(typeof bE<"u"?bE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var US,ou,jS,_h,ng,zS,BS,HS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var E=r;h=h.split(".");for(var L=0;L<h.length-1;L++){var Q=h[L];if(!(Q in E))break e;E=E[Q]}h=h[h.length-1],L=E[h],y=y(L),y!=L&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var E=0,L=!1,Q={next:function(){if(!L&&E<h.length){var te=E++;return{value:y(te,h[te]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,E){return h.call.apply(h.bind,arguments)}function S(h,y,E){if(!h)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,L),h.apply(y,Q)}}return function(){return h.apply(y,arguments)}}function T(h,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,T.apply(null,arguments)}function C(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var L=E.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function A(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(L,Q,te){for(var de=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)de[Ye-2]=arguments[Ye];return y.prototype[Q].apply(L,de)}}function V(h){const y=h.length;if(0<y){const E=Array(y);for(let L=0;L<y;L++)E[L]=h[L];return E}return[]}function k(h,y){for(let E=1;E<arguments.length;E++){const L=arguments[E];if(p(L)){const Q=h.length||0,te=L.length||0;h.length=Q+te;for(let de=0;de<te;de++)h[Q+de]=L[de]}else h.push(L)}}class B{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var z=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Y(h,y,E){for(const L in h)y.call(E,h[L],L,h)}function O(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function I(h){const y={};for(const E in h)y[E]=h[E];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let E,L;for(let Q=1;Q<arguments.length;Q++){L=arguments[Q];for(E in L)h[E]=L[E];for(let te=0;te<w.length;te++)E=w[te],Object.prototype.hasOwnProperty.call(L,E)&&(h[E]=L[E])}}function P(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function U(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Te;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class be{constructor(){this.h=this.g=null}add(y,E){const L=Ee.get();L.set(y,E),this.h?this.h.next=L:this.g=L,this.h=L}}var Ee=new B(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,fe=!1,Te=new be,D=()=>{const h=d.Promise.resolve(void 0);pe=()=>{h.then(W)}};var W=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(E){U(E)}var y=Ee;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}fe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return h}();function Z(h,y){if(J.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(z){e:{try{K(y.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Z.aa.h.call(this)}}A(Z,J);var me={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Ne(h,y,E,L,Q){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!L,this.ha=Q,this.key=++ve,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Me(h){this.src=h,this.g={},this.h=0}Me.prototype.add=function(h,y,E,L,Q){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var de=yt(h,y,L,Q);return-1<de?(y=h[de],E||(y.fa=!1)):(y=new Ne(y,this.src,te,!!L,Q),y.fa=E,h.push(y)),y};function wt(h,y){var E=y.type;if(E in h.g){var L=h.g[E],Q=Array.prototype.indexOf.call(L,y,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(L,Q,1),te&&(ge(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function yt(h,y,E,L){for(var Q=0;Q<h.length;++Q){var te=h[Q];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==L)return Q}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),He={};function Un(h,y,E,L,Q){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Un(h,y[te],E,L,Q);return null}return E=Hs(E),h&&h[Ae]?h.K(y,E,m(L)?!!L.capture:!1,Q):mi(h,y,E,!1,L,Q)}function mi(h,y,E,L,Q,te){if(!y)throw Error("Invalid event type");var de=m(Q)?!!Q.capture:!!Q,Ye=yi(h);if(Ye||(h[_n]=Ye=new Me(h)),E=Ye.add(y,E,L,de,te),E.proxy)return E;if(L=Ki(),E.proxy=L,L.src=h,L.listener=E,h.addEventListener)ae||(Q=de),Q===void 0&&(Q=!1),h.addEventListener(y.toString(),L,Q);else if(h.attachEvent)h.attachEvent(ai(y.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ki(){function h(E){return y.call(h.src,h.listener,E)}const y=Da;return h}function si(h,y,E,L,Q){if(Array.isArray(y))for(var te=0;te<y.length;te++)si(h,y[te],E,L,Q);else L=m(L)?!!L.capture:!!L,E=Hs(E),h&&h[Ae]?(h=h.i,y=String(y).toString(),y in h.g&&(te=h.g[y],E=yt(te,E,L,Q),-1<E&&(ge(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete h.g[y],h.h--)))):h&&(h=yi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=yt(y,E,L,Q)),(E=-1<h?y[h]:null)&&vi(E))}function vi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ae])wt(y.i,h);else{var E=h.type,L=h.proxy;y.removeEventListener?y.removeEventListener(E,L,h.capture):y.detachEvent?y.detachEvent(ai(E),L):y.addListener&&y.removeListener&&y.removeListener(L),(E=yi(y))?(wt(E,h),E.h==0&&(E.src=null,y[_n]=null)):ge(h)}}}function ai(h){return h in He?He[h]:He[h]="on"+h}function Da(h,y){if(h.da)h=!0;else{y=new Z(y,this);var E=h.listener,L=h.ha||h.src;h.fa&&vi(h),h=E.call(L,y)}return h}function yi(h){return h=h[_n],h instanceof Me?h:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hs(h){return typeof h=="function"?h:(h[Wt]||(h[Wt]=function(y){return h.handleEvent(y)}),h[Wt])}function _t(){se.call(this),this.i=new Me(this),this.M=this,this.F=null}A(_t,se),_t.prototype[Ae]=!0,_t.prototype.removeEventListener=function(h,y,E,L){si(this,h,y,E,L)};function ft(h,y){var E,L=h.F;if(L)for(E=[];L;L=L.F)E.push(L);if(h=h.M,L=y.type||y,typeof y=="string")y=new J(y,h);else if(y instanceof J)y.target=y.target||h;else{var Q=y;y=new J(L,h),M(y,Q)}if(Q=!0,E)for(var te=E.length-1;0<=te;te--){var de=y.g=E[te];Q=jn(de,L,!0,y)&&Q}if(de=y.g=h,Q=jn(de,L,!0,y)&&Q,Q=jn(de,L,!1,y)&&Q,E)for(te=0;te<E.length;te++)de=y.g=E[te],Q=jn(de,L,!1,y)&&Q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],L=0;L<E.length;L++)ge(E[L]);delete h.g[y],h.h--}}this.F=null},_t.prototype.K=function(h,y,E,L){return this.i.add(String(h),y,!1,E,L)},_t.prototype.L=function(h,y,E,L){return this.i.add(String(h),y,!0,E,L)};function jn(h,y,E,L){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var Q=!0,te=0;te<y.length;++te){var de=y[te];if(de&&!de.da&&de.capture==E){var Ye=de.listener,Pt=de.ha||de.src;de.fa&&wt(h.i,de),Q=Ye.call(Pt,L)!==!1&&Q}}return Q&&!L.defaultPrevented}function $i(h,y,E){if(typeof h=="function")E&&(h=T(h,E));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Pr(h){h.g=$i(()=>{h.g=null,h.i&&(h.i=!1,Pr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Nr extends se{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(h){se.call(this),this.h=h,this.g={}}A(_i,se);var wn=[];function xt(h){Y(h.g,function(y,E){this.g.hasOwnProperty(E)&&vi(y)},h),h.g={}}_i.prototype.N=function(){_i.aa.N.call(this),xt(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=d.JSON.stringify,Cn=d.JSON.parse,Rt=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Vr(){}Vr.prototype.h=null;function Qi(h){return h.h||(h.h=h.i())}function qs(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){J.call(this,"d")}A(oi,J);function sn(){J.call(this,"c")}A(sn,J);var pn={},Rn=null;function Yi(){return Rn=Rn||new _t}pn.La="serverreachability";function bi(h){J.call(this,pn.La,h)}A(bi,J);function li(h){const y=Yi();ft(y,new bi(y))}pn.STAT_EVENT="statevent";function Ur(h,y){J.call(this,pn.STAT_EVENT,h),this.stat=y}A(Ur,J);function ot(h){const y=Yi();ft(y,new Ur(y,h))}pn.Ma="timingevent";function De(h,y){J.call(this,pn.Ma,h),this.size=y}A(De,J);function jr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function zr(){this.g=!0}zr.prototype.xa=function(){this.g=!1};function Fu(h,y,E,L,Q,te){h.info(function(){if(h.g)if(te)for(var de="",Ye=te.split("&"),Pt=0;Pt<Ye.length;Pt++){var We=Ye[Pt].split("=");if(1<We.length){var Gt=We[0];We=We[1];var Nt=Gt.split("_");de=2<=Nt.length&&Nt[1]=="type"?de+(Gt+"="+We+"&"):de+(Gt+"=redacted&")}}else de=null;else de=te;return"XMLHTTP REQ ("+L+") [attempt "+Q+"]: "+y+`
`+E+`
`+de})}function Gu(h,y,E,L,Q,te,de){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Q+"]: "+y+`
`+E+`
`+te+" "+de})}function Br(h,y,E,L){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+qt(h,E)+(L?" "+L:"")})}function Si(h,y){h.info(function(){return"TIMEOUT: "+y})}zr.prototype.info=function(){};function qt(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var L=E[h];if(!(2>L.length)){var Q=L[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var de=1;de<Q.length;de++)Q[de]=""}}}}return Ei(E)}catch{return y}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fs;function xa(){}A(xa,Vr),xa.prototype.g=function(){return new XMLHttpRequest},xa.prototype.i=function(){return{}},Fs=new xa;function Ti(h,y,E,L){this.j=h,this.i=y,this.l=E,this.R=L||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var Hr={},Gs={};function ui(h,y,E){h.L=1,h.v=Qs(Et(y)),h.m=E,h.P=!0,Zi(h,null)}function Zi(h,y){h.F=Date.now(),dt(h),h.A=Et(h.v);var E=h.A,L=h.R;Array.isArray(L)||(L=[String(L)]),er(E.i,"t",L),h.C=0,E=h.j.J,h.h=new Jo,h.g=sc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new Nr(T(h.Y,h,h.g),h.O)),y=h.U,E=h.g,L=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(wn[0]=Q.toString()),Q=wn);for(var te=0;te<Q.length;te++){var de=Un(E,Q[te],L||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),li(),Fu(h.i,h.u,h.A,h.l,h.R,h.m)}Ti.prototype.ca=function(h){h=h.target;const y=this.M;y&&Fn(h)==3?y.j():this.Y(h)},Ti.prototype.Y=function(h){try{if(h==this.g)e:{const Nt=Fn(this.g);var y=this.g.Ba();const rr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=rr?li(3):li(2)),ka(this);var E=this.g.Z();this.X=E;t:if(qr(this)){var L=Zu(this.g);h="";var Q=L.length,te=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Ln(this);var de="";break t}this.h.i=new d.TextDecoder}for(y=0;y<Q;y++)this.h.h=!0,h+=this.h.i.decode(L[y],{stream:!(te&&y==Q-1)});L.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Gu(this.i,this.u,this.A,this.l,this.R,Nt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Pt=this.g;if((Ye=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ye)){var We=Ye;break t}}We=null}if(E=We)Br(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,In(this,E);else{this.o=!1,this.s=3,ot(12),En(this),Ln(this);break e}}if(this.P){E=!0;let Zt;for(;!this.J&&this.C<de.length;)if(Zt=Fr(this,de),Zt==Gs){Nt==4&&(this.s=4,ot(14),E=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Hr){this.s=4,ot(15),Br(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Br(this.i,this.l,Zt,null),In(this,Zt);if(qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||de.length!=0||this.h.h||(this.s=1,ot(16),E=!1),this.o=this.o&&E,!E)Br(this.i,this.l,de,"[Invalid Chunked Response]"),En(this),Ln(this);else if(0<de.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ta(Gt),Gt.M=!0,ot(11))}}else Br(this.i,this.l,de,null),In(this,de);Nt==4&&En(this),this.o&&!this.J&&(Nt==4?nc(this.j,this):(this.o=!1,dt(this)))}else xf(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),En(this),Ln(this)}}}catch{}finally{}};function qr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fr(h,y){var E=h.C,L=y.indexOf(`
`,E);return L==-1?Gs:(E=Number(y.substring(E,L)),isNaN(E)?Hr:(L+=1,L+E>y.length?Gs:(y=y.slice(L,L+E),h.C=L+E,y)))}Ti.prototype.cancel=function(){this.J=!0,En(this)};function dt(h){h.S=Date.now()+h.I,el(h,h.I)}function el(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=jr(T(h.ba,h),y)}function ka(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Ti.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Si(this.i,this.A),this.L!=2&&(li(),ot(17)),En(this),this.s=2,Ln(this)):el(this,this.S-h)};function Ln(h){h.j.G==0||h.J||nc(h.j,h)}function En(h){ka(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,xt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function In(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Gr(E.h,h))){if(!h.K&&Gr(E.h,h)&&E.G==3){try{var L=E.Da.g.parse(y)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Q=L;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Fa(E),Ha(E);else break e;hl(E),ot(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=jr(T(E.Za,E),6e3));if(1>=Ku(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ir(E,11)}else if((h.K||E.g==h)&&Fa(E),!G(y))for(Q=E.Da.g.parse(y),y=0;y<Q.length;y++){let We=Q[y];if(E.T=We[0],We=We[1],E.G==2)if(We[0]=="c"){E.K=We[1],E.ia=We[2];const Gt=We[3];Gt!=null&&(E.la=Gt,E.j.info("VER="+E.la));const Nt=We[4];Nt!=null&&(E.Aa=Nt,E.j.info("SVER="+E.Aa));const rr=We[5];rr!=null&&typeof rr=="number"&&0<rr&&(L=1.5*rr,E.L=L,E.j.info("backChannelRequestTimeoutMs_="+L)),L=E;const Zt=h.g;if(Zt){const Mi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var te=L.h;te.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Kr(te,te.h),te.h=null))}if(L.D){const dl=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(L.ya=dl,Je(L.I,L.D,dl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),L=E;var de=h;if(L.qa=rc(L,L.J?L.ia:null,L.W),de.K){zn(L.h,de);var Ye=de,Pt=L.L;Pt&&(Ye.I=Pt),Ye.B&&(ka(Ye),dt(Ye)),L.g=de}else ec(L);0<E.i.length&&qa(E)}else We[0]!="stop"&&We[0]!="close"||ir(E,7);else E.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ir(E,7):ul(E):We[0]!="noop"&&E.l&&E.l.ta(We),E.v=0)}}li(4)}catch{}}var Lf=class{constructor(h,y){this.g=h,this.map=y}};function tl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ku(h){return h.h?1:h.g?h.g.size:0}function Gr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Kr(h,y){h.g?h.g.add(y):h.h=y}function zn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}tl.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function gn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return V(h.i)}function $u(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,L=0;L<E;L++)y.push(h[L]);return y}y=[],E=0;for(L in h)y[E++]=h[L];return y}function If(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const L in h)y[E++]=L;return y}}}function Ks(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=If(h),L=$u(h),Q=L.length,te=0;te<Q;te++)y.call(void 0,L[te],E&&E[te],h)}var il=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var L=h[E].indexOf("="),Q=null;if(0<=L){var te=h[E].substring(0,L);Q=h[E].substring(L+1)}else te=h[E];y(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Xi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Xi){this.h=h.h,$r(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.s),this.l=h.l;var y=h.i,E=new wi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Na(this,E),this.m=h.m}else h&&(y=String(h).match(il))?(this.h=!1,$r(this,y[1]||"",!0),this.o=Qr(y[2]||""),this.g=Qr(y[3]||"",!0),$s(this,y[4]),this.l=Qr(y[5]||"",!0),Na(this,y[6]||"",!0),this.m=Qr(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Xi.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Bn(y,rl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Bn(y,rl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Bn(E,E.charAt(0)=="/"?sl:Qu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Bn(E,Df)),h.join("")};function Et(h){return new Xi(h)}function $r(h,y,E){h.j=E?Qr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Na(h,y,E){y instanceof wi?(h.i=y,al(h.i,h.h)):(E||(y=Bn(y,Of)),h.i=new wi(y,h.h))}function Je(h,y,E){h.i.set(y,E)}function Qs(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Qr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Bn(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Mf),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var rl=/[#\/\?@]/g,Qu=/[#\?:]/g,sl=/[#\?]/g,Of=/[#\?@]/g,Df=/#/g;function wi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Pa(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=wi.prototype,i.add=function(h,y){Hn(this),this.i=null,h=tr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Va(h,y){Hn(h),y=tr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ji(h,y){return Hn(h),y=tr(h,y),h.g.has(y)}i.forEach=function(h,y){Hn(this),this.g.forEach(function(E,L){E.forEach(function(Q){h.call(y,Q,L,this)},this)},this)},i.na=function(){Hn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let L=0;L<y.length;L++){const Q=h[L];for(let te=0;te<Q.length;te++)E.push(y[L])}return E},i.V=function(h){Hn(this);let y=[];if(typeof h=="string")Ji(this,h)&&(y=y.concat(this.g.get(tr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},i.set=function(h,y){return Hn(this),this.i=null,h=tr(this,h),Ji(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function er(h,y,E){Va(h,y),0<E.length&&(h.i=null,h.g.set(tr(h,y),V(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var L=y[E];const te=encodeURIComponent(String(L)),de=this.V(L);for(L=0;L<de.length;L++){var Q=te;de[L]!==""&&(Q+="="+encodeURIComponent(String(de[L]))),h.push(Q)}}return this.i=h.join("&")};function tr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function al(h,y){y&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(E,L){var Q=L.toLowerCase();L!=Q&&(Va(this,L),er(this,Q,E))},h)),h.j=y}function Yu(h,y){const E=new zr;if(d.Image){const L=new Image;L.onload=C(qn,E,"TestLoadImage: loaded",!0,y,L),L.onerror=C(qn,E,"TestLoadImage: error",!1,y,L),L.onabort=C(qn,E,"TestLoadImage: abort",!1,y,L),L.ontimeout=C(qn,E,"TestLoadImage: timeout",!1,y,L),d.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else y(!1)}function Ys(h,y){const E=new zr,L=new AbortController,Q=setTimeout(()=>{L.abort(),qn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:L.signal}).then(te=>{clearTimeout(Q),te.ok?qn(E,"TestPingServer: ok",!0,y):qn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),qn(E,"TestPingServer: error",!1,y)})}function qn(h,y,E,L,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),L(E)}catch{}}function Ws(){this.g=new Rt}function Ci(h,y,E){const L=E||"";try{Ks(h,function(Q,te){let de=Q;m(Q)&&(de=Ei(Q)),y.push(L+te+"="+encodeURIComponent(de))})}catch(Q){throw y.push(L+"type="+encodeURIComponent("_badmap")),Q}}function Yr(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Yr,Vr),Yr.prototype.g=function(){return new nr(this.l,this.j)},Yr.prototype.i=function(h){return function(){return h}}({});function nr(h,y){_t.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(nr,_t),i=nr.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Ri(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ai(this):Ri(this),this.readyState==3&&ol(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,Ai(this))},i.Qa=function(h){this.g&&(this.response=h,Ai(this))},i.ga=function(){this.g&&Ai(this)};function Ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ri(h)}i.setRequestHeader=function(h,y){this.u.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ll(h){let y="";return Y(h,function(E,L){y+=L,y+=":",y+=E,y+=`\r
`}),y}function Ft(h,y,E){e:{for(L in E){var L=!1;break e}L=!0}L||(E=ll(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Je(h,y,E))}function it(h){_t.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(it,_t);var Ua=/^https?$/i,Zs=["POST","PUT"];i=it.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,y,E,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fs.g(),this.v=this.o?Qi(this.o):Qi(Fs),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(te){Wu(this,te);return}if(h=E||"",E=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Q in L)E.set(Q,L[Q]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const te of L.keys())E.set(te,L.get(te));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),Q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Zs,y,void 0))||L||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,de]of E)this.g.setRequestHeader(te,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){Wu(this,te)}};function Wu(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,ja(h),Li(h)}function ja(h){h.A||(h.A=!0,ft(h,"complete"),ft(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ft(this,"complete"),ft(this,"abort"),Li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),it.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},i.bb=function(){za(this)};function za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)$i(h.Ea,0,h);else if(ft(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var L;if(L=de===0){var Q=String(h.D).match(il)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),L=!Ua.test(Q?Q.toLowerCase():"")}E=L}if(E)ft(h,"complete"),ft(h,"success");else{h.m=6;try{var te=2<Fn(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",ja(h)}}finally{Li(h)}}}}function Li(h,y){if(h.g){Xs(h);const E=h.g,L=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||ft(h,"ready");try{E.onreadystatechange=L}catch{}}}function Xs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Cn(y)}};function Zu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xf(h){const y={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(G(h[L]))continue;var E=P(h[L]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[Q]||[];y[Q]=te,te.push(E)}O(y,function(L){return L.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Ba(h){this.Aa=0,this.i=[],this.j=new zr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,h),this.cb=Js("retryDelaySeedMs",1e4,h),this.Wa=Js("forwardChannelMaxRetries",2,h),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(h&&h.concurrentRequestLimit),this.Da=new Ws,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ba.prototype,i.la=8,i.G=1,i.connect=function(h,y,E,L){ot(0),this.W=h,this.H=y||{},E&&L!==void 0&&(this.H.OSID=E,this.H.OAID=L),this.F=this.X,this.I=rc(this,null,this.W),qa(this)};function ul(h){if(Xu(h),h.G==3){var y=h.U++,E=Et(h.I);if(Je(E,"SID",h.K),Je(E,"RID",y),Je(E,"TYPE","terminate"),ea(h,E),y=new Ti(h,h.j,y),y.L=2,y.v=Qs(Et(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=sc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),dt(y)}ic(h)}function Ha(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function Xu(h){Ha(h),h.u&&(d.clearTimeout(h.u),h.u=null),Fa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function qa(h){if(!nl(h.h)&&!h.s){h.s=!0;var y=h.Ga;pe||D(),fe||(pe(),fe=!0),Te.add(y,h),h.B=0}}function kf(h,y){return Ku(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=jr(T(h.Ga,h,y),fl(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Ti(this,this.j,h);let te=this.o;if(this.S&&(te?(te=I(te),M(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var L=this.i[E];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(y+=L,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ju(this,Q,y),E=Et(this.I),Je(E,"RID",h),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),ea(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(ll(te)))+"&"+y:this.m&&Ft(E,this.m,te)),Kr(this.h,Q),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",y),Je(E,"SID","null"),Q.T=!0,ui(Q,E,null)):ui(Q,E,y),this.G=2}}else this.G==3&&(h?cl(this,h):this.i.length==0||nl(this.h)||cl(this))};function cl(h,y){var E;y?E=y.l:E=h.U++;const L=Et(h.I);Je(L,"SID",h.K),Je(L,"RID",E),Je(L,"AID",h.T),ea(h,L),h.m&&h.o&&Ft(L,h.m,h.o),E=new Ti(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ju(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Kr(h.h,E),ui(E,L,y)}function ea(h,y){h.H&&Y(h.H,function(E,L){Je(y,L,E)}),h.l&&Ks({},function(E,L){Je(y,L,E)})}function Ju(h,y,E){E=Math.min(h.i.length,E);var L=h.l?T(h.l.Na,h.l,h):null;e:{var Q=h.i;let te=-1;for(;;){const de=["count="+E];te==-1?0<E?(te=Q[0].g,de.push("ofs="+te)):te=0:de.push("ofs="+te);let Ye=!0;for(let Pt=0;Pt<E;Pt++){let We=Q[Pt].g;const Gt=Q[Pt].map;if(We-=te,0>We)te=Math.max(0,Q[Pt].g-100),Ye=!1;else try{Ci(Gt,de,"req"+We+"_")}catch{L&&L(Gt)}}if(Ye){L=de.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,L}function ec(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;pe||D(),fe||(pe(),fe=!0),Te.add(y,h),h.v=0}}function hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=jr(T(h.Fa,h),fl(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=jr(T(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ha(this),tc(this))};function ta(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function tc(h){h.g=new Ti(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Et(h.qa);Je(y,"RID","rpc"),Je(y,"SID",h.K),Je(y,"AID",h.T),Je(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(y,"TO",h.ja),Je(y,"TYPE","xmlhttp"),ea(h,y),h.m&&h.o&&Ft(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Qs(Et(y)),E.m=null,E.P=!0,Zi(E,h)}i.Za=function(){this.C!=null&&(this.C=null,Ha(this),hl(this),ot(19))};function Fa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function nc(h,y){var E=null;if(h.g==y){Fa(h),ta(h),h.g=null;var L=2}else if(Gr(h.h,y))E=y.D,zn(h.h,y),L=1;else return;if(h.G!=0){if(y.o)if(L==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var Q=h.B;L=Yi(),ft(L,new De(L,E)),qa(h)}else ec(h);else if(Q=y.s,Q==3||Q==0&&0<y.X||!(L==1&&kf(h,y)||L==2&&hl(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),Q){case 1:ir(h,5);break;case 4:ir(h,10);break;case 3:ir(h,6);break;default:ir(h,2)}}}function fl(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function ir(h,y){if(h.j.info("Error code "+y),y==2){var E=T(h.fb,h),L=h.Xa;const Q=!L;L=new Xi(L||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$r(L,"https"),Qs(L),Q?Yu(L.toString(),E):Ys(L.toString(),E)}else ot(2);h.G=0,h.l&&h.l.sa(y),ic(h),Xu(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function ic(h){if(h.G=0,h.ka=[],h.l){const y=gn(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ka,y),k(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function rc(h,y,E){var L=E instanceof Xi?Et(E):new Xi(E);if(L.g!="")y&&(L.g=y+"."+L.g),$s(L,L.s);else{var Q=d.location;L=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new Xi(null);L&&$r(te,L),y&&(te.g=y),Q&&$s(te,Q),E&&(te.l=E),L=te}return E=h.D,y=h.ya,E&&y&&Je(L,E,y),Je(L,"VER",h.la),ea(h,L),L}function sc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new it(new Yr({eb:E})):new it(h.pa),y.Ha(h.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}i=ac.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ga(){}Ga.prototype.g=function(h,y){return new mn(h,y)};function mn(h,y){_t.call(this),this.g=new Ba(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!G(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ii(this)}A(mn,_t),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ul(this.g)},mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ei(h),h=E);y.i.push(new Lf(y.Ya++,h)),y.G==3&&qa(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,mn.aa.N.call(this)};function oc(h){oi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}A(oc,oi);function lc(){sn.call(this),this.status=1}A(lc,sn);function Ii(h){this.g=h}A(Ii,ac),Ii.prototype.ua=function(){ft(this.g,"a")},Ii.prototype.ta=function(h){ft(this.g,new oc(h))},Ii.prototype.sa=function(h){ft(this.g,new lc)},Ii.prototype.ra=function(){ft(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,HS=function(){return new Ga},BS=function(){return Yi()},zS=pn,ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,_h=kt,Wi.COMPLETE="complete",jS=Wi,qs.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",_t.prototype.listen=_t.prototype.K,ou=qs,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,US=it}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",TE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Cg("@firebase/firestore");function _o(){return Ra.logLevel}function ye(i,...e){if(Ra.logLevel<=Ge.DEBUG){const t=e.map(Vg);Ra.debug(`Firestore (${qo}): ${i}`,...t)}}function Lr(i,...e){if(Ra.logLevel<=Ge.ERROR){const t=e.map(Vg);Ra.error(`Firestore (${qo}): ${i}`,...t)}}function Do(i,...e){if(Ra.logLevel<=Ge.WARN){const t=e.map(Vg);Ra.warn(`Firestore (${qo}): ${i}`,...t)}}function Vg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+i;throw Lr(e),new Error(e)}function rt(i,e){i||Oe()}function Pe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class IM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MM{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0);let r=this.i;const a=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new qS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new un(e)}}class OM{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DM{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new OM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xM{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ii(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0);const r=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new wE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string"),this.R=t.token,new wE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=kM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Qe(i,e){return i<e?-1:i>e?1:0}function xo(i,e,t){return i.length===e.length&&i.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=-62135596800,AE=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*AE);return new jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<CE)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new jt(0,0))}static max(){return new xe(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Ni{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(),r===void 0?r=e.length-t:r>e.length-t&&Oe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Ni.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ni.isNumericId(e),a=Ni.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class ht extends Ni{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const PM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ni{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return PM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new nn([RE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ht.fromString(e))}static fromName(e){return new Re(ht.fromString(e).popFirst(5))}static empty(){return new Re(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function NM(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(r===1e9?new jt(t+1,0):new jt(t,r));return new Os(a,Re.empty(),e)}function VM(i){return new Os(i.readTime,i.key,Eu)}class Os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Os(xe.min(),Re.empty(),Eu)}static max(){return new Os(xe.max(),Re.empty(),Eu)}}function UM(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(i.documentKey,e.documentKey),t!==0?t:Qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(i){if(i.code!==ue.FAILED_PRECONDITION||i.message!==jM)throw i;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>r(p))}),c=!0,l===a&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(a=>a?ce.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(_=>{c[m]=_,++d,d===l&&r(c)},_=>a(_))}})}static doWhile(e,t){return new ce((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function BM(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Go(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function uf(i){return i==null}function Ph(i){return i===0&&1/i==-1/0}function HM(i){return typeof i=="number"&&Number.isInteger(i)&&!Ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="";function qM(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=LE(e)),e=FM(i.get(t),e);return LE(e)}function FM(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case GS:t+="";break;default:t+=l}}return t}function LE(i){return i+GS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function js(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function KS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new tn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,t,r,a,l){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new zt(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $S("Invalid base64 string: "+l):l}}(e);return new rn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const GM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(i){if(rt(!!i),typeof i=="string"){let e=0;const t=GM.exec(i);if(rt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xs(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="server_timestamp",YS="__type__",WS="__previous_value__",ZS="__local_write_time__";function jg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[YS])===null||t===void 0?void 0:t.stringValue)===QS}function cf(i){const e=i.mapValue.fields[WS];return jg(e)?cf(e):e}function bu(i){const e=Ds(i.mapValue.fields[ZS].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t,r,a,l,c,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m}}const Nh="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||Nh}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="__type__",$M="__max__",uh={mapValue:{}},JS="__vector__",Vh="value";function ks(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?jg(i)?4:YM(i)?9007199254740991:QM(i)?10:11:Oe()}function Hi(i,e){if(i===e)return!0;const t=ks(i);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bu(i).isEqual(bu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ds(a.timestampValue),d=Ds(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(i,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),d=At(l.doubleValue);return c===d?Ph(c)===Ph(d):isNaN(c)&&isNaN(d)}return!1}(i,e);case 9:return xo(i.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(IE(c)!==IE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Hi(c[p],d[p])))return!1;return!0}(i,e);default:return Oe()}}function Tu(i,e){return(i.values||[]).find(t=>Hi(t,e))!==void 0}function ko(i,e){if(i===e)return 0;const t=ks(i),r=ks(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(i.booleanValue,e.booleanValue);case 2:return function(l,c){const d=At(l.integerValue||l.doubleValue),p=At(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return OE(i.timestampValue,e.timestampValue);case 4:return OE(bu(i),bu(e));case 5:return Qe(i.stringValue,e.stringValue);case 6:return function(l,c){const d=xs(l),p=xs(c);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const _=Qe(d[m],p[m]);if(_!==0)return _}return Qe(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Qe(At(l.latitude),At(c.latitude));return d!==0?d:Qe(At(l.longitude),At(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return DE(i.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,_;const S=l.fields||{},T=c.fields||{},C=(d=S[Vh])===null||d===void 0?void 0:d.arrayValue,A=(p=T[Vh])===null||p===void 0?void 0:p.arrayValue,V=Qe(((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0,((_=A==null?void 0:A.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:DE(C,A)}(i.mapValue,e.mapValue);case 11:return function(l,c){if(l===uh.mapValue&&c===uh.mapValue)return 0;if(l===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let S=0;S<p.length&&S<_.length;++S){const T=Qe(p[S],_[S]);if(T!==0)return T;const C=ko(d[p[S]],m[_[S]]);if(C!==0)return C}return Qe(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Oe()}}function OE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qe(i,e);const t=Ds(i),r=Ds(e),a=Qe(t.seconds,r.seconds);return a!==0?a:Qe(t.nanos,r.nanos)}function DE(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=ko(t[a],r[a]);if(l)return l}return Qe(t.length,r.length)}function Po(i){return ig(i)}function ig(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=Ds(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return xs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Re.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=ig(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${ig(t.fields[c])}`;return a+"}"}(i.mapValue):Oe()}function Eh(i){switch(ks(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(i);return e?16+Eh(e):16;case 5:return 2*i.stringValue.length;case 6:return xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Eh(l),0)}(i.arrayValue);case 10:case 11:return function(r){let a=0;return js(r.fields,(l,c)=>{a+=l.length+Eh(c)}),a}(i.mapValue);default:throw Oe()}}function xE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rg(i){return!!i&&"integerValue"in i}function zg(i){return!!i&&"arrayValue"in i}function kE(i){return!!i&&"nullValue"in i}function PE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function QM(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[XS])===null||t===void 0?void 0:t.stringValue)===JS}function fu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return js(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fu(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function YM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===$M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=nn.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=fu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];bh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){js(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Tn(fu(this.value))}}function eT(i){const e=[];return js(i.fields,(t,r)=>{const a=new nn([t]);if(bh(r)){const l=eT(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,xe.min(),xe.min(),xe.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,a){return new cn(e,1,t,xe.min(),r,a,0)}static newNoDocument(e,t){return new cn(e,2,t,xe.min(),xe.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,xe.min(),xe.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.position=e,this.inclusive=t}}function NE(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),t.key):r=ko(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function VE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Hi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function WM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{}class Dt extends tT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new XM(e,t,r):t==="array-contains"?new t1(e,r):t==="in"?new n1(e,r):t==="not-in"?new i1(e,r):t==="array-contains-any"?new r1(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JM(e,r):new e1(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ko(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends tT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new gi(e,t)}matches(e){return nT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nT(i){return i.op==="and"}function iT(i){return ZM(i)&&nT(i)}function ZM(i){for(const e of i.filters)if(e instanceof gi)return!1;return!0}function sg(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(iT(i))return i.filters.map(e=>sg(e)).join(",");{const e=i.filters.map(t=>sg(t)).join(",");return`${i.op}(${e})`}}function rT(i,e){return i instanceof Dt?function(r,a){return a instanceof Dt&&r.op===a.op&&r.field.isEqual(a.field)&&Hi(r.value,a.value)}(i,e):i instanceof gi?function(r,a){return a instanceof gi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&rT(c,a.filters[d]),!0):!1}(i,e):void Oe()}function sT(i){return i instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`}(i):i instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(sT).join(" ,")+"}"}(i):"Filter"}class XM extends Dt{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class JM extends Dt{constructor(e,t){super(e,"in",t),this.keys=aT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class e1 extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=aT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Re.fromName(r.referenceValue))}class t1 extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&Tu(t.arrayValue,this.value)}}class n1 extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class i1 extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Tu(this.value.arrayValue,t)}}class r1 extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function UE(i,e=null,t=[],r=[],a=null,l=null,c=null){return new s1(i,e,t,r,a,l,c)}function Bg(i){const e=Pe(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Po(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Po(r)).join(",")),e.le=t}return e.le}function Hg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!WM(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!rT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!VE(i.startAt,e.startAt)&&VE(i.endAt,e.endAt)}function ag(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function a1(i,e,t,r,a,l,c,d){return new Ko(i,e,t,r,a,l,c,d)}function hf(i){return new Ko(i)}function jE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function oT(i){return i.collectionGroup!==null}function du(i){const e=Pe(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new zt(nn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new wu(l,r))}),t.has(nn.keyField().canonicalString())||e.he.push(new wu(nn.keyField(),r))}return e.he}function ji(i){const e=Pe(i);return e.Pe||(e.Pe=o1(e,du(i))),e.Pe}function o1(i,e){if(i.limitType==="F")return UE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new wu(a.field,l)});const t=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return UE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function og(i,e){const t=i.filters.concat([e]);return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function lg(i,e,t){return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ff(i,e){return Hg(ji(i),ji(e))&&i.limitType===e.limitType}function lT(i){return`${Bg(ji(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>sT(a)).join(", ")}]`),uf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Po(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Po(a)).join(",")),`Target(${r})`}(ji(i))}; limitType=${i.limitType})`}function df(i,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Re.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,a){for(const l of du(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(i,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,e)&&function(r,a){return!(r.startAt&&!function(c,d,p){const m=NE(c,d,p);return c.inclusive?m<=0:m<0}(r.startAt,du(r),a)||r.endAt&&!function(c,d,p){const m=NE(c,d,p);return c.inclusive?m>=0:m>0}(r.endAt,du(r),a))}(i,e)}function l1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uT(i){return(e,t)=>{let r=!1;for(const a of du(i)){const l=u1(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function u1(i,e,t){const r=i.field.isKeyField()?Re.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?ko(p,m):Oe()}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new vt(Re.comparator);function Ir(){return c1}const cT=new vt(Re.comparator);function lu(...i){let e=cT;for(const t of i)e=e.insert(t.key,t);return e}function hT(i){let e=cT;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ta(){return pu()}function fT(){return pu()}function pu(){return new Ma(i=>i.toString(),(i,e)=>i.isEqual(e))}const h1=new vt(Re.comparator),f1=new zt(Re.comparator);function Ke(...i){let e=f1;for(const t of i)e=e.add(t);return e}const d1=new zt(Qe);function p1(){return d1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function dT(i){return{integerValue:""+i}}function g1(i,e){return HM(e)?dT(e):qg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function m1(i,e,t){return i instanceof Cu?function(a,l){const c={fields:{[YS]:{stringValue:QS},[ZS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&jg(l)&&(l=cf(l)),l&&(c.fields[WS]=l),{mapValue:c}}(t,e):i instanceof No?gT(i,e):i instanceof Au?mT(i,e):function(a,l){const c=pT(a,l),d=zE(c)+zE(a.Ie);return rg(c)&&rg(a.Ie)?dT(d):qg(a.serializer,d)}(i,e)}function v1(i,e,t){return i instanceof No?gT(i,e):i instanceof Au?mT(i,e):t}function pT(i,e){return i instanceof jh?function(r){return rg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Cu extends pf{}class No extends pf{constructor(e){super(),this.elements=e}}function gT(i,e){const t=vT(e);for(const r of i.elements)t.some(a=>Hi(a,r))||t.push(r);return{arrayValue:{values:t}}}class Au extends pf{constructor(e){super(),this.elements=e}}function mT(i,e){let t=vT(e);for(const r of i.elements)t=t.filter(a=>!Hi(a,r));return{arrayValue:{values:t}}}class jh extends pf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function zE(i){return At(i.integerValue||i.doubleValue)}function vT(i){return zg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.field=e,this.transform=t}}function y1(i,e){return i.field.isEqual(e.field)&&function(r,a){return r instanceof No&&a instanceof No||r instanceof Au&&a instanceof Au?xo(r.elements,a.elements,Hi):r instanceof jh&&a instanceof jh?Hi(r.Ie,a.Ie):r instanceof Cu&&a instanceof Cu}(i.transform,e.transform)}class _1{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class gf{}function _T(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bT(i.key,zi.none()):new Nu(i.key,i.data,zi.none());{const t=i.data,r=Tn.empty();let a=new zt(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new zs(i.key,r,new Nn(a.toArray()),zi.none())}}function E1(i,e,t){i instanceof Nu?function(a,l,c){const d=a.value.clone(),p=HE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(i,e,t):i instanceof zs?function(a,l,c){if(!Sh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=HE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(ET(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function gu(i,e,t,r){return i instanceof Nu?function(l,c,d,p){if(!Sh(l.precondition,c))return d;const m=l.value.clone(),_=qE(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(i,e,t,r):i instanceof zs?function(l,c,d,p){if(!Sh(l.precondition,c))return d;const m=qE(l.fieldTransforms,p,c),_=c.data;return _.setAll(ET(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(i,e,t,r):function(l,c,d){return Sh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(i,e,t)}function b1(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=pT(r.transform,a||null);l!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,l))}return t||null}function BE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&xo(r,a,(l,c)=>y1(l,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends gf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends gf{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ET(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function HE(i,e,t){const r=new Map;rt(i.length===t.length);for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,v1(c,d,t[a]))}return r}function qE(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,m1(l,c,e))}return r}class bT extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S1 extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&E1(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fT();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=_T(c,d);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(t,r)=>BE(t,r))&&xo(this.baseMutations,e.baseMutations,(t,r)=>BE(t,r))}}class Fg{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){rt(e.mutations.length===r.length);let a=function(){return h1}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Fg(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Xe;function A1(i){switch(i){case ue.OK:return Oe();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Oe()}}function ST(i){if(i===void 0)return Lr("GRPC error has no .code"),ue.UNKNOWN;switch(i){case Ot.OK:return ue.OK;case Ot.CANCELLED:return ue.CANCELLED;case Ot.UNKNOWN:return ue.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ue.INTERNAL;case Ot.UNAVAILABLE:return ue.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ue.NOT_FOUND;case Ot.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ot.ABORTED:return ue.ABORTED;case Ot.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ot.DATA_LOSS:return ue.DATA_LOSS;default:return Oe()}}(Xe=Ot||(Ot={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Ls([4294967295,4294967295],0);function FE(i){const e=R1().encode(i),t=new VS;return t.update(e),new Uint8Array(t.digest())}function GE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ls([t,r],0),new Ls([a,l],0)]}class Gg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ls.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(Ls.fromNumber(r)));return a.compare(L1)===1&&(a=new Ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=FE(e),[r,a]=GE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Gg(l,a,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=FE(e),[r,a]=GE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mf(xe.min(),a,new vt(Qe),Ir(),Ke())}}class Vu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vu(r,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class TT{constructor(e,t){this.targetId=e,this.ge=t}}class wT{constructor(e,t,r=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class KE{constructor(){this.pe=0,this.ye=$E(),this.we=rn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ke(),t=Ke(),r=Ke();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Oe()}}),new Vu(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=$E()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,rt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class I1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ir(),this.$e=ch(),this.Ke=ch(),this.Ue=new vt(Qe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(ag(l))if(r===0){const c=new Re(l.path);this.ze(t,c,cn.newNoDocument(c,xe.min()))}else rt(r===1);else{const c=this.et(t);if(c!==r){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=xs(r).toUint8Array()}catch(p){if(p instanceof $S)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Gg(c,a,l)}catch(p){return Do(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&ag(d.target)){const p=new Re(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,cn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let r=Ke();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new mf(e,t,this.Ue,this.Qe,r);return this.Qe=Ir(),this.$e=ch(),this.Ke=ch(),this.Ue=new vt(Qe),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new KE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new zt(Qe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new zt(Qe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new KE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ch(){return new vt(Re.comparator)}function $E(){return new vt(Re.comparator)}const M1={asc:"ASCENDING",desc:"DESCENDING"},O1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D1={and:"AND",or:"OR"};class x1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ug(i,e){return i.useProto3Json||uf(e)?e:{value:e}}function zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function k1(i,e){return zh(i,e.toTimestamp())}function Bi(i){return rt(!!i),xe.fromTimestamp(function(t){const r=Ds(t);return new jt(r.seconds,r.nanos)}(i))}function Kg(i,e){return cg(i,e).canonicalString()}function cg(i,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function AT(i){const e=ht.fromString(i);return rt(OT(e)),e}function hg(i,e){return Kg(i.databaseId,e.path)}function Vp(i,e){const t=AT(e);if(t.get(1)!==i.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Re(LT(t))}function RT(i,e){return Kg(i.databaseId,e)}function P1(i){const e=AT(i);return e.length===4?ht.emptyPath():LT(e)}function fg(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function LT(i){return rt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function QE(i,e,t){return{name:hg(i,e),fields:t.value.mapValue.fields}}function N1(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(rt(_===void 0||typeof _=="string"),rn.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),rn.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const _=m.code===void 0?ue.UNKNOWN:ST(m.code);return new _e(_,m.message||"")}(c);t=new wT(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vp(i,r.document.name),l=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):xe.min(),d=new Tn({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(a,l,c,d),m=r.targetIds||[],_=r.removedTargetIds||[];t=new Th(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Vp(i,r.document),l=r.readTime?Bi(r.readTime):xe.min(),c=cn.newNoDocument(a,l),d=r.removedTargetIds||[];t=new Th([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Vp(i,r.document),l=r.removedTargetIds||[];t=new Th([],l,a,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new C1(a,l),d=r.targetId;t=new TT(d,c)}}return t}function V1(i,e){let t;if(e instanceof Nu)t={update:QE(i,e.key,e.value)};else if(e instanceof bT)t={delete:hg(i,e.key)};else if(e instanceof zs)t={update:QE(i,e.key,e.data),updateMask:K1(e.fieldMask)};else{if(!(e instanceof S1))return Oe();t={verify:hg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof No)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof jh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Oe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:k1(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe()}(i,e.precondition)),t}function U1(i,e){return i&&i.length>0?(rt(e!==void 0),i.map(t=>function(a,l){let c=a.updateTime?Bi(a.updateTime):Bi(l);return c.isEqual(xe.min())&&(c=Bi(l)),new _1(c,a.transformResults||[])}(t,e))):[]}function j1(i,e){return{documents:[RT(i,e.path)]}}function z1(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=RT(i,a);const l=function(m){if(m.length!==0)return MT(gi.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:bo(T.field),direction:q1(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=ug(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function B1(i){let e=P1(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){rt(r===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(S){const T=IT(S);return T instanceof gi&&iT(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(T=>function(A){return new wu(So(A.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(S){let T;return T=typeof S=="object"?S.value:S,uf(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(S){const T=!!S.before,C=S.values||[];return new Uh(C,T)}(t.startAt));let m=null;return t.endAt&&(m=function(S){const T=!S.before,C=S.values||[];return new Uh(C,T)}(t.endAt)),a1(e,a,c,l,d,"F",p,m)}function H1(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IT(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=So(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=So(t.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(t.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(i):i.fieldFilter!==void 0?function(t){return Dt.create(So(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return gi.create(t.compositeFilter.filters.map(r=>IT(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe()}}(t.compositeFilter.op))}(i):Oe()}function q1(i){return M1[i]}function F1(i){return O1[i]}function G1(i){return D1[i]}function bo(i){return{fieldPath:i.canonicalString()}}function So(i){return nn.fromServerFormat(i.fieldPath)}function MT(i){return i instanceof Dt?function(t){if(t.op==="=="){if(PE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(kE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(kE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:F1(t.op),value:t.value}}}(i):i instanceof gi?function(t){const r=t.getFilters().map(a=>MT(a));return r.length===1?r[0]:{compositeFilter:{op:G1(t.op),filters:r}}}(i):Oe()}function K1(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,r,a,l=xe.min(),c=xe.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.Tt=e}}function Q1(i){const e=B1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.Tn=new W1}addToCollectionParentIndex(e,t){return this.Tn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Os.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class W1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new zt(ht.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(DT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Vo(0)}static Un(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="LruGarbageCollector",Z1=1048576;function ZE([i,e],[t,r]){const a=Qe(i,t);return a===0?Qe(e,r):a}class X1{constructor(e){this.Hn=e,this.buffer=new zt(ZE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ZE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class J1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(WE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Go(t)?ye(WE,"Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.er(3e5)})}}class eO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(lf.ae);const r=new X1(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(YE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,l,c,d,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,c=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(r=S,d=Date.now(),this.removeTargets(e,r,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(m=Date.now(),_o()<=Ge.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${S} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:S})))}}function tO(i,e){return new eO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&gu(r.mutation,a,Nn.empty(),jt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ke()){const a=Ta();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let c=lu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ke()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,a){let l=Ir();const c=pu(),d=function(){return pu()}();return t.forEach((p,m)=>{const _=r.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof zs)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),gu(_.mutation,m,_.mutation.getFieldMask(),jt.now())):c.set(m.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var S;return d.set(m,new iO(_,(S=c.get(m))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const r=pu();let a=new vt((c,d)=>c-d),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let _=r.get(p)||Nn.empty();_=d.applyToLocalView(m,_),r.set(p,_);const S=(a.get(d.batchId)||Ke()).add(p);a=a.insert(d.batchId,S)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,_=p.value,S=fT();_.forEach(T=>{if(!l.has(T)){const C=_T(t.get(T),r.get(T));C!==null&&S.set(T,C),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,S))}return ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ce.resolve(Ta());let d=Eu,p=l;return c.next(m=>ce.forEach(m,(_,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),l.get(_)?ce.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ke())).next(_=>({batchId:d,changes:hT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(r=>{let a=lu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(e,l).next(d=>ce.forEach(d,p=>{const m=function(S,T){return new Ko(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(_=>{_.forEach((S,T)=>{c=c.insert(S,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(c=>{l.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,cn.newInvalidDocument(_)))});let d=lu();return c.forEach((p,m)=>{const _=l.get(p);_!==void 0&&gu(_.mutation,m,Nn.empty(),jt.now()),df(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ce.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Bi(a.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:Q1(a.bundledQuery),readTime:Bi(a.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.overlays=new vt(Re.comparator),this.Rr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ta();return ce.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.Et(e,t,l)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const a=Ta(),l=t.length+1,c=new Re(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new vt((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=l.get(m.largestBatchId);_===null&&(_=Ta(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=Ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=a)););return ce.resolve(d)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new w1(t,r));let l=this.Rr.get(t);l===void 0&&(l=Ke(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Vr=new zt(Yt.mr),this.gr=new zt(Yt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Yt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Yt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Re(new ht([])),r=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Re(new ht([])),r=new Yt(t,e),a=new Yt(t,e+1);let l=Ke();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Yt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Re.comparator(e.key,t.key)||Qe(e.Cr,t.Cr)}static pr(e,t){return Qe(e.Cr,t.Cr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Yt.mr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new T1(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Ug:this.Fr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(Qe);return t.forEach(a=>{const l=new Yt(a,0),c=new Yt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{r=r.add(d.Cr)})}),ce.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Re.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new Re(l),0);let d=new zt(Qe);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Cr)),!0)},c),ce.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ce.forEach(t.mutations,a=>{const l=new Yt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Yt(t,0),a=this.Mr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.kr=e,this.docs=function(){return new vt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Ir();const c=t.path,d=new Re(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||UM(VM(_),r)<=0||(a.has(_.key)||df(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Oe()}qr(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cO(this)}getSize(e){return ce.resolve(this.size)}}class cO extends nO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.persistence=e,this.Qr=new Ma(t=>Bg(t),Hg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new $g,this.targetCount=0,this.Ur=Vo.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ce.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.zn(t),ce.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ce.waitFor(l).next(()=>a)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lf(0),this.zr=!1,this.zr=!0,this.jr=new oO,this.referenceDelegate=e(this),this.Hr=new hO(this),this.indexManager=new Y1,this.remoteDocumentCache=function(a){return new uO(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new $1(t),this.Yr=new sO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new lO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const a=new fO(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ce.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class fO extends zM{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.ti=new $g,this.ni=null}static ri(e){return new Qg(e)}get ii(){if(this.ni)return this.ni;throw Oe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ce.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.ii,r=>{const a=Re.fromPath(r);return this.si(e,a).next(l=>{l||t.removeEntry(a,xe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ce.or([()=>ce.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.oi=new Ma(r=>qM(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=tO(this,t)}static ri(e,t){return new Bh(e,t)}Zr(){}Xr(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ce.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?ce.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(r++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ce.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Eh(e.data.value)),t}ar(e,t,r){return ce.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ce.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=Ke(),a=Ke();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yg(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return QA()?8:BM(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new dO;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,r,a){return r.documentReadCount<this.es?(_o()<=Ge.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ce.resolve()):(_o()<=Ge.DEBUG&&ye("QueryEngine","Query:",Eo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(_o()<=Ge.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):ce.resolve())}rs(e,t){if(jE(t))return ce.resolve(null);let r=ji(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=lg(t,null,"F"),r=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Ke(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.cs(t,d);return this.ls(t,m,c,p.readTime)?this.rs(e,lg(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,r,a){return jE(t)||a.isEqual(xe.min())?ce.resolve(null):this.ns.getDocuments(e,r).next(l=>{const c=this.cs(t,l);return this.ls(t,c,r,a)?ce.resolve(null):(_o()<=Ge.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eo(t)),this.hs(e,c,t,NM(a,Eu)).next(d=>d))})}cs(e,t){let r=new zt(uT(e));return t.forEach((a,l)=>{df(e,l)&&(r=r.add(l))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,r){return _o()<=Ge.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ns.getDocumentsMatchingQuery(e,t,Os.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="LocalStore",gO=3e8;class mO{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new vt(Qe),this.Is=new Ma(l=>Bg(l),Hg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vO(i,e,t,r){return new mO(i,e,t,r)}async function kT(i,e){const t=Pe(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let p=Ke();for(const m of a){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){d.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:d}))})})}function yO(i,e){const t=Pe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,m,_){const S=m.batch,T=S.keys();let C=ce.resolve();return T.forEach(A=>{C=C.next(()=>_.getEntry(p,A)).next(V=>{const k=m.docVersions.get(A);rt(k!==null),V.version.compareTo(k)<0&&(S.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),_.addEntry(V)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Ke();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function PT(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function _O(i,e){const t=Pe(i),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((_,S)=>{const T=a.get(S);if(!T)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,S)));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?C=C.withResumeToken(rn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),a=a.insert(S,C),function(V,k,B){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=gO?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(T,C,_)&&d.push(t.Hr.updateTargetData(l,C))});let p=Ir(),m=Ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(EO(l,c,e.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!r.isEqual(xe.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(_)}return ce.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ts=a,l))}function EO(i,e,t){let r=Ke(),a=Ke();return t.forEach(l=>r=r.add(l)),e.getEntries(i,r).next(l=>{let c=Ir();return t.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ye(Wg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function bO(i,e){const t=Pe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ug),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SO(i,e){const t=Pe(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(l=>l?(a=l,ce.resolve(a)):t.Hr.allocateTargetId(r).next(c=>(a=new Ts(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function dg(i,e,t){const r=Pe(i),a=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Go(c))throw c;ye(Wg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function XE(i,e,t){const r=Pe(i);let a=xe.min(),l=Ke();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const S=Pe(p),T=S.Is.get(_);return T!==void 0?ce.resolve(S.Ts.get(T)):S.Hr.getTargetData(m,_)}(r,c,ji(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,e,t?a:xe.min(),t?l:Ke())).next(d=>(TO(r,l1(e),d),{documents:d,gs:l})))}function TO(i,e,t){let r=i.Es.get(e)||xe.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.Es.set(e,r)}class JE{constructor(){this.activeTargetIds=p1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wO{constructor(){this.ho=new JE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new JE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class t0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(e0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function pg(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",AO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Nh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}bo(e,t,r,a,l){const c=pg(),d=this.So(e,t.toUriEncodedString());ye(Up,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,r).then(m=>(ye(Up,`Received RPC '${e}' ${c}: `,m),m),m=>{throw Do(Up,`RPC '${e}' ${c} failed with error: `,m,"url: ",d,"request:",r),m})}Co(e,t,r,a,l,c){return this.bo(e,t,r,a,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}So(e,t){const r=AO[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class IO extends RO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const l=pg();return new Promise((c,d)=>{const p=new US;p.setWithCredentials(!0),p.listenOnce(jS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const _=p.getResponseJson();ye(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case _h.TIMEOUT:ye(ln,`RPC '${e}' ${l} timed out`),d(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const S=p.getStatus();if(ye(ln,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const A=function(k){const B=k.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(B)>=0?B:ue.UNKNOWN}(C.status);d(new _e(A,C.message))}else d(new _e(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{ye(ln,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);ye(ln,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,r,15)})}Wo(e,t,r){const a=pg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=HS(),d=BS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=l.join("");ye(ln,`Creating RPC '${e}' stream ${a}: ${_}`,p);const S=c.createWebChannel(_,p);let T=!1,C=!1;const A=new LO({Fo:k=>{C?ye(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(T||(ye(ln,`Opening RPC '${e}' stream ${a} transport.`),S.open(),T=!0),ye(ln,`RPC '${e}' stream ${a} sending:`,k),S.send(k))},Mo:()=>S.close()}),V=(k,B,G)=>{k.listen(B,q=>{try{G(q)}catch(K){setTimeout(()=>{throw K},0)}})};return V(S,ou.EventType.OPEN,()=>{C||(ye(ln,`RPC '${e}' stream ${a} transport opened.`),A.Qo())}),V(S,ou.EventType.CLOSE,()=>{C||(C=!0,ye(ln,`RPC '${e}' stream ${a} transport closed`),A.Ko())}),V(S,ou.EventType.ERROR,k=>{C||(C=!0,Do(ln,`RPC '${e}' stream ${a} transport errored:`,k),A.Ko(new _e(ue.UNAVAILABLE,"The operation could not be completed")))}),V(S,ou.EventType.MESSAGE,k=>{var B;if(!C){const G=k.data[0];rt(!!G);const q=G,K=(q==null?void 0:q.error)||((B=q[0])===null||B===void 0?void 0:B.error);if(K){ye(ln,`RPC '${e}' stream ${a} received error:`,K);const z=K.status;let Y=function(w){const M=Ot[w];if(M!==void 0)return ST(M)}(z),O=K.message;Y===void 0&&(Y=ue.INTERNAL,O="Unknown error status: "+z+" with message "+K.message),C=!0,A.Ko(new _e(Y,O)),S.close()}else ye(ln,`RPC '${e}' stream ${a} received:`,G),A.Uo(G)}}),V(d,zS.STAT_EVENT,k=>{k.stat===ng.PROXY?ye(ln,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===ng.NOPROXY&&ye(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(i){return new x1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class VT{constructor(e,t,r,a,l,c,d,p){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new NT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new _e(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(n0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MO extends VT{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=N1(this.serializer,e),r=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Bi(c.readTime):xe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=fg(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=ag(p)?{documents:j1(l,p)}:{query:z1(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=CT(l,c.resumeToken);const m=ug(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(xe.min())>0){d.readTime=zh(l,c.snapshotVersion.toTimestamp());const m=ug(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=H1(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=fg(this.serializer),t.removeTarget=e,this.I_(t)}}class OO extends VT{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=U1(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=fg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>V1(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{}class xO extends DO{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,cg(t,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ue.UNKNOWN,l.toString())})}Co(e,t,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,cg(t,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ue.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Lr(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class PO{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{Oa(this)&&(ye(La,"Restarting streams for network reachability change."),await async function(p){const m=Pe(p);m.W_.add(4),await Uu(m),m.j_.set("Unknown"),m.W_.delete(4),await yf(m)}(this))})}),this.j_=new kO(r,a)}}async function yf(i){if(Oa(i))for(const e of i.G_)await e(!0)}async function Uu(i){for(const e of i.G_)await e(!1)}function UT(i,e){const t=Pe(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),em(t)?Jg(t):$o(t).c_()&&Xg(t,e))}function Zg(i,e){const t=Pe(i),r=$o(t);t.U_.delete(e),r.c_()&&jT(t,e),t.U_.size===0&&(r.c_()?r.P_():Oa(t)&&t.j_.set("Unknown"))}function Xg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(i).y_(e)}function jT(i,e){i.H_.Ne(e),$o(i).w_(e)}function Jg(i){i.H_=new I1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.j_.B_()}function em(i){return Oa(i)&&!$o(i).u_()&&i.U_.size>0}function Oa(i){return Pe(i).W_.size===0}function zT(i){i.H_=void 0}async function NO(i){i.j_.set("Online")}async function VO(i){i.U_.forEach((e,t)=>{Xg(i,e)})}async function UO(i,e){zT(i),em(i)?(i.j_.q_(e),Jg(i)):i.j_.set("Unknown")}async function jO(i,e,t){if(i.j_.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(i,e)}catch(r){ye(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hh(i,r)}else if(e instanceof Th?i.H_.We(e):e instanceof TT?i.H_.Ze(e):i.H_.je(e),!t.isEqual(xe.min()))try{const r=await PT(i.localStore);t.compareTo(r)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(m);_&&l.U_.set(m,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),jT(l,p);const S=new Ts(_.target,p,m,_.sequenceNumber);Xg(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(r){ye(La,"Failed to raise snapshot:",r),await Hh(i,r)}}async function Hh(i,e,t){if(!Go(e))throw e;i.W_.add(1),await Uu(i),i.j_.set("Offline"),t||(t=()=>PT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ye(La,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await yf(i)})}function BT(i,e){return e().catch(t=>Hh(i,t,e))}async function _f(i){const e=Pe(i),t=Ps(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ug;for(;zO(e);)try{const a=await bO(e.localStore,r);if(a===null){e.K_.length===0&&t.P_();break}r=a.batchId,BO(e,a)}catch(a){await Hh(e,a)}HT(e)&&qT(e)}function zO(i){return Oa(i)&&i.K_.length<10}function BO(i,e){i.K_.push(e);const t=Ps(i);t.c_()&&t.b_&&t.S_(e.mutations)}function HT(i){return Oa(i)&&!Ps(i).u_()&&i.K_.length>0}function qT(i){Ps(i).start()}async function HO(i){Ps(i).C_()}async function qO(i){const e=Ps(i);for(const t of i.K_)e.S_(t.mutations)}async function FO(i,e,t){const r=i.K_.shift(),a=Fg.from(r,e,t);await BT(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await _f(i)}async function GO(i,e){e&&Ps(i).b_&&await async function(r,a){if(function(c){return A1(c)&&c!==ue.ABORTED}(a.code)){const l=r.K_.shift();Ps(r).h_(),await BT(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await _f(r)}}(i,e),HT(i)&&qT(i)}async function i0(i,e){const t=Pe(i);t.asyncQueue.verifyOperationInProgress(),ye(La,"RemoteStore received new credentials");const r=Oa(t);t.W_.add(3),await Uu(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yf(t)}async function KO(i,e){const t=Pe(i);e?(t.W_.delete(2),await yf(t)):e||(t.W_.add(2),await Uu(t),t.j_.set("Unknown"))}function $o(i){return i.J_||(i.J_=function(t,r,a){const l=Pe(t);return l.M_(),new MO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{xo:NO.bind(null,i),No:VO.bind(null,i),Lo:UO.bind(null,i),p_:jO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),em(i)?Jg(i):i.j_.set("Unknown")):(await i.J_.stop(),zT(i))})),i.J_}function Ps(i){return i.Y_||(i.Y_=function(t,r,a){const l=Pe(t);return l.M_(),new OO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:HO.bind(null,i),Lo:GO.bind(null,i),D_:qO.bind(null,i),v_:FO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await _f(i)):(await i.Y_.stop(),i.K_.length>0&&(ye(La,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new tm(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),Go(i))return new _e(ue.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Re.comparator(t.key,r.key):(t,r)=>Re.comparator(t.key,r.key),this.keyedMap=lu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.Z_=new vt(Re.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Oe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Uo{constructor(e,t,r,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Uo(e,t,Lo.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class QO{constructor(){this.queries=s0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=Pe(t),l=a.queries;a.queries=s0(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(r)})})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function s0(){return new Ma(i=>lT(i),ff)}async function im(i,e){const t=Pe(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new $O,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=nm(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&sm(t)}async function rm(i,e){const t=Pe(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function YO(i,e){const t=Pe(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(r=!0);c.ea=a}}r&&sm(t)}function WO(i,e,t){const r=Pe(i),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(t);r.queries.delete(e)}function sm(i){i.ia.forEach(e=>{e.next()})}var gg,a0;(a0=gg||(gg={}))._a="default",a0.Cache="cache";class am{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class ZO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ke(),this.mutatedKeys=Ke(),this.ya=uT(e),this.wa=new Lo(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new r0,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,S)=>{const T=a.get(_),C=df(this.query,S)?S:null,A=!!T&&this.mutatedKeys.has(T.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;T&&C?T.data.isEqual(C.data)?A!==V&&(r.track({type:3,doc:C}),k=!0):this.va(T,C)||(r.track({type:2,doc:C}),k=!0,(p&&this.ya(C,p)>0||m&&this.ya(C,m)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),k=!0):T&&!C&&(r.track({type:1,doc:T}),k=!0,(p||m)&&(d=!0)),k&&(C?(c=c.add(C),l=V?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{wa:c,Da:r,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,S)=>function(C,A){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return V(C)-V(A)}(_.type,S.type)||this.ya(_.doc,S.doc)),this.Ca(r),a=a!=null&&a;const d=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new Uo(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new r0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ke(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new GT(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new FT(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ke();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const om="SyncEngine";class XO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class JO{constructor(e){this.key=e,this.Ba=!1}}class eD{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ma(d=>lT(d),ff),this.qa=new Map,this.Qa=new Set,this.$a=new vt(Re.comparator),this.Ka=new Map,this.Ua=new $g,this.Wa={},this.Ga=new Map,this.za=Vo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tD(i,e,t=!0){const r=ZT(i);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await KT(r,e,t,!0),a}async function nD(i,e){const t=ZT(i);await KT(t,e,!0,!1)}async function KT(i,e,t,r){const a=await SO(i.localStore,ji(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await iD(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&UT(i.remoteStore,a),d}async function iD(i,e,t,r,a){i.Ha=(S,T,C)=>async function(V,k,B,G){let q=k.view.Sa(B);q.ls&&(q=await XE(V.localStore,k.query,!1).then(({documents:O})=>k.view.Sa(O,q)));const K=G&&G.targetChanges.get(k.targetId),z=G&&G.targetMismatches.get(k.targetId)!=null,Y=k.view.applyChanges(q,V.isPrimaryClient,K,z);return l0(V,k.targetId,Y.Ma),Y.snapshot}(i,S,T,C);const l=await XE(i.localStore,e,!0),c=new ZO(e,l.gs),d=c.Sa(l.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),m=c.applyChanges(d,i.isPrimaryClient,p);l0(i,t,m.Ma);const _=new XO(e,t,c);return i.ka.set(e,_),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),m.snapshot}async function rD(i,e,t){const r=Pe(i),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!ff(c,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await dg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Zg(r.remoteStore,a.targetId),mg(r,a.targetId)}).catch(Fo)):(mg(r,a.targetId),await dg(r.localStore,a.targetId,!0))}async function sD(i,e){const t=Pe(i),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(t.remoteStore,r.targetId))}async function aD(i,e,t){const r=dD(i);try{const a=await function(c,d){const p=Pe(c),m=jt.now(),_=d.reduce((C,A)=>C.add(A.key),Ke());let S,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let A=Ir(),V=Ke();return p.ds.getEntries(C,_).next(k=>{A=k,A.forEach((B,G)=>{G.isValidDocument()||(V=V.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,A)).next(k=>{S=k;const B=[];for(const G of d){const q=b1(G,S.get(G.key).overlayedDocument);q!=null&&B.push(new zs(G.key,q,eT(q.value.mapValue),zi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,B,d)}).next(k=>{T=k;const B=k.applyToLocalDocumentSet(S,V);return p.documentOverlayCache.saveOverlays(C,k.batchId,B)})}).then(()=>({batchId:T.batchId,changes:hT(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new vt(Qe)),m=m.insert(d,p),c.Wa[c.currentUser.toKey()]=m}(r,a.batchId,t),await ju(r,a.changes),await _f(r.remoteStore)}catch(a){const l=nm(a,"Failed to persist write");t.reject(l)}}async function $T(i,e){const t=Pe(i);try{const r=await _O(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?rt(c.Ba):a.removedDocuments.size>0&&(rt(c.Ba),c.Ba=!1))}),await ju(t,r,e)}catch(r){await Fo(r)}}function o0(i,e,t){const r=Pe(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Pe(c);p.onlineState=d;let m=!1;p.queries.forEach((_,S)=>{for(const T of S.ta)T.sa(d)&&(m=!0)}),m&&sm(p)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oD(i,e,t){const r=Pe(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ka.get(e),l=a&&a.key;if(l){let c=new vt(Re.comparator);c=c.insert(l,cn.newNoDocument(l,xe.min()));const d=Ke().add(l),p=new mf(xe.min(),new Map,new vt(Qe),c,d);await $T(r,p),r.$a=r.$a.remove(l),r.Ka.delete(e),lm(r)}else await dg(r.localStore,e,!1).then(()=>mg(r,e,t)).catch(Fo)}async function lD(i,e){const t=Pe(i),r=e.batch.batchId;try{const a=await yO(t.localStore,e);YT(t,r,null),QT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ju(t,a)}catch(a){await Fo(a)}}async function uD(i,e,t){const r=Pe(i);try{const a=await function(c,d){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,d).next(S=>(rt(S!==null),_=S.keys(),p.mutationQueue.removeMutationBatch(m,S))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(r.localStore,e);YT(r,e,t),QT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ju(r,a)}catch(a){await Fo(a)}}function QT(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function YT(i,e,t){const r=Pe(i);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function mg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.qa.get(e))i.ka.delete(r),t&&i.La.Ja(r,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(r=>{i.Ua.containsKey(r)||WT(i,r)})}function WT(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Zg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),lm(i))}function l0(i,e,t){for(const r of t)r instanceof FT?(i.Ua.addReference(r.key,e),cD(i,r)):r instanceof GT?(ye(om,"Document no longer in limbo: "+r.key),i.Ua.removeReference(r.key,e),i.Ua.containsKey(r.key)||WT(i,r.key)):Oe()}function cD(i,e){const t=e.key,r=t.path.canonicalString();i.$a.get(t)||i.Qa.has(r)||(ye(om,"New document in limbo: "+t),i.Qa.add(r),lm(i))}function lm(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Re(ht.fromString(e)),r=i.za.next();i.Ka.set(r,new JO(t)),i.$a=i.$a.insert(t,r),UT(i.remoteStore,new Ts(ji(hf(t.path)),r,"TargetPurposeLimboResolution",lf.ae))}}async function ju(i,e,t){const r=Pe(i),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((d,p)=>{c.push(r.Ha(p,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const S=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(m){a.push(m);const S=Yg.Yi(p.targetId,m);l.push(S)}}))}),await Promise.all(c),r.La.p_(a),await async function(p,m){const _=Pe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ce.forEach(m,T=>ce.forEach(T.Hi,C=>_.persistence.referenceDelegate.addReference(S,T.targetId,C)).next(()=>ce.forEach(T.Ji,C=>_.persistence.referenceDelegate.removeReference(S,T.targetId,C)))))}catch(S){if(!Go(S))throw S;ye(Wg,"Failed to update sequence numbers: "+S)}for(const S of m){const T=S.targetId;if(!S.fromCache){const C=_.Ts.get(T),A=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(A);_.Ts=_.Ts.insert(T,V)}}}(r.localStore,l))}async function hD(i,e){const t=Pe(i);if(!t.currentUser.isEqual(e)){ye(om,"User change. New user:",e.toKey());const r=await kT(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new _e(ue.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(t,r.Rs)}}function fD(i,e){const t=Pe(i),r=t.Ka.get(e);if(r&&r.Ba)return Ke().add(r.key);{let a=Ke();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function ZT(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oD.bind(null,e),e.La.p_=YO.bind(null,e.eventManager),e.La.Ja=WO.bind(null,e.eventManager),e}function dD(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vO(this.persistence,new pO,e.initialUser,this.serializer)}Xa(e){return new xT(Qg.ri,this.serializer)}Za(e){return new wO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class pD extends qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){rt(this.persistence.referenceDelegate instanceof Bh);const r=this.persistence.referenceDelegate.garbageCollector;return new J1(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new xT(r=>Bh.ri(r,t),this.serializer)}}class vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await KO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QO}()}createDatastore(e){const t=vf(e.databaseInfo.databaseId),r=function(l){return new IO(l)}(e.databaseInfo);return function(l,c,d,p){return new xO(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,c,d){return new PO(r,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>o0(this.syncEngine,t,0),function(){return t0.D()?new t0:new CO}())}createSyncEngine(e,t){return function(a,l,c,d,p,m,_){const S=new eD(a,l,c,d,p,m);return _&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Pe(a);ye(La,"RemoteStore shutting down."),l.W_.add(5),await Uu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class gD{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=FS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ye(Ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ye(Ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=nm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zp(i,e){i.asyncQueue.verifyOperationInProgress(),ye(Ns,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async a=>{r.isEqual(a)||(await kT(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function u0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await mD(i);ye(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>i0(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,a)=>i0(e.remoteStore,a)),i._onlineComponents=e}async function mD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ye(Ns,"Using user provided OfflineComponentProvider");try{await zp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),await zp(i,new qh)}}else ye(Ns,"Using default OfflineComponentProvider"),await zp(i,new pD(void 0));return i._offlineComponents}async function XT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ye(Ns,"Using user provided OnlineComponentProvider"),await u0(i,i._uninitializedComponentsProvider._online)):(ye(Ns,"Using default OnlineComponentProvider"),await u0(i,new vg))),i._onlineComponents}function vD(i){return XT(i).then(e=>e.syncEngine)}async function Fh(i){const e=await XT(i),t=e.eventManager;return t.onListen=tD.bind(null,e.syncEngine),t.onUnlisten=rD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sD.bind(null,e.syncEngine),t}function yD(i,e,t={}){const r=new wr;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const _=new um({next:T=>{_.su(),c.enqueueAndForget(()=>rm(l,S));const C=T.docs.has(d);!C&&T.fromCache?m.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?m.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),S=new am(hf(d.path),_,{includeMetadataChanges:!0,Ta:!0});return im(l,S)}(await Fh(i),i.asyncQueue,e,t,r)),r.promise}function _D(i,e,t={}){const r=new wr;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const _=new um({next:T=>{_.su(),c.enqueueAndForget(()=>rm(l,S)),T.fromCache&&p.source==="server"?m.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),S=new am(d,_,{includeMetadataChanges:!0,Ta:!0});return im(l,S)}(await Fh(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(i,e,t){if(!t)throw new _e(ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ED(i,e,t,r){if(e===!0&&r===!0)throw new _e(ue.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function h0(i){if(!Re.isDocumentKey(i))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function f0(i){if(Re.isDocumentKey(i))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe()}function ri(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ef(i);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firestore.googleapis.com",d0=!0;class p0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tw,this.ssl=d0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:d0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z1)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ED("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LM;switch(r.type){case"firstParty":return new DM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=c0.get(t);r&&(ye("ComponentProvider","Removing Datastore"),c0.delete(t),r.terminate())}(this),Promise.resolve()}}function bD(i,e,t,r={}){var a;const l=(i=ri(i,bf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==tw&&l.host!==d&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:r});if(!Ms(p,c)&&(i._setSettings(p),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=un.MOCK_USER;else{m=BA(r.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(S)}i._authCredentials=new IM(new qS(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Is extends Bs{constructor(e,t,r){super(e,t,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Re(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function cm(i,e,...t){if(i=Bt(i),ew("collection","path",e),i instanceof bf){const r=ht.fromString(e,...t);return f0(r),new Is(i,null,r)}{if(!(i instanceof fn||i instanceof Is))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ht.fromString(e,...t));return f0(r),new Is(i.firestore,null,r)}}function Vn(i,e,...t){if(i=Bt(i),arguments.length===1&&(e=FS.newId()),ew("doc","path",e),i instanceof bf){const r=ht.fromString(e,...t);return h0(r),new fn(i,null,new Re(r))}{if(!(i instanceof fn||i instanceof Is))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ht.fromString(e,...t));return h0(r),new fn(i.firestore,i instanceof Is?i.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new NT(this,"async_queue_retry"),this.bu=()=>{const r=jp();r&&ye(g0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new wr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Go(e))throw e;ye(g0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw Lr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=tm.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Oe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function v0(i){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(i,["next","error","complete"])}class Ia extends bf{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new m0,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function SD(i,e){const t=typeof i=="object"?i:Xb(),r=typeof i=="string"?i:Nh,a=Rg(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=jA("firestore");l&&bD(a,...l)}return a}function Sf(i){if(i._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||TD(i),i._firestoreClient}function TD(i){var e,t,r;const a=i._freezeSettings(),l=function(d,p,m,_){return new KM(d,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,JT(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new gD(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(rn.fromBase64String(e))}catch(t){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^__.*__$/;class CD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nu(e,this.data,t,this.fieldTransforms)}}class nw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class wf{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Gh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(iw(this.Lu)&&wD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class AD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vf(e)}ju(e,t,r,a=!1){return new wf({Lu:e,methodName:t,zu:r,path:nn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(i){const e=i._freezeSettings(),t=vf(i._databaseId);return new AD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function RD(i,e,t,r,a,l={}){const c=i.ju(l.merge||l.mergeFields?2:0,e,t,a);mm("Data must be an object, but it was:",c,r);const d=rw(r,c);let p,m;if(l.merge)p=new Nn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const S of l.mergeFields){const T=yg(e,S,t);if(!c.contains(T))throw new _e(ue.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);aw(_,T)||_.push(T)}p=new Nn(_),m=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,m=c.fieldTransforms;return new CD(new Tn(d),p,m)}class Cf extends zu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function LD(i,e,t){return new wf({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pm extends zu{_toFieldTransform(e){return new yT(e.path,new Cu)}isEqual(e){return e instanceof pm}}class gm extends zu{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=LD(this,e,!0),r=this.Hu.map(l=>Qo(l,t)),a=new No(r);return new yT(e.path,a)}isEqual(e){return e instanceof gm&&Ms(this.Hu,e.Hu)}}function ID(i,e,t,r){const a=i.ju(1,e,t);mm("Data must be an object, but it was:",a,r);const l=[],c=Tn.empty();js(r,(p,m)=>{const _=vm(e,p,t);m=Bt(m);const S=a.Ku(_);if(m instanceof Cf)l.push(_);else{const T=Qo(m,S);T!=null&&(l.push(_),c.set(_,T))}});const d=new Nn(l);return new nw(c,d,a.fieldTransforms)}function MD(i,e,t,r,a,l){const c=i.ju(1,e,t),d=[yg(e,r,t)],p=[a];if(l.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(yg(e,l[T])),p.push(l[T+1]);const m=[],_=Tn.empty();for(let T=d.length-1;T>=0;--T)if(!aw(m,d[T])){const C=d[T];let A=p[T];A=Bt(A);const V=c.Ku(C);if(A instanceof Cf)m.push(C);else{const k=Qo(A,V);k!=null&&(m.push(C),_.set(C,k))}}const S=new Nn(m);return new nw(_,S,c.fieldTransforms)}function OD(i,e,t,r=!1){return Qo(t,i.ju(r?4:3,e))}function Qo(i,e){if(sw(i=Bt(i)))return mm("Unsupported field value:",e,i),rw(i,e);if(i instanceof zu)return function(r,a){if(!iw(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let p=Qo(d,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(i,e)}return function(r,a){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g1(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=jt.fromDate(r);return{timestampValue:zh(a.serializer,l)}}if(r instanceof jt){const l=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(a.serializer,l)}}if(r instanceof hm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:CT(a.serializer,r._byteString)};if(r instanceof fn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Kg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof fm)return function(c,d){return{mapValue:{fields:{[XS]:{stringValue:JS},[Vh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return qg(d.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${Ef(r)}`)}(i,e)}function rw(i,e){const t={};return KS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(i,(r,a)=>{const l=Qo(a,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function sw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof hm||i instanceof jo||i instanceof fn||i instanceof zu||i instanceof fm)}function mm(i,e,t){if(!sw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Ef(t);throw r==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+r)}}function yg(i,e,t){if((e=Bt(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return vm(i,e);throw Gh("Field path arguments must be of type string or ",i,!1,void 0,t)}const DD=new RegExp("[~\\*/\\[\\]]");function vm(i,e,t){if(e.search(DD)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Tf(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Gh(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new _e(ue.INVALID_ARGUMENT,d+i+p)}function aw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ym("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xD extends ow{data(){return super.data()}}function ym(i,e){return typeof e=="string"?vm(i,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _m{}class uw extends _m{}function kD(i,e,...t){let r=[];e instanceof _m&&r.push(e),r=r.concat(t),function(l){const c=l.filter(p=>p instanceof bm).length,d=l.filter(p=>p instanceof Em).length;if(c>1||c>0&&d>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)i=a._apply(i);return i}class Em extends uw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Em(e,t,r)}_apply(e){const t=this._parse(e);return cw(e._query,t),new Bs(e.firestore,e.converter,og(e._query,t))}_parse(e){const t=dm(e.firestore);return function(l,c,d,p,m,_,S){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){_0(S,_);const A=[];for(const V of S)A.push(y0(p,l,V));T={arrayValue:{values:A}}}else T=y0(p,l,S)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||_0(S,_),T=OD(d,c,S,_==="in"||_==="not-in");return Dt.create(m,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class bm extends _m{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)cw(c,p),c=og(c,p)}(e._query,t),new Bs(e.firestore,e.converter,og(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sm extends uw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Sm(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(l,c)}(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Ko(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function PD(i,e="asc"){const t=e,r=ym("orderBy",i);return Sm._create(r,t)}function y0(i,e,t){if(typeof(t=Bt(t))=="string"){if(t==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&t.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!Re.isDocumentKey(r))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xE(i,new Re(r))}if(t instanceof fn)return xE(i,t._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(t)}.`)}function _0(i,e){if(!Array.isArray(i)||i.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cw(i,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ND{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return js(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Vh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>At(c.doubleValue));return new fm(l)}convertGeoPoint(e){return new hm(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);rt(OT(r));const a=new Su(r.get(1),r.get(3)),l=new Re(r.popFirst(5));return a.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(i,e,t){let r;return r=i?i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hw extends ow{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wh extends hw{data(e={}){return super.data(e)}}class fw{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new cu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wh(this._firestore,this._userDataWriter,r.key,r,new cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new wh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new cu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new wh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new cu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:UD(d.type),doc:p,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i){i=ri(i,fn);const e=ri(i.firestore,Ia);return yD(Sf(e),i._key).then(t=>pw(e,i,t))}class Tm extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function jD(i){i=ri(i,Bs);const e=ri(i.firestore,Ia),t=Sf(e),r=new Tm(e);return lw(i._query),_D(t,i._query).then(a=>new fw(e,r,i,a))}function wm(i,e,t){i=ri(i,fn);const r=ri(i.firestore,Ia),a=VD(i.converter,e);return dw(r,[RD(dm(r),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,zi.none())])}function Io(i,e,t,...r){i=ri(i,fn);const a=ri(i.firestore,Ia),l=dm(a);let c;return c=typeof(e=Bt(e))=="string"||e instanceof Tf?MD(l,"updateDoc",i._key,e,t,r):ID(l,"updateDoc",i._key,e),dw(a,[c.toMutation(i._key,zi.exists(!0))])}function Cm(i,...e){var t,r,a;i=Bt(i);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||v0(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(v0(e[c])){const S=e[c];e[c]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[c+1]=(r=S.error)===null||r===void 0?void 0:r.bind(S),e[c+2]=(a=S.complete)===null||a===void 0?void 0:a.bind(S)}let p,m,_;if(i instanceof fn)m=ri(i.firestore,Ia),_=hf(i._key.path),p={next:S=>{e[c]&&e[c](pw(m,i,S))},error:e[c+1],complete:e[c+2]};else{const S=ri(i,Bs);m=ri(S.firestore,Ia),_=S._query;const T=new Tm(m);p={next:C=>{e[c]&&e[c](new fw(m,T,S,C))},error:e[c+1],complete:e[c+2]},lw(i._query)}return function(T,C,A,V){const k=new um(V),B=new am(C,k,A);return T.asyncQueue.enqueueAndForget(async()=>im(await Fh(T),B)),()=>{k.su(),T.asyncQueue.enqueueAndForget(async()=>rm(await Fh(T),B))}}(Sf(m),_,d,p)}function dw(i,e){return function(r,a){const l=new wr;return r.asyncQueue.enqueueAndForget(async()=>aD(await vD(r),a,l)),l.promise}(Sf(i),e)}function pw(i,e,t){const r=t.docs.get(e._key),a=new Tm(i);return new hw(i,a,e._key,r,new cu(t.hasPendingWrites,t.fromCache),e.converter)}function zD(){return new pm("serverTimestamp")}function BD(...i){return new gm("arrayUnion",i)}(function(e,t=!0){(function(a){qo=a})(Bo),Oo(new wa("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Ia(new MM(r.getProvider("auth-internal")),new xM(c,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(m.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Rs(SE,TE,e),Rs(SE,TE,"esm2017")})();var HD="firebase",qD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(HD,qD,"app");const FD={apiKey:"AIzaSyCqTl_-j9_Hx6ksmmLxnjpo-8V9cC4Ek5w",authDomain:"smartmoveweb-fdcc0.firebaseapp.com",projectId:"smartmoveweb-fdcc0",storageBucket:"smartmoveweb-fdcc0.firebasestorage.app",messagingSenderId:"313707537235",appId:"1:313707537235:web:d7bde1a50b4c79c90537a6",measurementId:"G-9FFMFYDKQM"},gw=Zb(FD),zo=AM(gw),hn=SD(gw),mw=v.createContext(),GD=({children:i})=>{const[e,t]=v.useState(null);v.useEffect(()=>{const a=pI(zo,l=>{t(l)});return()=>a()},[]);const r=async()=>{try{await gI(zo),t(null)}catch(a){console.error("Logout failed:",a)}};return j.jsx(mw.Provider,{value:{user:e,logout:r},children:i})},vw=()=>v.useContext(mw);var eu={},E0;function KD(){if(E0)return eu;E0=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.parse=c,eu.serialize=m;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,C){const A=new l,V=T.length;if(V<2)return A;const k=(C==null?void 0:C.decode)||_;let B=0;do{const G=T.indexOf("=",B);if(G===-1)break;const q=T.indexOf(";",B),K=q===-1?V:q;if(G>K){B=T.lastIndexOf(";",G-1)+1;continue}const z=d(T,B,G),Y=p(T,G,z),O=T.slice(z,Y);if(A[O]===void 0){let I=d(T,G+1,K),w=p(T,K,I);const M=k(T.slice(I,w));A[O]=M}B=K+1}while(B<V);return A}function d(T,C,A){do{const V=T.charCodeAt(C);if(V!==32&&V!==9)return C}while(++C<A);return A}function p(T,C,A){for(;C>A;){const V=T.charCodeAt(--C);if(V!==32&&V!==9)return C+1}return A}function m(T,C,A){const V=(A==null?void 0:A.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const k=V(C);if(!e.test(k))throw new TypeError(`argument val is invalid: ${C}`);let B=T+"="+k;if(!A)return B;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);B+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);B+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);B+="; Path="+A.path}if(A.expires){if(!S(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);B+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(B+="; HttpOnly"),A.secure&&(B+="; Secure"),A.partitioned&&(B+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return B}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function S(T){return a.call(T)==="[object Date]"}return eu}KD();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b0="popstate";function $D(i={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return _g("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Ru(a)}return YD(e,t,null,i)}function mt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QD(){return Math.random().toString(36).substring(2,10)}function S0(i,e){return{usr:i.state,key:i.key,idx:e}}function _g(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:t,key:e&&e.key||r||QD()}}function Ru({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Yo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function YD(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",p=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function S(){d="POP";let k=_(),B=k==null?null:k-m;m=k,p&&p({action:d,location:V.location,delta:B})}function T(k,B){d="PUSH";let G=_g(V.location,k,B);m=_()+1;let q=S0(G,m),K=V.createHref(G);try{c.pushState(q,"",K)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(K)}l&&p&&p({action:d,location:V.location,delta:1})}function C(k,B){d="REPLACE";let G=_g(V.location,k,B);m=_();let q=S0(G,m),K=V.createHref(G);c.replaceState(q,"",K),l&&p&&p({action:d,location:V.location,delta:0})}function A(k){let B=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof k=="string"?k:Ru(k);return G=G.replace(/ $/,"%20"),mt(B,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,B)}let V={get action(){return d},get location(){return i(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(b0,S),p=k,()=>{a.removeEventListener(b0,S),p=null}},createHref(k){return e(a,k)},createURL:A,encodeLocation(k){let B=A(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:C,go(k){return c.go(k)}};return V}function yw(i,e,t="/"){return WD(i,e,t,!1)}function WD(i,e,t,r){let a=typeof e=="string"?Yo(e):e,l=Vs(a.pathname||"/",t);if(l==null)return null;let c=_w(i);ZD(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=lx(l);d=ax(c[p],m,r)}return d}function _w(i,e=[],t=[],r=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=Cr([r,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),_w(l.children,e,_,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:rx(m,l.index),routesMeta:_})};return i.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of Ew(l.path))a(l,c,p)}),e}function Ew(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=Ew(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function ZD(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:sx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var XD=/^:[\w-]+$/,JD=3,ex=2,tx=1,nx=10,ix=-2,T0=i=>i==="*";function rx(i,e){let t=i.split("/"),r=t.length;return t.some(T0)&&(r+=ix),e&&(r+=ex),t.filter(a=>!T0(a)).reduce((a,l)=>a+(XD.test(l)?JD:l===""?tx:nx),r)}function sx(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function ax(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],m=d===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",S=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),T=p.route;if(!S&&m&&t&&!r[r.length-1].route.index&&(S=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!S)return null;Object.assign(a,S.params),c.push({params:a,pathname:Cr([l,S.pathname]),pathnameBase:fx(Cr([l,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(l=Cr([l,S.pathnameBase]))}return c}function $h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=ox(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:S},T)=>{if(_==="*"){let A=d[T]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const C=d[T];return S&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:i}}function ox(i,e=!1,t=!0){qi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function lx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Vs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function ux(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?Yo(i):i;return{pathname:t?t.startsWith("/")?t:cx(t,e):e,search:dx(r),hash:px(a)}}function cx(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Bp(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hx(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bw(i){let e=hx(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Sw(i,e,t,r=!1){let a;typeof i=="string"?a=Yo(i):(a={...i},mt(!a.pathname||!a.pathname.includes("?"),Bp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Bp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Bp("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let S=e.length-1;if(!r&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),S-=1;a.pathname=T.join("/")}d=S>=0?e[S]:"/"}let p=ux(a,d),m=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Cr=i=>i.join("/").replace(/\/\/+/g,"/"),fx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,px=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Tw=["POST","PUT","PATCH","DELETE"];new Set(Tw);var mx=["GET",...Tw];new Set(mx);var Wo=v.createContext(null);Wo.displayName="DataRouter";var Af=v.createContext(null);Af.displayName="DataRouterState";var ww=v.createContext({isTransitioning:!1});ww.displayName="ViewTransition";var vx=v.createContext(new Map);vx.displayName="Fetchers";var yx=v.createContext(null);yx.displayName="Await";var Fi=v.createContext(null);Fi.displayName="Navigation";var Bu=v.createContext(null);Bu.displayName="Location";var xr=v.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var Am=v.createContext(null);Am.displayName="RouteError";function _x(i,{relative:e}={}){mt(Hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=v.useContext(Fi),{hash:a,pathname:l,search:c}=qu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Cr([t,l])),r.createHref({pathname:d,search:c,hash:a})}function Hu(){return v.useContext(Bu)!=null}function Gi(){return mt(Hu(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Bu).location}var Cw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(i){v.useContext(Fi).static||v.useLayoutEffect(i)}function kr(){let{isDataRoute:i}=v.useContext(xr);return i?Dx():Ex()}function Ex(){mt(Hu(),"useNavigate() may be used only in the context of a <Router> component.");let i=v.useContext(Wo),{basename:e,navigator:t}=v.useContext(Fi),{matches:r}=v.useContext(xr),{pathname:a}=Gi(),l=JSON.stringify(bw(r)),c=v.useRef(!1);return Aw(()=>{c.current=!0}),v.useCallback((p,m={})=>{if(qi(c.current,Cw),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Sw(p,JSON.parse(l),a,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Cr([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,l,a,i])}v.createContext(null);function qu(i,{relative:e}={}){let{matches:t}=v.useContext(xr),{pathname:r}=Gi(),a=JSON.stringify(bw(t));return v.useMemo(()=>Sw(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function bx(i,e){return Rw(i,e)}function Rw(i,e,t,r){var G;mt(Hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=v.useContext(Fi),{matches:c}=v.useContext(xr),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",S=d&&d.route;{let q=S&&S.path||"";Lw(m,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=Gi(),C;if(e){let q=typeof e=="string"?Yo(e):e;mt(_==="/"||((G=q.pathname)==null?void 0:G.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),C=q}else C=T;let A=C.pathname||"/",V=A;if(_!=="/"){let q=_.replace(/^\//,"").split("/");V="/"+A.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:yw(i,{pathname:V});qi(S||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),qi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Ax(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Cr([_,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:Cr([_,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,t,r);return e&&B?v.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},B):B}function Sx(){let i=Ox(),e=gx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),t?v.createElement("pre",{style:a},t):null,c)}var Tx=v.createElement(Sx,null),wx=class extends v.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?v.createElement(xr.Provider,{value:this.props.routeContext},v.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cx({routeContext:i,match:e,children:t}){let r=v.useContext(Wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(xr.Provider,{value:i},t)}function Ax(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:S}=t,T=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!S||S[m.route.id]===void 0);if(m.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,_)=>{let S,T=!1,C=null,A=null;t&&(S=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||Tx,c&&(d<0&&_===0?(Lw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):d===_&&(T=!0,A=m.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,_+1)),k=()=>{let B;return S?B=C:T?B=A:m.route.Component?B=v.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=p,v.createElement(Cx,{match:m,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:B})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?v.createElement(wx,{location:t.location,revalidation:t.revalidation,component:C,error:S,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):k()},null)}function Rm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rx(i){let e=v.useContext(Wo);return mt(e,Rm(i)),e}function Lx(i){let e=v.useContext(Af);return mt(e,Rm(i)),e}function Ix(i){let e=v.useContext(xr);return mt(e,Rm(i)),e}function Lm(i){let e=Ix(i),t=e.matches[e.matches.length-1];return mt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function Mx(){return Lm("useRouteId")}function Ox(){var r;let i=v.useContext(Am),e=Lx("useRouteError"),t=Lm("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function Dx(){let{router:i}=Rx("useNavigate"),e=Lm("useNavigate"),t=v.useRef(!1);return Aw(()=>{t.current=!0}),v.useCallback(async(a,l={})=>{qi(t.current,Cw),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var w0={};function Lw(i,e,t){!e&&!w0[i]&&(w0[i]=!0,qi(!1,t))}v.memo(xx);function xx({routes:i,future:e,state:t}){return Rw(i,void 0,t,e)}function ti(i){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kx({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){mt(!Hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Yo(t));let{pathname:p="/",search:m="",hash:_="",state:S=null,key:T="default"}=t,C=v.useMemo(()=>{let A=Vs(p,c);return A==null?null:{location:{pathname:A,search:m,hash:_,state:S,key:T},navigationType:r}},[c,p,m,_,S,T,r]);return qi(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:v.createElement(Fi.Provider,{value:d},v.createElement(Bu.Provider,{children:e,value:C}))}function Px({children:i,location:e}){return bx(Eg(i),e)}function Eg(i,e=[]){let t=[];return v.Children.forEach(i,(r,a)=>{if(!v.isValidElement(r))return;let l=[...e,a];if(r.type===v.Fragment){t.push.apply(t,Eg(r.props.children,l));return}mt(r.type===ti,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Eg(r.props.children,l)),t.push(c)}),t}var Ch="get",Ah="application/x-www-form-urlencoded";function Rf(i){return i!=null&&typeof i.tagName=="string"}function Nx(i){return Rf(i)&&i.tagName.toLowerCase()==="button"}function Vx(i){return Rf(i)&&i.tagName.toLowerCase()==="form"}function Ux(i){return Rf(i)&&i.tagName.toLowerCase()==="input"}function jx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function zx(i,e){return i.button===0&&(!e||e==="_self")&&!jx(i)}var fh=null;function Bx(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var Hx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(i){return i!=null&&!Hx.has(i)?(qi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):i}function qx(i,e){let t,r,a,l,c;if(Vx(i)){let d=i.getAttribute("action");r=d?Vs(d,e):null,t=i.getAttribute("method")||Ch,a=Hp(i.getAttribute("enctype"))||Ah,l=new FormData(i)}else if(Nx(i)||Ux(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?Vs(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Ch,a=Hp(i.getAttribute("formenctype"))||Hp(d.getAttribute("enctype"))||Ah,l=new FormData(d,i),!Bx()){let{name:m,type:_,value:S}=i;if(_==="image"){let T=m?`${m}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else m&&l.append(m,S)}}else{if(Rf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ch,r=null,a=Ah,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Im(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Fx(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Kx(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Fx(l,t);return c.links?c.links():[]}return[]}));return Wx(r.flat(1).filter(Gx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C0(i,e,t,r,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>{var _;return t[m].pathname!==p.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{var S;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function $x(i,e,{includeHydrateFallback:t}={}){return Qx(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Qx(i){return[...new Set(i)]}function Yx(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function Wx(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(Yx(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function Zx(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Xx(){let i=v.useContext(Wo);return Im(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Jx(){let i=v.useContext(Af);return Im(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Mm=v.createContext(void 0);Mm.displayName="FrameworkContext";function Iw(){let i=v.useContext(Mm);return Im(i,"You must render this element inside a <HydratedRouter> element"),i}function ek(i,e){let t=v.useContext(Mm),[r,a]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:S}=e,T=v.useRef(null);v.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let V=B=>{B.forEach(G=>{c(G.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[i]),v.useEffect(()=>{if(r){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[r]);let C=()=>{a(!0)},A=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,T,{}]:[l,T,{onFocus:tu(d,C),onBlur:tu(p,A),onMouseEnter:tu(m,C),onMouseLeave:tu(_,A),onTouchStart:tu(S,C)}]:[!1,T,{}]}function tu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function tk({page:i,...e}){let{router:t}=Xx(),r=v.useMemo(()=>yw(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?v.createElement(ik,{page:i,matches:r,...e}):null}function nk(i){let{manifest:e,routeModules:t}=Iw(),[r,a]=v.useState([]);return v.useEffect(()=>{let l=!1;return Kx(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),r}function ik({page:i,matches:e,...t}){let r=Gi(),{manifest:a,routeModules:l}=Iw(),{loaderData:c,matches:d}=Jx(),p=v.useMemo(()=>C0(i,e,d,a,r,"data"),[i,e,d,a,r]),m=v.useMemo(()=>C0(i,e,d,a,r,"assets"),[i,e,d,a,r]),_=v.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let C=new Set,A=!1;if(e.forEach(k=>{var G;let B=a.routes[k.route.id];!B||!B.hasLoader||(!p.some(q=>q.route.id===k.route.id)&&k.route.id in c&&((G=l[k.route.id])!=null&&G.shouldRevalidate)||B.hasClientLoader?A=!0:C.add(k.route.id))}),C.size===0)return[];let V=Zx(i);return A&&C.size>0&&V.searchParams.set("_routes",e.filter(k=>C.has(k.route.id)).map(k=>k.route.id).join(",")),[V.pathname+V.search]},[c,r,a,p,e,i,l]),S=v.useMemo(()=>$x(m,a),[m,a]),T=nk(m);return v.createElement(v.Fragment,null,_.map(C=>v.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),S.map(C=>v.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:A})=>v.createElement("link",{key:C,...A})))}function rk(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mw&&(window.__reactRouterVersion="7.2.0")}catch{}function sk({basename:i,children:e,window:t}){let r=v.useRef();r.current==null&&(r.current=$D({window:t,v5Compat:!0}));let a=r.current,[l,c]=v.useState({action:a.action,location:a.location}),d=v.useCallback(p=>{v.startTransition(()=>c(p))},[c]);return v.useLayoutEffect(()=>a.listen(d),[a,d]),v.createElement(kx,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dw=v.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:_,viewTransition:S,...T},C){let{basename:A}=v.useContext(Fi),V=typeof m=="string"&&Ow.test(m),k,B=!1;if(typeof m=="string"&&V&&(k=m,Mw))try{let w=new URL(window.location.href),M=m.startsWith("//")?new URL(w.protocol+m):new URL(m),P=Vs(M.pathname,A);M.origin===w.origin&&P!=null?m=P+M.search+M.hash:B=!0}catch{qi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=_x(m,{relative:a}),[q,K,z]=ek(r,T),Y=uk(m,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:S});function O(w){e&&e(w),w.defaultPrevented||Y(w)}let I=v.createElement("a",{...T,...z,href:k||G,onClick:B||l?e:O,ref:rk(C,K),target:p,"data-discover":!V&&t==="render"?"true":void 0});return q&&!V?v.createElement(v.Fragment,null,I,v.createElement(tk,{page:G})):I});Dw.displayName="Link";var ak=v.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},_){let S=qu(c,{relative:m.relative}),T=Gi(),C=v.useContext(Af),{navigator:A,basename:V}=v.useContext(Fi),k=C!=null&&pk(S)&&d===!0,B=A.encodeLocation?A.encodeLocation(S).pathname:S.pathname,G=T.pathname,q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(G=G.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&V&&(q=Vs(q,V)||q);const K=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let z=G===B||!a&&G.startsWith(B)&&G.charAt(K)==="/",Y=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),O={isActive:z,isPending:Y,isTransitioning:k},I=z?e:void 0,w;typeof r=="function"?w=r(O):w=[r,z?"active":null,Y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(O):l;return v.createElement(Dw,{...m,"aria-current":I,className:w,ref:_,style:M,to:c,viewTransition:d},typeof p=="function"?p(O):p)});ak.displayName="NavLink";var ok=v.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Ch,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:S,...T},C)=>{let A=fk(),V=dk(d,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&Ow.test(d),G=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let K=q.nativeEvent.submitter,z=(K==null?void 0:K.getAttribute("formmethod"))||c;A(K||q.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:a,state:l,relative:m,preventScrollReset:_,viewTransition:S})};return v.createElement("form",{ref:C,method:k,action:V,onSubmit:r?p:G,...T,"data-discover":!B&&i==="render"?"true":void 0})});ok.displayName="Form";function lk(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(i){let e=v.useContext(Wo);return mt(e,lk(i)),e}function uk(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=kr(),p=Gi(),m=qu(i,{relative:l});return v.useCallback(_=>{if(zx(_,e)){_.preventDefault();let S=t!==void 0?t:Ru(p)===Ru(m);d(i,{replace:S,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,t,r,e,i,a,l,c])}var ck=0,hk=()=>`__${String(++ck)}__`;function fk(){let{router:i}=xw("useSubmit"),{basename:e}=v.useContext(Fi),t=Mx();return v.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=qx(r,e);if(a.navigate===!1){let _=a.fetcherKey||hk();await i.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function dk(i,{relative:e}={}){let{basename:t}=v.useContext(Fi),r=v.useContext(xr);mt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...qu(i||".",{relative:e})},c=Gi();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(S=>S).forEach(S=>d.append("index",S));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Cr([t,l.pathname])),Ru(l)}function pk(i,e={}){let t=v.useContext(ww);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xw("useViewTransitionState"),a=qu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Vs(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Vs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $h(a.pathname,c)!=null||$h(a.pathname,l)!=null}new TextEncoder;var Zo=Hb();const gk=()=>{const i=kr();return j.jsxs("div",{className:"welcome-container",children:[j.jsx("h2",{className:"h2",children:"Seamless Travel, Smarter Rules"}),j.jsx("img",{src:"first_bus.png",alt:"bus",className:"img"}),j.jsx("h1",{children:"Welcome to SmartMove"}),j.jsx("p",{className:"para",children:"An web app for convenient bus seat booking schedules, payments, and travel updates in Chennai."}),j.jsx("button",{onClick:()=>i("/login"),className:"btn",children:"Get Started"})]})},mk=()=>{const[i,e]=v.useState(""),[t,r]=v.useState(""),a=kr(),l=async c=>{c.preventDefault();try{await hI(zo,i,t),a("/home")}catch(d){alert("Login failed: "+d.message)}};return j.jsxs("div",{className:"login-container",children:[j.jsx("h2",{className:"login-h2",children:"Login"}),j.jsxs("form",{onSubmit:l,className:"login-form",children:[j.jsxs("label",{className:"login-l",children:[j.jsx("b",{children:"Email Address"}),j.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:c=>e(c.target.value),required:!0,className:"login-ip"})]}),j.jsx("br",{}),j.jsxs("label",{className:"login-l2",children:[j.jsx("b",{children:"Password"}),j.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:c=>r(c.target.value),required:!0,className:"login-ip"})]}),j.jsx("br",{}),j.jsx("button",{type:"submit",className:"login-btn",children:"Login"})]}),j.jsx("p",{onClick:()=>a("/forgot-password"),className:"link1",children:"Forgot Password?"}),j.jsx("p",{className:"",children:"New To SmartMove?"}),j.jsx("p",{onClick:()=>a("/register-user"),className:"link",children:"Create User Account"}),j.jsx("p",{onClick:()=>a("/register-admin"),className:"link",children:"Create Admin Account"})]})},vk=()=>{const[i,e]=v.useState(""),[t,r]=v.useState(""),a=async l=>{l.preventDefault();try{await cI(zo,i),r("Password reset link sent to your email.")}catch(c){r("Error: "+c.message)}};return j.jsxs("div",{className:"forgot-password-container",children:[j.jsx("h2",{className:"fp-h",children:"Reset Password"}),j.jsx("p",{className:"fp-p",children:"Enter your email and we will send you a password reset link."}),j.jsxs("form",{className:"fp-form",onSubmit:a,children:[j.jsxs("label",{className:"input-label",children:["Email Address",j.jsx("input",{type:"email",className:"fp-ip",placeholder:"Enter your email",value:i,onChange:l=>e(l.target.value),required:!0})]}),j.jsx("button",{type:"submit",className:"fp-bt",children:"Send Reset Link"})]}),t&&j.jsx("p",{children:t})]})},yk=()=>{const[i,e]=v.useState(""),[t,r]=v.useState(""),[a,l]=v.useState(""),c=kr(),d=async p=>{p.preventDefault();try{const _=(await AS(zo,i,t)).user;await wm(Vn(hn,"users",_.uid),{email:_.email,role:"user"}),c("/home")}catch(m){l(m.message)}};return j.jsxs("div",{className:"user-register",children:[j.jsx("h2",{className:"ur-h",children:"User Registration"}),j.jsxs("form",{onSubmit:d,className:"ur-form",children:[a&&j.jsx("p",{className:"error",children:a}),j.jsx("label",{className:"ur-lb1",children:"Email Address"}),j.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:p=>e(p.target.value),required:!0,className:"ur-ip"})," ",j.jsx("br",{}),j.jsx("label",{className:"ur-lb2",children:"Password"}),j.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:p=>r(p.target.value),required:!0,className:"ur-ip"}),j.jsx("button",{type:"submit",className:"ur-btn",children:"Register"})]}),j.jsx("p",{onClick:()=>c("/login"),className:"link",children:"Back to Login"})]})},_k=()=>{const[i,e]=v.useState(""),[t,r]=v.useState(""),[a,l]=v.useState(""),c=kr(),d=async p=>{p.preventDefault();try{const _=(await AS(zo,i,t)).user;await wm(Vn(hn,"users",_.uid),{email:_.email,isAdmin:!0}),console.log("Admin registered successfully:",_.email),c("/home")}catch(m){l(m.message),console.error("Error registering admin:",m)}};return j.jsxs("div",{className:"admin-register",children:[j.jsx("h2",{className:"ar-h",children:"Admin Registration"}),j.jsxs("form",{onSubmit:d,className:"ar-form",children:[a&&j.jsx("p",{className:"error",children:a}),j.jsx("label",{className:"ar-lb1",children:"Email Address"}),j.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:p=>e(p.target.value),required:!0,className:"ar-ip"}),j.jsx("br",{}),j.jsx("label",{className:"ar-lb2",children:"Password"}),j.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:p=>r(p.target.value),required:!0,className:"ar-ip"}),j.jsx("br",{}),j.jsx("button",{type:"submit",className:"ar-btn",children:"Register"})]}),j.jsx("p",{onClick:()=>c("/login"),className:"ar-link",children:"Back to Login"})]})};function Lu(i){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(i)}function Ek(i,e){if(Lu(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function bk(i){var e=Ek(i,"string");return Lu(e)=="symbol"?e:e+""}function ne(i,e,t){return(e=bk(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function kw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qp,A0;function Sk(){if(A0)return qp;A0=1;var i=function(t,r,a,l,c,d,p,m){if(!t){var _;if(r===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[a,l,c,d,p,m],T=0;_=new Error(r.replace(/%s/g,function(){return S[T++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return qp=i,qp}var Tk=Sk(),Ht=kw(Tk),Ue=v.createContext(null);function wk(){Ht(!!v.useContext,"useGoogleMap is React hook and requires React version 16.8+");var i=v.useContext(Ue);return Ht(!!i,"useGoogleMap needs a GoogleMap available up in the tree"),i}function Ck(i,e,t){return Object.keys(i).reduce(function(a,l){return e(a,i[l],l)},t)}function Ak(i,e){Object.keys(i).forEach(t=>e(i[t],t))}function Rk(i,e,t,r){var a={},l=(c,d)=>{var p=t[d];p!==e[d]&&(a[d]=p,c(r,p))};return Ak(i,l),a}function Lk(i,e,t){var r=Ck(t,function(l,c,d){return typeof i[d]=="function"&&l.push(google.maps.event.addListener(e,c,i[d])),l},[]);return r}function Ik(i){google.maps.event.removeListener(i)}function Fe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(Ik)}function Be(i){var{updaterMap:e,eventMap:t,prevProps:r,nextProps:a,instance:l}=i,c=Lk(a,l,t);return Rk(e,r,a,l),c}var R0={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},L0={extraMapTypes(i,e){e.forEach(function(r,a){i.mapTypes.set(String(a),r)})},center(i,e){i.setCenter(e)},clickableIcons(i,e){i.setClickableIcons(e)},heading(i,e){i.setHeading(e)},mapTypeId(i,e){i.setMapTypeId(e)},options(i,e){i.setOptions(e)},streetView(i,e){i.setStreetView(e)},tilt(i,e){i.setTilt(e)},zoom(i,e){i.setZoom(e)}};function Mk(i){var{children:e,options:t,id:r,mapContainerStyle:a,mapContainerClassName:l,center:c,onClick:d,onDblClick:p,onDrag:m,onDragEnd:_,onDragStart:S,onMouseMove:T,onMouseOut:C,onMouseOver:A,onMouseDown:V,onMouseUp:k,onRightClick:B,onCenterChanged:G,onLoad:q,onUnmount:K}=i,[z,Y]=v.useState(null),O=v.useRef(null),[I,w]=v.useState(null),[M,P]=v.useState(null),[U,x]=v.useState(null),[be,Ee]=v.useState(null),[oe,pe]=v.useState(null),[fe,Te]=v.useState(null),[D,W]=v.useState(null),[se,J]=v.useState(null),[ae,Z]=v.useState(null),[me,Ae]=v.useState(null),[ve,Ne]=v.useState(null),[ge,Me]=v.useState(null);return v.useEffect(()=>{t&&z!==null&&z.setOptions(t)},[z,t]),v.useEffect(()=>{z!==null&&typeof c<"u"&&z.setCenter(c)},[z,c]),v.useEffect(()=>{z&&p&&(M!==null&&google.maps.event.removeListener(M),P(google.maps.event.addListener(z,"dblclick",p)))},[p]),v.useEffect(()=>{z&&_&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(z,"dragend",_)))},[_]),v.useEffect(()=>{z&&S&&(be!==null&&google.maps.event.removeListener(be),Ee(google.maps.event.addListener(z,"dragstart",S)))},[S]),v.useEffect(()=>{z&&V&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(z,"mousedown",V)))},[V]),v.useEffect(()=>{z&&T&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(z,"mousemove",T)))},[T]),v.useEffect(()=>{z&&C&&(D!==null&&google.maps.event.removeListener(D),W(google.maps.event.addListener(z,"mouseout",C)))},[C]),v.useEffect(()=>{z&&A&&(se!==null&&google.maps.event.removeListener(se),J(google.maps.event.addListener(z,"mouseover",A)))},[A]),v.useEffect(()=>{z&&k&&(ae!==null&&google.maps.event.removeListener(ae),Z(google.maps.event.addListener(z,"mouseup",k)))},[k]),v.useEffect(()=>{z&&B&&(me!==null&&google.maps.event.removeListener(me),Ae(google.maps.event.addListener(z,"rightclick",B)))},[B]),v.useEffect(()=>{z&&d&&(ve!==null&&google.maps.event.removeListener(ve),Ne(google.maps.event.addListener(z,"click",d)))},[d]),v.useEffect(()=>{z&&m&&(ge!==null&&google.maps.event.removeListener(ge),Me(google.maps.event.addListener(z,"drag",m)))},[m]),v.useEffect(()=>{z&&G&&(I!==null&&google.maps.event.removeListener(I),w(google.maps.event.addListener(z,"center_changed",G)))},[d]),v.useEffect(()=>{var wt=O.current===null?null:new google.maps.Map(O.current,t);return Y(wt),wt!==null&&q&&q(wt),()=>{wt!==null&&K&&K(wt)}},[]),j.jsx("div",{id:r,ref:O,style:a,className:l,children:j.jsx(Ue.Provider,{value:z,children:z!==null?e:null})})}v.memo(Mk);class Ok extends v.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:L0,eventMap:R0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:L0,eventMap:R0,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Fe(this.registeredEvents))}render(){return j.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:j.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function I0(i,e,t,r,a,l,c){try{var d=i[l](c),p=d.value}catch(m){return void t(m)}d.done?e(p):Promise.resolve(p).then(r,a)}function Pw(i){return function(){var e=this,t=arguments;return new Promise(function(r,a){var l=i.apply(e,t);function c(p){I0(l,r,a,c,d,"next",p)}function d(p){I0(l,r,a,c,d,"throw",p)}c(void 0)})}}function Nw(i){var{googleMapsApiKey:e,googleMapsClientId:t,version:r="weekly",language:a,region:l,libraries:c,channel:d,mapIds:p,authReferrerPolicy:m}=i,_=[];return Ht(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?_.push("key=".concat(e)):t&&_.push("client=".concat(t)),r&&_.push("v=".concat(r)),a&&_.push("language=".concat(a)),l&&_.push("region=".concat(l)),c&&c.length&&_.push("libraries=".concat(c.sort().join(","))),d&&_.push("channel=".concat(d)),p&&p.length&&_.push("map_ids=".concat(p.join(","))),m&&_.push("auth_referrer_policy=".concat(m)),_.push("loading=async"),_.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(_.join("&"))}var ws=typeof document<"u";function Vw(i){var{url:e,id:t,nonce:r}=i;return ws?new Promise(function(l,c){var d=document.getElementById(t),p=window;if(d){var m=d.getAttribute("data-state");if(d.src===e&&m!=="error"){if(m==="ready")return l(t);var _=p.initMap,S=d.onerror;p.initMap=function(){_&&_(),l(t)},d.onerror=function(C){S&&S(C),c(C)};return}else d.remove()}var T=document.createElement("script");T.type="text/javascript",T.src=e,T.id=t,T.async=!0,T.nonce=r||"",T.onerror=function(A){T.setAttribute("data-state","error"),c(A)},p.initMap=function(){T.setAttribute("data-state","ready"),l(t)},document.head.appendChild(T)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function M0(i){var e=i.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:i.tagName.toLowerCase()==="style"&&i.styleSheet&&i.styleSheet.cssText&&i.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(i.styleSheet.cssText="",!0):i.tagName.toLowerCase()==="style"&&i.innerHTML&&i.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(i.innerHTML="",!0):i.tagName.toLowerCase()==="style"&&!i.styleSheet&&!i.innerHTML}function Om(){var i=document.getElementsByTagName("head")[0];if(i){var e=i.insertBefore.bind(i);i.insertBefore=function(a,l){return M0(a)||Reflect.apply(e,i,[a,l]),a};var t=i.appendChild.bind(i);i.appendChild=function(a){return M0(a)||Reflect.apply(t,i,[a]),a}}}var nu=!1;function Uw(){return j.jsx("div",{children:"Loading..."})}var Iu={id:"script-loader",version:"weekly"};class Dk extends v.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",Pw(function*(){function e(t){if(!nu)t();else if(ws)var r=window.setInterval(function(){nu||(window.clearInterval(r),t())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{nu=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Om(),Ht(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:Nw(this.props)};Vw(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ws){if(window.google&&window.google.maps&&!nu){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ws&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ws){this.cleanup();var e=()=>{this.check||(delete window.google,nu=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return j.jsxs(j.Fragment,{children:[j.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||j.jsx(Uw,{})]})}}ne(Dk,"defaultProps",Iu);function xk(i,e){if(i==null)return{};var t={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;t[r]=i[r]}return t}function Dm(i,e){if(i==null)return{};var t,r,a=xk(i,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(r=0;r<l.length;r++)t=l[r],e.includes(t)||{}.propertyIsEnumerable.call(i,t)&&(a[t]=i[t])}return a}var O0;function kk(i){var{id:e=Iu.id,version:t=Iu.version,nonce:r,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:d,libraries:p,preventGoogleFontsLoading:m,channel:_,mapIds:S,authReferrerPolicy:T}=i,C=v.useRef(!1),[A,V]=v.useState(!1),[k,B]=v.useState(void 0);v.useEffect(function(){return C.current=!0,()=>{C.current=!1}},[]),v.useEffect(function(){ws&&m&&Om()},[m]),v.useEffect(function(){A&&Ht(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[A]);var G=Nw({version:t,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:d,libraries:p,channel:_,mapIds:S,authReferrerPolicy:T});v.useEffect(function(){if(!ws)return;function z(){C.current&&(V(!0),O0=G)}if(window.google&&window.google.maps&&O0===G){z();return}Vw({id:e,url:G,nonce:r}).then(z).catch(function(O){C.current&&B(O),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(O)})},[e,G,r]);var q=v.useRef(void 0);return v.useEffect(function(){q.current&&p!==q.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),q.current=p},[p]),{isLoaded:A,loadError:k,url:G}}var Pk=["loadingElement","onLoad","onError","onUnmount","children"],Nk=j.jsx(Uw,{});function Vk(i){var{loadingElement:e,onLoad:t,onError:r,onUnmount:a,children:l}=i,c=Dm(i,Pk),{isLoaded:d,loadError:p}=kk(c);return v.useEffect(function(){d&&typeof t=="function"&&t()},[d,t]),v.useEffect(function(){p&&typeof r=="function"&&r(p)},[p,r]),v.useEffect(function(){return()=>{a&&a()}},[a]),d?l:e||Nk}v.memo(Vk);function Uk(i,e,t,r){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(_){try{m(r.next(_))}catch(S){c(S)}}function p(_){try{m(r.throw(_))}catch(S){c(S)}}function m(_){_.done?l(_.value):a(_.value).then(d,p)}m((r=r.apply(i,[])).next())})}function jk(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zk=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!i(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){var c=l[a];if(!i(e[c],t[c]))return!1}return!0}return e!==e&&t!==t},Bk=jk(zk),D0="__googleMapsScriptId",wo;(function(i){i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE"})(wo||(wo={}));class Sa{constructor(e){var{apiKey:t,authReferrerPolicy:r,channel:a,client:l,id:c=D0,language:d,libraries:p=[],mapIds:m,nonce:_,region:S,retries:T=3,url:C="https://maps.googleapis.com/maps/api/js",version:A}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=a,this.client=l,this.id=c||D0,this.language=d,this.libraries=p,this.mapIds=m,this.nonce=_,this.region=S,this.retries=T,this.url=C,this.version=A,Sa.instance){if(!Bk(this.options,Sa.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Sa.instance.options)));return Sa.instance}Sa.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?wo.FAILURE:this.done?wo.SUCCESS:this.loading?wo.LOADING:wo.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(l=>!r[l]&&delete r[l]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(l=>{var c,d,p,m="The Google Maps JavaScript API",_="google",S="importLibrary",T="__ib__",C=document,A=window;A=A[_]||(A[_]={});var V=A.maps||(A.maps={}),k=new Set,B=new URLSearchParams,G=()=>c||(c=new Promise((q,K)=>Uk(this,void 0,void 0,function*(){var z;yield d=C.createElement("script"),d.id=this.id,B.set("libraries",[...k]+"");for(p in l)B.set(p.replace(/[A-Z]/g,Y=>"_"+Y[0].toLowerCase()),l[p]);B.set("callback",_+".maps."+T),d.src=this.url+"?"+B,V[T]=q,d.onerror=()=>c=K(Error(m+" could not load.")),d.nonce=this.nonce||((z=C.querySelector("script[nonce]"))===null||z===void 0?void 0:z.nonce)||"",C.head.append(d)})));V[S]?console.warn(m+" only loads once. Ignoring:",l):V[S]=function(q){for(var K=arguments.length,z=new Array(K>1?K-1:0),Y=1;Y<K;Y++)z[Y-1]=arguments[Y];return k.add(q)&&G().then(()=>V[S](q,...z))}})(r);var a=this.libraries.map(l=>this.importLibrary(l));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),l=>{var c=new ErrorEvent("error",{error:l});this.loadErrorCallback(c)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var Hk=["maps"];function qk(i){var{id:e=Iu.id,version:t=Iu.version,nonce:r,googleMapsApiKey:a,language:l,region:c,libraries:d=Hk,preventGoogleFontsLoading:p,mapIds:m,authReferrerPolicy:_}=i,S=v.useRef(!1),[T,C]=v.useState(!1),[A,V]=v.useState(void 0);v.useEffect(function(){return S.current=!0,()=>{S.current=!1}},[]);var k=v.useMemo(()=>new Sa({id:e,apiKey:a,version:t,libraries:d,language:l||"en",region:c||"US",mapIds:m||[],nonce:r||"",authReferrerPolicy:_||"origin"}),[e,a,t,d,l,c,m,r,_]);v.useEffect(function(){T||k.load().then(()=>{S.current&&C(!0)}).catch(q=>{V(q)})},[]),v.useEffect(()=>{ws&&p&&Om()},[p]);var B=v.useRef();return v.useEffect(()=>{B.current&&d!==B.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),B.current=d},[d]),{isLoaded:T,loadError:A}}function x0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Qh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x0(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):x0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var k0={},P0={options(i,e){i.setOptions(e)}};function Fk(i){var{options:e,onLoad:t,onUnmount:r}=i,a=v.useContext(Ue),[l,c]=v.useState(null);return v.useEffect(()=>{l!==null&&l.setMap(a)},[a]),v.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),v.useEffect(()=>{var d=new google.maps.TrafficLayer(Qh(Qh({},e),{},{map:a}));return c(d),t&&t(d),()=>{l!==null&&(r&&r(l),l.setMap(null))}},[]),null}v.memo(Fk);class Gk extends v.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Qh(Qh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:P0,eventMap:k0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:P0,eventMap:k0,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Fe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(Gk,"contextType",Ue);function Kk(i){var{onLoad:e,onUnmount:t}=i,r=v.useContext(Ue),[a,l]=v.useState(null);return v.useEffect(()=>{a!==null&&a.setMap(r)},[r]),v.useEffect(()=>{var c=new google.maps.BicyclingLayer;return l(c),c.setMap(r),e&&e(c),()=>{c!==null&&(t&&t(c),c.setMap(null))}},[]),null}v.memo(Kk);class $k extends v.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne($k,"contextType",Ue);function Qk(i){var{onLoad:e,onUnmount:t}=i,r=v.useContext(Ue),[a,l]=v.useState(null);return v.useEffect(()=>{a!==null&&a.setMap(r)},[r]),v.useEffect(()=>{var c=new google.maps.TransitLayer;return l(c),c.setMap(r),e&&e(c),()=>{a!==null&&(t&&t(a),a.setMap(null))}},[]),null}v.memo(Qk);class Yk extends v.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(Yk,"contextType",Ue);function N0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Yh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):N0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var V0={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},U0={drawingMode(i,e){i.setDrawingMode(e)},options(i,e){i.setOptions(e)}};function Wk(i){var{options:e,drawingMode:t,onCircleComplete:r,onMarkerComplete:a,onOverlayComplete:l,onPolygonComplete:c,onPolylineComplete:d,onRectangleComplete:p,onLoad:m,onUnmount:_}=i,S=v.useContext(Ue),[T,C]=v.useState(null),[A,V]=v.useState(null),[k,B]=v.useState(null),[G,q]=v.useState(null),[K,z]=v.useState(null),[Y,O]=v.useState(null),[I,w]=v.useState(null);return v.useEffect(()=>{T!==null&&T.setMap(S)},[S]),v.useEffect(()=>{e&&T!==null&&T.setOptions(e)},[T,e]),v.useEffect(()=>{T!==null&&T.setDrawingMode(t??null)},[T,t]),v.useEffect(()=>{T&&r&&(A!==null&&google.maps.event.removeListener(A),V(google.maps.event.addListener(T,"circlecomplete",r)))},[T,r]),v.useEffect(()=>{T&&a&&(k!==null&&google.maps.event.removeListener(k),B(google.maps.event.addListener(T,"markercomplete",a)))},[T,a]),v.useEffect(()=>{T&&l&&(G!==null&&google.maps.event.removeListener(G),q(google.maps.event.addListener(T,"overlaycomplete",l)))},[T,l]),v.useEffect(()=>{T&&c&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(T,"polygoncomplete",c)))},[T,c]),v.useEffect(()=>{T&&d&&(Y!==null&&google.maps.event.removeListener(Y),O(google.maps.event.addListener(T,"polylinecomplete",d)))},[T,d]),v.useEffect(()=>{T&&p&&(I!==null&&google.maps.event.removeListener(I),w(google.maps.event.addListener(T,"rectanglecomplete",p)))},[T,p]),v.useEffect(()=>{Ht(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var M=new google.maps.drawing.DrawingManager(Yh(Yh({},e),{},{map:S}));return t&&M.setDrawingMode(t),r&&V(google.maps.event.addListener(M,"circlecomplete",r)),a&&B(google.maps.event.addListener(M,"markercomplete",a)),l&&q(google.maps.event.addListener(M,"overlaycomplete",l)),c&&z(google.maps.event.addListener(M,"polygoncomplete",c)),d&&O(google.maps.event.addListener(M,"polylinecomplete",d)),p&&w(google.maps.event.addListener(M,"rectanglecomplete",p)),C(M),m&&m(M),()=>{T!==null&&(A&&google.maps.event.removeListener(A),k&&google.maps.event.removeListener(k),G&&google.maps.event.removeListener(G),K&&google.maps.event.removeListener(K),Y&&google.maps.event.removeListener(Y),I&&google.maps.event.removeListener(I),_&&_(T),T.setMap(null))}},[]),null}v.memo(Wk);class Zk extends v.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ht(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Yh(Yh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:U0,eventMap:V0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:U0,eventMap:V0,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Fe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(Zk,"contextType",Ue);function j0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Mo(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j0(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):j0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var z0={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},B0={animation(i,e){i.setAnimation(e)},clickable(i,e){i.setClickable(e)},cursor(i,e){i.setCursor(e)},draggable(i,e){i.setDraggable(e)},icon(i,e){i.setIcon(e)},label(i,e){i.setLabel(e)},map(i,e){i.setMap(e)},opacity(i,e){i.setOpacity(e)},options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},shape(i,e){i.setShape(e)},title(i,e){i.setTitle(e)},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},Wh={};function Xk(i){var{position:e,options:t,clusterer:r,noClustererRedraw:a,children:l,draggable:c,visible:d,animation:p,clickable:m,cursor:_,icon:S,label:T,opacity:C,shape:A,title:V,zIndex:k,onClick:B,onDblClick:G,onDrag:q,onDragEnd:K,onDragStart:z,onMouseOut:Y,onMouseOver:O,onMouseUp:I,onMouseDown:w,onRightClick:M,onClickableChanged:P,onCursorChanged:U,onAnimationChanged:x,onDraggableChanged:be,onFlatChanged:Ee,onIconChanged:oe,onPositionChanged:pe,onShapeChanged:fe,onTitleChanged:Te,onVisibleChanged:D,onZindexChanged:W,onLoad:se,onUnmount:J}=i,ae=v.useContext(Ue),[Z,me]=v.useState(null),[Ae,ve]=v.useState(null),[Ne,ge]=v.useState(null),[Me,wt]=v.useState(null),[yt,_n]=v.useState(null),[He,Un]=v.useState(null),[mi,Ki]=v.useState(null),[si,vi]=v.useState(null),[ai,Da]=v.useState(null),[yi,Wt]=v.useState(null),[Hs,_t]=v.useState(null),[ft,jn]=v.useState(null),[$i,Pr]=v.useState(null),[Nr,_i]=v.useState(null),[wn,xt]=v.useState(null),[Ei,Cn]=v.useState(null),[Rt,Vr]=v.useState(null),[Qi,qs]=v.useState(null),[An,oi]=v.useState(null),[sn,pn]=v.useState(null),[Rn,Yi]=v.useState(null),[bi,li]=v.useState(null);v.useEffect(()=>{Z!==null&&Z.setMap(ae)},[ae]),v.useEffect(()=>{typeof t<"u"&&Z!==null&&Z.setOptions(t)},[Z,t]),v.useEffect(()=>{typeof c<"u"&&Z!==null&&Z.setDraggable(c)},[Z,c]),v.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),v.useEffect(()=>{typeof d<"u"&&Z!==null&&Z.setVisible(d)},[Z,d]),v.useEffect(()=>{Z==null||Z.setAnimation(p)},[Z,p]),v.useEffect(()=>{Z&&m!==void 0&&Z.setClickable(m)},[Z,m]),v.useEffect(()=>{Z&&_!==void 0&&Z.setCursor(_)},[Z,_]),v.useEffect(()=>{Z&&S!==void 0&&Z.setIcon(S)},[Z,S]),v.useEffect(()=>{Z&&T!==void 0&&Z.setLabel(T)},[Z,T]),v.useEffect(()=>{Z&&C!==void 0&&Z.setOpacity(C)},[Z,C]),v.useEffect(()=>{Z&&A!==void 0&&Z.setShape(A)},[Z,A]),v.useEffect(()=>{Z&&V!==void 0&&Z.setTitle(V)},[Z,V]),v.useEffect(()=>{Z&&k!==void 0&&Z.setZIndex(k)},[Z,k]),v.useEffect(()=>{Z&&G&&(Ae!==null&&google.maps.event.removeListener(Ae),ve(google.maps.event.addListener(Z,"dblclick",G)))},[G]),v.useEffect(()=>{Z&&K&&(Ne!==null&&google.maps.event.removeListener(Ne),ge(google.maps.event.addListener(Z,"dragend",K)))},[K]),v.useEffect(()=>{Z&&z&&(Me!==null&&google.maps.event.removeListener(Me),wt(google.maps.event.addListener(Z,"dragstart",z)))},[z]),v.useEffect(()=>{Z&&w&&(yt!==null&&google.maps.event.removeListener(yt),_n(google.maps.event.addListener(Z,"mousedown",w)))},[w]),v.useEffect(()=>{Z&&Y&&(He!==null&&google.maps.event.removeListener(He),Un(google.maps.event.addListener(Z,"mouseout",Y)))},[Y]),v.useEffect(()=>{Z&&O&&(mi!==null&&google.maps.event.removeListener(mi),Ki(google.maps.event.addListener(Z,"mouseover",O)))},[O]),v.useEffect(()=>{Z&&I&&(si!==null&&google.maps.event.removeListener(si),vi(google.maps.event.addListener(Z,"mouseup",I)))},[I]),v.useEffect(()=>{Z&&M&&(ai!==null&&google.maps.event.removeListener(ai),Da(google.maps.event.addListener(Z,"rightclick",M)))},[M]),v.useEffect(()=>{Z&&B&&(yi!==null&&google.maps.event.removeListener(yi),Wt(google.maps.event.addListener(Z,"click",B)))},[B]),v.useEffect(()=>{Z&&q&&(Hs!==null&&google.maps.event.removeListener(Hs),_t(google.maps.event.addListener(Z,"drag",q)))},[q]),v.useEffect(()=>{Z&&P&&(ft!==null&&google.maps.event.removeListener(ft),jn(google.maps.event.addListener(Z,"clickable_changed",P)))},[P]),v.useEffect(()=>{Z&&U&&($i!==null&&google.maps.event.removeListener($i),Pr(google.maps.event.addListener(Z,"cursor_changed",U)))},[U]),v.useEffect(()=>{Z&&x&&(Nr!==null&&google.maps.event.removeListener(Nr),_i(google.maps.event.addListener(Z,"animation_changed",x)))},[x]),v.useEffect(()=>{Z&&be&&(wn!==null&&google.maps.event.removeListener(wn),xt(google.maps.event.addListener(Z,"draggable_changed",be)))},[be]),v.useEffect(()=>{Z&&Ee&&(Ei!==null&&google.maps.event.removeListener(Ei),Cn(google.maps.event.addListener(Z,"flat_changed",Ee)))},[Ee]),v.useEffect(()=>{Z&&oe&&(Rt!==null&&google.maps.event.removeListener(Rt),Vr(google.maps.event.addListener(Z,"icon_changed",oe)))},[oe]),v.useEffect(()=>{Z&&pe&&(Qi!==null&&google.maps.event.removeListener(Qi),qs(google.maps.event.addListener(Z,"position_changed",pe)))},[pe]),v.useEffect(()=>{Z&&fe&&(An!==null&&google.maps.event.removeListener(An),oi(google.maps.event.addListener(Z,"shape_changed",fe)))},[fe]),v.useEffect(()=>{Z&&Te&&(sn!==null&&google.maps.event.removeListener(sn),pn(google.maps.event.addListener(Z,"title_changed",Te)))},[Te]),v.useEffect(()=>{Z&&D&&(Rn!==null&&google.maps.event.removeListener(Rn),Yi(google.maps.event.addListener(Z,"visible_changed",D)))},[D]),v.useEffect(()=>{Z&&W&&(bi!==null&&google.maps.event.removeListener(bi),li(google.maps.event.addListener(Z,"zindex_changed",W)))},[W]),v.useEffect(()=>{var ot=Mo(Mo(Mo({},t||Wh),r?Wh:{map:ae}),{},{position:e}),De=new google.maps.Marker(ot);return r?r.addMarker(De,!!a):De.setMap(ae),e&&De.setPosition(e),typeof d<"u"&&De.setVisible(d),typeof c<"u"&&De.setDraggable(c),typeof m<"u"&&De.setClickable(m),typeof _=="string"&&De.setCursor(_),S&&De.setIcon(S),typeof T<"u"&&De.setLabel(T),typeof C<"u"&&De.setOpacity(C),A&&De.setShape(A),typeof V=="string"&&De.setTitle(V),typeof k=="number"&&De.setZIndex(k),G&&ve(google.maps.event.addListener(De,"dblclick",G)),K&&ge(google.maps.event.addListener(De,"dragend",K)),z&&wt(google.maps.event.addListener(De,"dragstart",z)),w&&_n(google.maps.event.addListener(De,"mousedown",w)),Y&&Un(google.maps.event.addListener(De,"mouseout",Y)),O&&Ki(google.maps.event.addListener(De,"mouseover",O)),I&&vi(google.maps.event.addListener(De,"mouseup",I)),M&&Da(google.maps.event.addListener(De,"rightclick",M)),B&&Wt(google.maps.event.addListener(De,"click",B)),q&&_t(google.maps.event.addListener(De,"drag",q)),P&&jn(google.maps.event.addListener(De,"clickable_changed",P)),U&&Pr(google.maps.event.addListener(De,"cursor_changed",U)),x&&_i(google.maps.event.addListener(De,"animation_changed",x)),be&&xt(google.maps.event.addListener(De,"draggable_changed",be)),Ee&&Cn(google.maps.event.addListener(De,"flat_changed",Ee)),oe&&Vr(google.maps.event.addListener(De,"icon_changed",oe)),pe&&qs(google.maps.event.addListener(De,"position_changed",pe)),fe&&oi(google.maps.event.addListener(De,"shape_changed",fe)),Te&&pn(google.maps.event.addListener(De,"title_changed",Te)),D&&Yi(google.maps.event.addListener(De,"visible_changed",D)),W&&li(google.maps.event.addListener(De,"zindex_changed",W)),me(De),se&&se(De),()=>{Ae!==null&&google.maps.event.removeListener(Ae),Ne!==null&&google.maps.event.removeListener(Ne),Me!==null&&google.maps.event.removeListener(Me),yt!==null&&google.maps.event.removeListener(yt),He!==null&&google.maps.event.removeListener(He),mi!==null&&google.maps.event.removeListener(mi),si!==null&&google.maps.event.removeListener(si),ai!==null&&google.maps.event.removeListener(ai),yi!==null&&google.maps.event.removeListener(yi),ft!==null&&google.maps.event.removeListener(ft),$i!==null&&google.maps.event.removeListener($i),Nr!==null&&google.maps.event.removeListener(Nr),wn!==null&&google.maps.event.removeListener(wn),Ei!==null&&google.maps.event.removeListener(Ei),Rt!==null&&google.maps.event.removeListener(Rt),Qi!==null&&google.maps.event.removeListener(Qi),sn!==null&&google.maps.event.removeListener(sn),Rn!==null&&google.maps.event.removeListener(Rn),bi!==null&&google.maps.event.removeListener(bi),J&&J(De),r?r.removeMarker(De,!!a):De&&De.setMap(null)}},[]);var Ur=v.useMemo(()=>l?v.Children.map(l,ot=>{if(!v.isValidElement(ot))return ot;var De=ot;return v.cloneElement(De,{anchor:Z})}):null,[l,Z]);return j.jsx(j.Fragment,{children:Ur})||null}v.memo(Xk);class bg extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return Pw(function*(){var t=Mo(Mo(Mo({},e.props.options||Wh),e.props.clusterer?Wh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:B0,eventMap:z0,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:B0,eventMap:z0,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Fe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?v.Children.map(this.props.children,t=>{if(!v.isValidElement(t))return t;var r=t;return v.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ne(bg,"contextType",Ue);var Jk=function(){function i(e,t){e.getClusterer().extend(i,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return i.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},i.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},i.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),a=this.cluster.getBounds(),l=t.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(a),this.timeOut=window.setTimeout(function(){var c=t.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(a);var d=c.getZoom()||0;r!==null&&d>r&&c.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},i.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},i.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},i.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},i.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},i.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},i.prototype.show=function(){var e,t,r,a,l,c;if(this.div&&this.center){var d=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,p=this.backgroundPosition.split(" "),m=parseInt(((e=p[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),_=parseInt(((t=p[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),S=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(S!==null?"".concat(S.y,"px"):"0","; left: ").concat(S!==null?"".concat(S.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var T=document.createElement("img");T.alt=d,T.src=this.url,T.width=this.width,T.height=this.height,T.setAttribute("style","position: absolute; top: ".concat(_,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(T.style.clip="rect(-".concat(_,"px, -").concat(m+this.width,"px, -").concat(_+this.height,", -").concat(m,")"));var C=document.createElement("div");C.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(C.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(C.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(T),this.div.appendChild(C),this.div.title=d,this.div.style.display=""}this.visible=!0},i.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},i.prototype.setCenter=function(e){this.center=e},i.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},i}(),eP=function(){function i(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Jk(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return i.prototype.getSize=function(){return this.markers.length},i.prototype.getMarkers=function(){return this.markers},i.prototype.getCenter=function(){return this.center},i.prototype.getMap=function(){return this.map},i.prototype.getClusterer=function(){return this.markerClusterer},i.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0,a=t;r<a.length;r++){var l=a[r],c=l.getPosition();c&&e.extend(c)}return e},i.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},i.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+r.lat())/a,(this.center.lng()*(a-1)+r.lng())/a),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,c=this.markerClusterer.getMaxZoom(),d=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(c!==null&&typeof d<"u"&&d>c)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var p=0,m=this.markers;p<m.length;p++){var _=m[p];_.setMap(null)}else e.setMap(null);return!0},i.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},i.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},i.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),a=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof a<"u"&&a>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},i.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},i}();function tP(i,e){var t=i.length,r=t.toString().length,a=Math.min(r,e);return{text:t.toString(),index:a,title:""}}var nP=2e3,iP=500,rP="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",sP="png",aP=[53,56,66,78,90],oP="cluster",jw=function(){function i(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(i,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||rP,this.imageExtension=r.imageExtension||sP,this.imageSizes=r.imageSizes||aP,this.calculator=r.calculator||tP,this.batchSize=r.batchSize||nP,this.batchSizeIE=r.batchSizeIE||iP,this.clusterClass=r.clusterClass||oP,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return i.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},i.prototype.onIdle=function(){this.redraw()},i.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},i.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var a=0,l=this.clusters;a<l.length;a++){var c=l[a];c.remove()}this.clusters=[];for(var d=0,p=this.listeners;d<p.length;d++){var m=p[d];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},i.prototype.draw=function(){},i.prototype.getMap=function(){return null},i.prototype.getPanes=function(){return null},i.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},i.prototype.setMap=function(){},i.prototype.addListener=function(){return{remove:function(){}}},i.prototype.bindTo=function(){},i.prototype.get=function(){},i.prototype.notify=function(){},i.prototype.set=function(){},i.prototype.setValues=function(){},i.prototype.unbind=function(){},i.prototype.unbindAll=function(){},i.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},i.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,a=e;r<a.length;r++){var l=a[r],c=l.getPosition();c&&t.extend(c)}var d=this.getMap();d!==null&&"fitBounds"in d&&d.fitBounds(t)},i.prototype.getGridSize=function(){return this.gridSize},i.prototype.setGridSize=function(e){this.gridSize=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.setMaxZoom=function(e){this.maxZoom=e},i.prototype.getStyles=function(){return this.styles},i.prototype.setStyles=function(e){this.styles=e},i.prototype.getTitle=function(){return this.title},i.prototype.setTitle=function(e){this.title=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick},i.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},i.prototype.getAverageCenter=function(){return this.averageCenter},i.prototype.setAverageCenter=function(e){this.averageCenter=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},i.prototype.getImageExtension=function(){return this.imageExtension},i.prototype.setImageExtension=function(e){this.imageExtension=e},i.prototype.getImagePath=function(){return this.imagePath},i.prototype.setImagePath=function(e){this.imagePath=e},i.prototype.getImageSizes=function(){return this.imageSizes},i.prototype.setImageSizes=function(e){this.imageSizes=e},i.prototype.getCalculator=function(){return this.calculator},i.prototype.setCalculator=function(e){this.calculator=e},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},i.prototype.getClusterClass=function(){return this.clusterClass},i.prototype.setClusterClass=function(e){this.clusterClass=e},i.prototype.getMarkers=function(){return this.markers},i.prototype.getTotalMarkers=function(){return this.markers.length},i.prototype.getClusters=function(){return this.clusters},i.prototype.getTotalClusters=function(){return this.clusters.length},i.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},i.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];a&&this.pushMarkerTo(a)}t||this.redraw()},i.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},i.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},i.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},i.prototype.removeMarkers=function(e,t){for(var r=!1,a=0,l=e;a<l.length;a++){var c=l[a];r=r||this.removeMarker_(c)}return!t&&r&&this.repaint(),r},i.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},i.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,a=e;r<a.length;r++){var l=a[r];l.remove()}},0)},i.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var a=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),r!==null){var l=t.fromDivPixelToLatLng(r);l!==null&&e.extend(l)}if(a!==null){var c=t.fromDivPixelToLatLng(a);c!==null&&e.extend(c)}return e},i.prototype.redraw=function(){this.createClusters(0)},i.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){var a=r[t];a.remove()}this.clusters=[];for(var l=0,c=this.markers;l<c.length;l++){var d=c[l];d.isAdded=!1,e&&d.setMap(null)}},i.prototype.distanceBetweenPoints=function(e,t){var r=6371,a=(t.lat()-e.lat())*Math.PI/180,l=(t.lng()-e.lng())*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return r*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},i.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},i.prototype.addToClosestCluster=function(e){for(var t,r=4e4,a=null,l=0,c=this.clusters;l<c.length;l++){var d=c[l];t=d;var p=t.getCenter(),m=e.getPosition();if(p&&m){var _=this.distanceBetweenPoints(p,m);_<r&&(r=_,a=t)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(t=new eP(this),t.addMarker(e),this.clusters.push(t))},i.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),a=r!==null&&("getBounds"in r)?r.getBounds():null,l=(r==null?void 0:r.getZoom())||0,c=l>3?new google.maps.LatLngBounds(a==null?void 0:a.getSouthWest(),a==null?void 0:a.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),d=this.getExtendedBounds(c),p=Math.min(e+this.batchSize,this.markers.length),m=e;m<p;m++){var _=this.markers[m];_&&!_.isAdded&&this.isMarkerInBounds(_,d)&&(!this.ignoreHidden||this.ignoreHidden&&_.getVisible())&&this.addToClosestCluster(_)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var S=0,T=this.clusters;S<T.length;S++){var C=T[S];C.updateIcon()}}}},i.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype){var c=l;this.prototype[c]=a.prototype[c]}return this}).apply(e,[t])},i}();function H0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function lP(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):H0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var ni={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},nt={averageCenter(i,e){i.setAverageCenter(e)},batchSizeIE(i,e){i.setBatchSizeIE(e)},calculator(i,e){i.setCalculator(e)},clusterClass(i,e){i.setClusterClass(e)},enableRetinaIcons(i,e){i.setEnableRetinaIcons(e)},gridSize(i,e){i.setGridSize(e)},ignoreHidden(i,e){i.setIgnoreHidden(e)},imageExtension(i,e){i.setImageExtension(e)},imagePath(i,e){i.setImagePath(e)},imageSizes(i,e){i.setImageSizes(e)},maxZoom(i,e){i.setMaxZoom(e)},minimumClusterSize(i,e){i.setMinimumClusterSize(e)},styles(i,e){i.setStyles(e)},title(i,e){i.setTitle(e)},zoomOnClick(i,e){i.setZoomOnClick(e)}},uP={};function cP(i){var{children:e,options:t,averageCenter:r,batchSizeIE:a,calculator:l,clusterClass:c,enableRetinaIcons:d,gridSize:p,ignoreHidden:m,imageExtension:_,imagePath:S,imageSizes:T,maxZoom:C,minimumClusterSize:A,styles:V,title:k,zoomOnClick:B,onClick:G,onClusteringBegin:q,onClusteringEnd:K,onMouseOver:z,onMouseOut:Y,onLoad:O,onUnmount:I}=i,[w,M]=v.useState(null),P=v.useContext(Ue),[U,x]=v.useState(null),[be,Ee]=v.useState(null),[oe,pe]=v.useState(null),[fe,Te]=v.useState(null),[D,W]=v.useState(null);return v.useEffect(()=>{w&&Y&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(w,ni.onMouseOut,Y)))},[Y]),v.useEffect(()=>{w&&z&&(D!==null&&google.maps.event.removeListener(D),W(google.maps.event.addListener(w,ni.onMouseOver,z)))},[z]),v.useEffect(()=>{w&&G&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(w,ni.onClick,G)))},[G]),v.useEffect(()=>{w&&q&&(be!==null&&google.maps.event.removeListener(be),Ee(google.maps.event.addListener(w,ni.onClusteringBegin,q)))},[q]),v.useEffect(()=>{w&&K&&(oe!==null&&google.maps.event.removeListener(oe),Ee(google.maps.event.addListener(w,ni.onClusteringEnd,K)))},[K]),v.useEffect(()=>{typeof r<"u"&&w!==null&&nt.averageCenter(w,r)},[w,r]),v.useEffect(()=>{typeof a<"u"&&w!==null&&nt.batchSizeIE(w,a)},[w,a]),v.useEffect(()=>{typeof l<"u"&&w!==null&&nt.calculator(w,l)},[w,l]),v.useEffect(()=>{typeof c<"u"&&w!==null&&nt.clusterClass(w,c)},[w,c]),v.useEffect(()=>{typeof d<"u"&&w!==null&&nt.enableRetinaIcons(w,d)},[w,d]),v.useEffect(()=>{typeof p<"u"&&w!==null&&nt.gridSize(w,p)},[w,p]),v.useEffect(()=>{typeof m<"u"&&w!==null&&nt.ignoreHidden(w,m)},[w,m]),v.useEffect(()=>{typeof _<"u"&&w!==null&&nt.imageExtension(w,_)},[w,_]),v.useEffect(()=>{typeof S<"u"&&w!==null&&nt.imagePath(w,S)},[w,S]),v.useEffect(()=>{typeof T<"u"&&w!==null&&nt.imageSizes(w,T)},[w,T]),v.useEffect(()=>{typeof C<"u"&&w!==null&&nt.maxZoom(w,C)},[w,C]),v.useEffect(()=>{typeof A<"u"&&w!==null&&nt.minimumClusterSize(w,A)},[w,A]),v.useEffect(()=>{typeof V<"u"&&w!==null&&nt.styles(w,V)},[w,V]),v.useEffect(()=>{typeof k<"u"&&w!==null&&nt.title(w,k)},[w,k]),v.useEffect(()=>{typeof B<"u"&&w!==null&&nt.zoomOnClick(w,B)},[w,B]),v.useEffect(()=>{if(P){var se=lP({},t||uP),J=new jw(P,[],se);return r&&nt.averageCenter(J,r),a&&nt.batchSizeIE(J,a),l&&nt.calculator(J,l),c&&nt.clusterClass(J,c),d&&nt.enableRetinaIcons(J,d),p&&nt.gridSize(J,p),m&&nt.ignoreHidden(J,m),_&&nt.imageExtension(J,_),S&&nt.imagePath(J,S),T&&nt.imageSizes(J,T),C&&nt.maxZoom(J,C),A&&nt.minimumClusterSize(J,A),V&&nt.styles(J,V),k&&nt.title(J,k),B&&nt.zoomOnClick(J,B),Y&&Te(google.maps.event.addListener(J,ni.onMouseOut,Y)),z&&W(google.maps.event.addListener(J,ni.onMouseOver,z)),G&&x(google.maps.event.addListener(J,ni.onClick,G)),q&&Ee(google.maps.event.addListener(J,ni.onClusteringBegin,q)),K&&pe(google.maps.event.addListener(J,ni.onClusteringEnd,K)),M(J),O&&O(J),()=>{fe!==null&&google.maps.event.removeListener(fe),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),be!==null&&google.maps.event.removeListener(be),oe!==null&&google.maps.event.removeListener(oe),I&&I(J)}}},[]),w!==null&&e(w)||null}v.memo(cP);class hP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new jw(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:nt,eventMap:ni,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:nt,eventMap:ni,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Fe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(hP,"contextType",Ue);function q0(i){i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}var zw=function(){function i(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(i,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return i.prototype.createInfoBoxDiv=function(){var e=this,t=function(_){_.returnValue=!1,_.preventDefault&&_.preventDefault(),e.enableEventPropagation||q0(_)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,d=l;c<d.length;c++){var p=d[c];this.eventListeners.push(google.maps.event.addListener(this.div,p,q0))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},i.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},i.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},i.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},i.prototype.getCloseClickHandler=function(){return this.closeClickHandler},i.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,a=0,l=t.getBounds();l&&!l.contains(this.position)&&t.setCenter(this.position);var c=t.getDiv(),d=c.offsetWidth,p=c.offsetHeight,m=this.pixelOffset.width,_=this.pixelOffset.height,S=this.div.offsetWidth,T=this.div.offsetHeight,C=this.infoBoxClearance.width,A=this.infoBoxClearance.height,V=this.getProjection(),k=V.fromLatLngToContainerPixel(this.position);k!==null&&(k.x<-m+C?r=k.x+m-C:k.x+S+m+C>d&&(r=k.x+S+m+C-d),this.alignBottom?k.y<-_+A+T?a=k.y+_-A-T:k.y+_+A>p&&(a=k.y+_+A-p):k.y<-_+A?a=k.y+_-A:k.y+T+_+A>p&&(a=k.y+T+_+A-p)),r===0&&a===0||t.panBy(r,a)}}},i.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},i.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}return e},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},i.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},i.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},i.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},i.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},i.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},i.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},i.prototype.getContent=function(){return this.content},i.prototype.getPosition=function(){return this.position},i.prototype.getZIndex=function(){return this.zIndex},i.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},i.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},i.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},i.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var a=t.getPosition();r.setPosition(a)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},i.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},i.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=a.prototype[l]);return this}).apply(e,[t])},i}(),fP=["position"],dP=["position"];function F0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Zh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F0(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):F0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var G0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},K0={options(i,e){i.setOptions(e)},position(i,e){e instanceof google.maps.LatLng?i.setPosition(e):i.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},pP={};function gP(i){var{children:e,anchor:t,options:r,position:a,zIndex:l,onCloseClick:c,onDomReady:d,onContentChanged:p,onPositionChanged:m,onZindexChanged:_,onLoad:S,onUnmount:T}=i,C=v.useContext(Ue),[A,V]=v.useState(null),[k,B]=v.useState(null),[G,q]=v.useState(null),[K,z]=v.useState(null),[Y,O]=v.useState(null),[I,w]=v.useState(null),M=v.useRef(null);return v.useEffect(()=>{C&&A!==null&&(A.close(),t?A.open(C,t):A.getPosition()&&A.open(C))},[C,A,t]),v.useEffect(()=>{r&&A!==null&&A.setOptions(r)},[A,r]),v.useEffect(()=>{if(a&&A!==null){var P=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);A.setPosition(P)}},[a]),v.useEffect(()=>{typeof l=="number"&&A!==null&&A.setZIndex(l)},[l]),v.useEffect(()=>{A&&c&&(k!==null&&google.maps.event.removeListener(k),B(google.maps.event.addListener(A,"closeclick",c)))},[c]),v.useEffect(()=>{A&&d&&(G!==null&&google.maps.event.removeListener(G),q(google.maps.event.addListener(A,"domready",d)))},[d]),v.useEffect(()=>{A&&p&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(A,"content_changed",p)))},[p]),v.useEffect(()=>{A&&m&&(Y!==null&&google.maps.event.removeListener(Y),O(google.maps.event.addListener(A,"position_changed",m)))},[m]),v.useEffect(()=>{A&&_&&(I!==null&&google.maps.event.removeListener(I),w(google.maps.event.addListener(A,"zindex_changed",_)))},[_]),v.useEffect(()=>{if(C){var P=r||pP,{position:U}=P,x=Dm(P,fP),be;U&&!(U instanceof google.maps.LatLng)&&(be=new google.maps.LatLng(U.lat,U.lng));var Ee=new zw(Zh(Zh({},x),be?{position:be}:{}));M.current=document.createElement("div"),V(Ee),c&&B(google.maps.event.addListener(Ee,"closeclick",c)),d&&q(google.maps.event.addListener(Ee,"domready",d)),p&&z(google.maps.event.addListener(Ee,"content_changed",p)),m&&O(google.maps.event.addListener(Ee,"position_changed",m)),_&&w(google.maps.event.addListener(Ee,"zindex_changed",_)),Ee.setContent(M.current),t?Ee.open(C,t):Ee.getPosition()?Ee.open(C):Ht(!1,"You must provide either an anchor or a position prop for <InfoBox>."),S&&S(Ee)}return()=>{A!==null&&(k&&google.maps.event.removeListener(k),K&&google.maps.event.removeListener(K),G&&google.maps.event.removeListener(G),Y&&google.maps.event.removeListener(Y),I&&google.maps.event.removeListener(I),T&&T(A),A.close())}},[]),M.current?Zo.createPortal(v.Children.only(e),M.current):null}v.memo(gP);class mP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Ht(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,r=Dm(e,dP),a;t&&!(t instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(t.lat,t.lng));var l=new zw(Zh(Zh({},r),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:K0,eventMap:G0,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:K0,eventMap:G0,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Fe(this.registeredEvents),t.close())}render(){return this.containerElement?Zo.createPortal(v.Children.only(this.props.children),this.containerElement):null}}ne(mP,"contextType",Ue);var Fp,$0;function vP(){return $0||($0=1,Fp=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!i(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){var c=l[a];if(!i(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),Fp}var yP=vP(),Q0=kw(yP),Y0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Gp=1,iu=8;class xm{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=r>>4;if(a!==Gp)throw new Error("Got v".concat(a," data when expected v").concat(Gp,"."));var l=Y0[r&15];if(!l)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[d]=new Uint32Array(e,4,1);return new xm(d,c,l,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=Y0.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,d=e*this.IndexArrayType.BYTES_PER_ELEMENT,p=(8-d%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(r,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,iu,e),this.coords=new this.ArrayType(this.data,iu+d+p,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(iu+c+d+p),this.ids=new this.IndexArrayType(this.data,iu,e),this.coords=new this.ArrayType(this.data,iu+d+p,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Gp<<4)+l]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Sg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:c,nodeSize:d}=this,p=[0,l.length-1,0],m=[];p.length;){var _=p.pop()||0,S=p.pop()||0,T=p.pop()||0;if(S-T<=d){for(var C=T;C<=S;C++){var A=c[2*C],V=c[2*C+1];A>=e&&A<=r&&V>=t&&V<=a&&m.push(l[C])}continue}var k=T+S>>1,B=c[2*k],G=c[2*k+1];B>=e&&B<=r&&G>=t&&G<=a&&m.push(l[k]),(_===0?e<=B:t<=G)&&(p.push(T),p.push(k-1),p.push(1-_)),(_===0?r>=B:a>=G)&&(p.push(k+1),p.push(S),p.push(1-_))}return m}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,d=[0,a.length-1,0],p=[],m=r*r;d.length;){var _=d.pop()||0,S=d.pop()||0,T=d.pop()||0;if(S-T<=c){for(var C=T;C<=S;C++)W0(l[2*C],l[2*C+1],e,t)<=m&&p.push(a[C]);continue}var A=T+S>>1,V=l[2*A],k=l[2*A+1];W0(V,k,e,t)<=m&&p.push(a[A]),(_===0?e-r<=V:t-r<=k)&&(d.push(T),d.push(A-1),d.push(1-_)),(_===0?e+r>=V:t+r>=k)&&(d.push(A+1),d.push(S),d.push(1-_))}return p}}function Sg(i,e,t,r,a,l){if(!(a-r<=t)){var c=r+a>>1;Bw(i,e,c,r,a,l),Sg(i,e,t,r,c-1,1-l),Sg(i,e,t,c+1,a,1-l)}}function Bw(i,e,t,r,a,l){for(;a>r;){if(a-r>600){var c=a-r+1,d=t-r+1,p=Math.log(c),m=.5*Math.exp(2*p/3),_=.5*Math.sqrt(p*m*(c-m)/c)*(d-c/2<0?-1:1),S=Math.max(r,Math.floor(t-d*m/c+_)),T=Math.min(a,Math.floor(t+(c-d)*m/c+_));Bw(i,e,t,S,T,l)}var C=e[2*t+l],A=r,V=a;for(ru(i,e,r,t),e[2*a+l]>C&&ru(i,e,r,a);A<V;){for(ru(i,e,A,V),A++,V--;e[2*A+l]<C;)A++;for(;e[2*V+l]>C;)V--}e[2*r+l]===C?ru(i,e,r,V):(V++,ru(i,e,V,a)),V<=t&&(r=V+1),t<=V&&(a=V-1)}}function ru(i,e,t,r){Kp(i,t,r),Kp(e,2*t,2*r),Kp(e,2*t+1,2*r+1)}function Kp(i,e,t){var r=i[e];i[e]=i[t],i[t]=r}function W0(i,e,t,r){var a=i-t,l=e-r;return a*a+l*l}var _P={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},Z0=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1)),Ea=2,ys=3,$p=4,vs=5,Hw=6;class EP{constructor(e){this.options=Object.assign(Object.create(_P),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:r,maxZoom:a}=this.options;t&&console.time("total time");var l="prepare ".concat(e.length," points");t&&console.time(l),this.points=e;for(var c=[],d=0;d<e.length;d++){var p=e[d];if(p.geometry){var[m,_]=p.geometry.coordinates,S=Z0(dh(m)),T=Z0(ph(_));c.push(S,T,1/0,d,-1,1),this.options.reduce&&c.push(0)}}var C=this.trees[a+1]=this._createTree(c);t&&console.timeEnd(l);for(var A=a;A>=r;A--){var V=+Date.now();C=this.trees[A]=this._createTree(this._cluster(C,A)),t&&console.log("z%d: %d clusters in %dms",A,C.numItems,+Date.now()-V)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var r=((e[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,l=180;else if(r>l){var d=this.getClusters([r,a,180,c],t),p=this.getClusters([-180,a,l,c],t);return d.concat(p)}var m=this.trees[this._limitZoom(t)],_=m.range(dh(r),ph(c),dh(l),ph(a)),S=m.data,T=[];for(var C of _){var A=this.stride*C;T.push(S[A+vs]>1?X0(S,A,this.clusterProps):this.points[S[A+ys]])}return T}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),a="No cluster with the specified id.",l=this.trees[r];if(!l)throw new Error(a);var c=l.data;if(t*this.stride>=c.length)throw new Error(a);var d=this.options.radius/(this.options.extent*Math.pow(2,r-1)),p=c[t*this.stride],m=c[t*this.stride+1],_=l.within(p,m,d),S=[];for(var T of _){var C=T*this.stride;c[C+$p]===e&&S.push(c[C+vs]>1?X0(c,C,this.clusterProps):this.points[c[C+ys]])}if(S.length===0)throw new Error(a);return S}getLeaves(e,t,r){t=t||10,r=r||0;var a=[];return this._appendLeaves(a,e,t,r,0),a}getTile(e,t,r){var a=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:c,radius:d}=this.options,p=d/c,m=(r-p)/l,_=(r+1+p)/l,S={features:[]};return this._addTileFeatures(a.range((t-p)/l,m,(t+1+p)/l,_),a.data,t,r,l,S),t===0&&this._addTileFeatures(a.range(1-p/l,m,1,_),a.data,l,r,l,S),t===l-1&&this._addTileFeatures(a.range(0,m,p/l,_),a.data,-1,r,l,S),S.features.length?S:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,a,l){var c=this.getChildren(t);for(var d of c){var p=d.properties;if(p&&p.cluster?l+p.point_count<=a?l+=p.point_count:l=this._appendLeaves(e,p.cluster_id,r,a,l):l<a?l++:e.push(d),e.length===r)break}return l}_createTree(e){for(var t=new xm(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,a,l,c){for(var d of e){var p=d*this.stride,m=t[p+vs]>1,_=void 0,S=void 0,T=void 0;if(m)_=qw(t,p,this.clusterProps),S=t[p],T=t[p+1];else{var C=this.points[t[p+ys]];_=C.properties;var[A,V]=C.geometry.coordinates;S=dh(A),T=ph(V)}var k={type:1,geometry:[[Math.round(this.options.extent*(S*l-r)),Math.round(this.options.extent*(T*l-a))]],tags:_},B=void 0;m||this.options.generateId?B=t[p+ys]:B=this.points[t[p+ys]].id,B!==void 0&&(k.id=B),c.features.push(k)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:r,extent:a,reduce:l,minPoints:c}=this.options,d=r/(a*Math.pow(2,t)),p=e.data,m=[],_=this.stride,S=0;S<p.length;S+=_)if(!(p[S+Ea]<=t)){p[S+Ea]=t;var T=p[S],C=p[S+1],A=e.within(p[S],p[S+1],d),V=p[S+vs],k=V;for(var B of A){var G=B*_;p[G+Ea]>t&&(k+=p[G+vs])}if(k>V&&k>=c){var q=T*V,K=C*V,z=void 0,Y=-1,O=((S/_|0)<<5)+(t+1)+this.points.length;for(var I of A){var w=I*_;if(!(p[w+Ea]<=t)){p[w+Ea]=t;var M=p[w+vs];q+=p[w]*M,K+=p[w+1]*M,p[w+$p]=O,l&&(z||(z=this._map(p,S,!0),Y=this.clusterProps.length,this.clusterProps.push(z)),l(z,this._map(p,w)))}}p[S+$p]=O,m.push(q/k,K/k,1/0,O,-1,k),l&&m.push(Y)}else{for(var P=0;P<_;P++)m.push(p[S+P]);if(k>1)for(var U of A){var x=U*_;if(!(p[x+Ea]<=t)){p[x+Ea]=t;for(var be=0;be<_;be++)m.push(p[x+be])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+vs]>1){var a=this.clusterProps[e[t+Hw]];return r?Object.assign({},a):a}var l=this.points[e[t+ys]].properties,c=this.options.map(l);return r&&c===l?Object.assign({},c):c}}function X0(i,e,t){return{type:"Feature",id:i[e+ys],properties:qw(i,e,t),geometry:{type:"Point",coordinates:[bP(i[e]),SP(i[e+1])]}}}function qw(i,e,t){var r=i[e+vs],a=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,l=i[e+Hw],c=l===-1?{}:Object.assign({},t[l]);return Object.assign(c,{cluster:!0,cluster_id:i[e+ys],point_count:r,point_count_abbreviated:a})}function dh(i){return i/360+.5}function ph(i){var e=Math.sin(i*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function bP(i){return(i-.5)*360}function SP(i){var e=(180-i*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function TP(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(i);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(i,r[a])&&(t[r[a]]=i[r[a]]);return t}class Pn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Tg{constructor(e){var{markers:t,position:r}=e;this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Pn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Pn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Pn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class wP{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return CP(t)}}var CP=i=>{var e=i.map(t=>new Tg({position:Pn.getPosition(t),markers:[t]}));return e};class AP extends wP{constructor(e){var{maxZoom:t,radius:r=60}=e,a=TP(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new EP(Object.assign({maxZoom:this.maxZoom,radius:r},a))}calculate(e){var t=!1,r={zoom:e.map.getZoom()};if(!Q0(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var a=this.markers.map(l=>{var c=Pn.getPosition(l),d=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:d},properties:{marker:l}}});this.superCluster.load(a)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!Q0(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[t,r]},properties:a}=e;if(a.cluster)return new Tg({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:r,lng:t}});var l=a.marker;return new Tg({markers:[l],position:Pn.getPosition(l)})}}class RP{constructor(e,t){this.markers={sum:e.length};var r=t.map(l=>l.count),a=r.reduce((l,c)=>l+c,0);this.clusters={count:t.length,markers:{mean:a/t.length,sum:a,min:Math.min(...r),max:Math.max(...r)}}}}class LP{render(e,t,r){var{count:a,position:l}=e,c=a>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",d='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),p="Cluster of ".concat(a," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+a;if(Pn.isAdvancedMarkerAvailable(r)){var _=new DOMParser,S=_.parseFromString(d,"image/svg+xml").documentElement;S.setAttribute("transform","translate(0 25)");var T={map:r,position:l,zIndex:m,title:p,content:S};return new google.maps.marker.AdvancedMarkerElement(T)}var C={position:l,zIndex:m,title:p,icon:{url:"data:image/svg+xml;base64,".concat(btoa(d)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(C)}}function IP(i,e){for(var t in e.prototype)i.prototype[t]=e.prototype[t]}class km{constructor(){IP(km,google.maps.OverlayView)}}var mu;(function(i){i.CLUSTERING_BEGIN="clusteringbegin",i.CLUSTERING_END="clusteringend",i.CLUSTER_CLICK="click"})(mu||(mu={}));var MP=(i,e,t)=>{t.fitBounds(e.bounds)};class OP extends km{constructor(e){var{map:t,markers:r=[],algorithmOptions:a={},algorithm:l=new AP(a),renderer:c=new LP,onClusterClick:d=MP}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=l,this.renderer=c,this.onClusterClick=d,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){var r=this.markers.indexOf(e);return r===-1?!1:(Pn.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){var r=!1;return e.forEach(a=>{r=this.removeMarker(a,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,mu.CLUSTERING_BEGIN,this);var{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var a=new Set;for(var l of t)l.markers.length==1&&a.add(l.markers[0]);var c=[];for(var d of this.clusters)d.marker!=null&&(d.markers.length==1?a.has(d.marker)||Pn.setMap(d.marker,null):c.push(d.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>c.forEach(p=>Pn.setMap(p,null)))}google.maps.event.trigger(this,mu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Pn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new RP(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach(a=>Pn.setMap(a,null)),this.onClusterClick&&r.marker.addListener("click",a=>{google.maps.event.trigger(this,mu.CLUSTER_CLICK,r),this.onClusterClick(a,r,t)})),Pn.setMap(r.marker,t)})}}function J0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function eb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J0(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):J0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function DP(i){var e=wk(),[t,r]=v.useState(null);return v.useEffect(()=>{if(e&&t===null){var a=new OP(eb(eb({},i),{},{map:e}));r(a)}},[e]),t}function xP(i){var{children:e,options:t}=i,r=DP(t);return r!==null?e(r):null}v.memo(xP);var tb={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},nb={options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},zIndex(i,e){i.setZIndex(e)}};function kP(i){var{children:e,anchor:t,options:r,position:a,zIndex:l,onCloseClick:c,onDomReady:d,onContentChanged:p,onPositionChanged:m,onZindexChanged:_,onLoad:S,onUnmount:T}=i,C=v.useContext(Ue),[A,V]=v.useState(null),[k,B]=v.useState(null),[G,q]=v.useState(null),[K,z]=v.useState(null),[Y,O]=v.useState(null),[I,w]=v.useState(null),M=v.useRef(null);return v.useEffect(()=>{A!==null&&(A.close(),t?A.open(C,t):A.getPosition()&&A.open(C))},[C,A,t]),v.useEffect(()=>{r&&A!==null&&A.setOptions(r)},[A,r]),v.useEffect(()=>{a&&A!==null&&A.setPosition(a)},[a]),v.useEffect(()=>{typeof l=="number"&&A!==null&&A.setZIndex(l)},[l]),v.useEffect(()=>{A&&c&&(k!==null&&google.maps.event.removeListener(k),B(google.maps.event.addListener(A,"closeclick",c)))},[c]),v.useEffect(()=>{A&&d&&(G!==null&&google.maps.event.removeListener(G),q(google.maps.event.addListener(A,"domready",d)))},[d]),v.useEffect(()=>{A&&p&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(A,"content_changed",p)))},[p]),v.useEffect(()=>{A&&m&&(Y!==null&&google.maps.event.removeListener(Y),O(google.maps.event.addListener(A,"position_changed",m)))},[m]),v.useEffect(()=>{A&&_&&(I!==null&&google.maps.event.removeListener(I),w(google.maps.event.addListener(A,"zindex_changed",_)))},[_]),v.useEffect(()=>{var P=new google.maps.InfoWindow(r);return V(P),M.current=document.createElement("div"),c&&B(google.maps.event.addListener(P,"closeclick",c)),d&&q(google.maps.event.addListener(P,"domready",d)),p&&z(google.maps.event.addListener(P,"content_changed",p)),m&&O(google.maps.event.addListener(P,"position_changed",m)),_&&w(google.maps.event.addListener(P,"zindex_changed",_)),P.setContent(M.current),a&&P.setPosition(a),l&&P.setZIndex(l),t?P.open(C,t):P.getPosition()?P.open(C):Ht(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),S&&S(P),()=>{k&&google.maps.event.removeListener(k),K&&google.maps.event.removeListener(K),G&&google.maps.event.removeListener(G),Y&&google.maps.event.removeListener(Y),I&&google.maps.event.removeListener(I),T&&T(P),P.close()}},[]),M.current?Zo.createPortal(v.Children.only(e),M.current):null}v.memo(kP);class PP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Ht(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:nb,eventMap:tb,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:nb,eventMap:tb,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Zo.createPortal(v.Children.only(this.props.children),this.containerElement):null}}ne(PP,"contextType",Ue);function ib(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Xh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ib(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var rb={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sb={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},visible(i,e){i.setVisible(e)}},NP={};function VP(i){var{options:e,draggable:t,editable:r,visible:a,path:l,onDblClick:c,onDragEnd:d,onDragStart:p,onMouseDown:m,onMouseMove:_,onMouseOut:S,onMouseOver:T,onMouseUp:C,onRightClick:A,onClick:V,onDrag:k,onLoad:B,onUnmount:G}=i,q=v.useContext(Ue),[K,z]=v.useState(null),[Y,O]=v.useState(null),[I,w]=v.useState(null),[M,P]=v.useState(null),[U,x]=v.useState(null),[be,Ee]=v.useState(null),[oe,pe]=v.useState(null),[fe,Te]=v.useState(null),[D,W]=v.useState(null),[se,J]=v.useState(null),[ae,Z]=v.useState(null),[me,Ae]=v.useState(null);return v.useEffect(()=>{K!==null&&K.setMap(q)},[q]),v.useEffect(()=>{typeof e<"u"&&K!==null&&K.setOptions(e)},[K,e]),v.useEffect(()=>{typeof t<"u"&&K!==null&&K.setDraggable(t)},[K,t]),v.useEffect(()=>{typeof r<"u"&&K!==null&&K.setEditable(r)},[K,r]),v.useEffect(()=>{typeof a<"u"&&K!==null&&K.setVisible(a)},[K,a]),v.useEffect(()=>{typeof l<"u"&&K!==null&&K.setPath(l)},[K,l]),v.useEffect(()=>{K&&c&&(Y!==null&&google.maps.event.removeListener(Y),O(google.maps.event.addListener(K,"dblclick",c)))},[c]),v.useEffect(()=>{K&&d&&(I!==null&&google.maps.event.removeListener(I),w(google.maps.event.addListener(K,"dragend",d)))},[d]),v.useEffect(()=>{K&&p&&(M!==null&&google.maps.event.removeListener(M),P(google.maps.event.addListener(K,"dragstart",p)))},[p]),v.useEffect(()=>{K&&m&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(K,"mousedown",m)))},[m]),v.useEffect(()=>{K&&_&&(be!==null&&google.maps.event.removeListener(be),Ee(google.maps.event.addListener(K,"mousemove",_)))},[_]),v.useEffect(()=>{K&&S&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(K,"mouseout",S)))},[S]),v.useEffect(()=>{K&&T&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(K,"mouseover",T)))},[T]),v.useEffect(()=>{K&&C&&(D!==null&&google.maps.event.removeListener(D),W(google.maps.event.addListener(K,"mouseup",C)))},[C]),v.useEffect(()=>{K&&A&&(se!==null&&google.maps.event.removeListener(se),J(google.maps.event.addListener(K,"rightclick",A)))},[A]),v.useEffect(()=>{K&&V&&(ae!==null&&google.maps.event.removeListener(ae),Z(google.maps.event.addListener(K,"click",V)))},[V]),v.useEffect(()=>{K&&k&&(me!==null&&google.maps.event.removeListener(me),Ae(google.maps.event.addListener(K,"drag",k)))},[k]),v.useEffect(()=>{var ve=new google.maps.Polyline(Xh(Xh({},e||NP),{},{map:q}));return l&&ve.setPath(l),typeof a<"u"&&ve.setVisible(a),typeof r<"u"&&ve.setEditable(r),typeof t<"u"&&ve.setDraggable(t),c&&O(google.maps.event.addListener(ve,"dblclick",c)),d&&w(google.maps.event.addListener(ve,"dragend",d)),p&&P(google.maps.event.addListener(ve,"dragstart",p)),m&&x(google.maps.event.addListener(ve,"mousedown",m)),_&&Ee(google.maps.event.addListener(ve,"mousemove",_)),S&&pe(google.maps.event.addListener(ve,"mouseout",S)),T&&Te(google.maps.event.addListener(ve,"mouseover",T)),C&&W(google.maps.event.addListener(ve,"mouseup",C)),A&&J(google.maps.event.addListener(ve,"rightclick",A)),V&&Z(google.maps.event.addListener(ve,"click",V)),k&&Ae(google.maps.event.addListener(ve,"drag",k)),z(ve),B&&B(ve),()=>{Y!==null&&google.maps.event.removeListener(Y),I!==null&&google.maps.event.removeListener(I),M!==null&&google.maps.event.removeListener(M),U!==null&&google.maps.event.removeListener(U),be!==null&&google.maps.event.removeListener(be),oe!==null&&google.maps.event.removeListener(oe),fe!==null&&google.maps.event.removeListener(fe),D!==null&&google.maps.event.removeListener(D),se!==null&&google.maps.event.removeListener(se),ae!==null&&google.maps.event.removeListener(ae),G&&G(ve),ve.setMap(null)}},[]),null}v.memo(VP);class UP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Xh(Xh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:sb,eventMap:rb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:sb,eventMap:rb,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Fe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(UP,"contextType",Ue);function ab(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function ob(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ab(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ab(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var lb={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ub={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},paths(i,e){i.setPaths(e)},visible(i,e){i.setVisible(e)}};function jP(i){var{options:e,draggable:t,editable:r,visible:a,path:l,paths:c,onDblClick:d,onDragEnd:p,onDragStart:m,onMouseDown:_,onMouseMove:S,onMouseOut:T,onMouseOver:C,onMouseUp:A,onRightClick:V,onClick:k,onDrag:B,onLoad:G,onUnmount:q,onEdit:K}=i,z=v.useContext(Ue),[Y,O]=v.useState(null),[I,w]=v.useState(null),[M,P]=v.useState(null),[U,x]=v.useState(null),[be,Ee]=v.useState(null),[oe,pe]=v.useState(null),[fe,Te]=v.useState(null),[D,W]=v.useState(null),[se,J]=v.useState(null),[ae,Z]=v.useState(null),[me,Ae]=v.useState(null),[ve,Ne]=v.useState(null);return v.useEffect(()=>{Y!==null&&Y.setMap(z)},[z]),v.useEffect(()=>{typeof e<"u"&&Y!==null&&Y.setOptions(e)},[Y,e]),v.useEffect(()=>{typeof t<"u"&&Y!==null&&Y.setDraggable(t)},[Y,t]),v.useEffect(()=>{typeof r<"u"&&Y!==null&&Y.setEditable(r)},[Y,r]),v.useEffect(()=>{typeof a<"u"&&Y!==null&&Y.setVisible(a)},[Y,a]),v.useEffect(()=>{typeof l<"u"&&Y!==null&&Y.setPath(l)},[Y,l]),v.useEffect(()=>{typeof c<"u"&&Y!==null&&Y.setPaths(c)},[Y,c]),v.useEffect(()=>{Y&&typeof d=="function"&&(I!==null&&google.maps.event.removeListener(I),w(google.maps.event.addListener(Y,"dblclick",d)))},[d]),v.useEffect(()=>{Y&&(google.maps.event.addListener(Y.getPath(),"insert_at",()=>{K==null||K(Y)}),google.maps.event.addListener(Y.getPath(),"set_at",()=>{K==null||K(Y)}),google.maps.event.addListener(Y.getPath(),"remove_at",()=>{K==null||K(Y)}))},[Y,K]),v.useEffect(()=>{Y&&typeof p=="function"&&(M!==null&&google.maps.event.removeListener(M),P(google.maps.event.addListener(Y,"dragend",p)))},[p]),v.useEffect(()=>{Y&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(Y,"dragstart",m)))},[m]),v.useEffect(()=>{Y&&typeof _=="function"&&(be!==null&&google.maps.event.removeListener(be),Ee(google.maps.event.addListener(Y,"mousedown",_)))},[_]),v.useEffect(()=>{Y&&typeof S=="function"&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(Y,"mousemove",S)))},[S]),v.useEffect(()=>{Y&&typeof T=="function"&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(Y,"mouseout",T)))},[T]),v.useEffect(()=>{Y&&typeof C=="function"&&(D!==null&&google.maps.event.removeListener(D),W(google.maps.event.addListener(Y,"mouseover",C)))},[C]),v.useEffect(()=>{Y&&typeof A=="function"&&(se!==null&&google.maps.event.removeListener(se),J(google.maps.event.addListener(Y,"mouseup",A)))},[A]),v.useEffect(()=>{Y&&typeof V=="function"&&(ae!==null&&google.maps.event.removeListener(ae),Z(google.maps.event.addListener(Y,"rightclick",V)))},[V]),v.useEffect(()=>{Y&&typeof k=="function"&&(me!==null&&google.maps.event.removeListener(me),Ae(google.maps.event.addListener(Y,"click",k)))},[k]),v.useEffect(()=>{Y&&typeof B=="function"&&(ve!==null&&google.maps.event.removeListener(ve),Ne(google.maps.event.addListener(Y,"drag",B)))},[B]),v.useEffect(()=>{var ge=new google.maps.Polygon(ob(ob({},e),{},{map:z}));return l&&ge.setPath(l),c&&ge.setPaths(c),typeof a<"u"&&ge.setVisible(a),typeof r<"u"&&ge.setEditable(r),typeof t<"u"&&ge.setDraggable(t),d&&w(google.maps.event.addListener(ge,"dblclick",d)),p&&P(google.maps.event.addListener(ge,"dragend",p)),m&&x(google.maps.event.addListener(ge,"dragstart",m)),_&&Ee(google.maps.event.addListener(ge,"mousedown",_)),S&&pe(google.maps.event.addListener(ge,"mousemove",S)),T&&Te(google.maps.event.addListener(ge,"mouseout",T)),C&&W(google.maps.event.addListener(ge,"mouseover",C)),A&&J(google.maps.event.addListener(ge,"mouseup",A)),V&&Z(google.maps.event.addListener(ge,"rightclick",V)),k&&Ae(google.maps.event.addListener(ge,"click",k)),B&&Ne(google.maps.event.addListener(ge,"drag",B)),O(ge),G&&G(ge),()=>{I!==null&&google.maps.event.removeListener(I),M!==null&&google.maps.event.removeListener(M),U!==null&&google.maps.event.removeListener(U),be!==null&&google.maps.event.removeListener(be),oe!==null&&google.maps.event.removeListener(oe),fe!==null&&google.maps.event.removeListener(fe),D!==null&&google.maps.event.removeListener(D),se!==null&&google.maps.event.removeListener(se),ae!==null&&google.maps.event.removeListener(ae),me!==null&&google.maps.event.removeListener(me),q&&q(ge),ge.setMap(null)}},[]),null}v.memo(jP);class zP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:ub,eventMap:lb,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:ub,eventMap:lb,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Fe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(zP,"contextType",Ue);function cb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Jh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):cb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var hb={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fb={bounds(i,e){i.setBounds(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},visible(i,e){i.setVisible(e)}};function BP(i){var{options:e,bounds:t,draggable:r,editable:a,visible:l,onDblClick:c,onDragEnd:d,onDragStart:p,onMouseDown:m,onMouseMove:_,onMouseOut:S,onMouseOver:T,onMouseUp:C,onRightClick:A,onClick:V,onDrag:k,onBoundsChanged:B,onLoad:G,onUnmount:q}=i,K=v.useContext(Ue),[z,Y]=v.useState(null),[O,I]=v.useState(null),[w,M]=v.useState(null),[P,U]=v.useState(null),[x,be]=v.useState(null),[Ee,oe]=v.useState(null),[pe,fe]=v.useState(null),[Te,D]=v.useState(null),[W,se]=v.useState(null),[J,ae]=v.useState(null),[Z,me]=v.useState(null),[Ae,ve]=v.useState(null),[Ne,ge]=v.useState(null);return v.useEffect(()=>{z!==null&&z.setMap(K)},[K]),v.useEffect(()=>{typeof e<"u"&&z!==null&&z.setOptions(e)},[z,e]),v.useEffect(()=>{typeof r<"u"&&z!==null&&z.setDraggable(r)},[z,r]),v.useEffect(()=>{typeof a<"u"&&z!==null&&z.setEditable(a)},[z,a]),v.useEffect(()=>{typeof l<"u"&&z!==null&&z.setVisible(l)},[z,l]),v.useEffect(()=>{typeof t<"u"&&z!==null&&z.setBounds(t)},[z,t]),v.useEffect(()=>{z&&c&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(z,"dblclick",c)))},[c]),v.useEffect(()=>{z&&d&&(w!==null&&google.maps.event.removeListener(w),M(google.maps.event.addListener(z,"dragend",d)))},[d]),v.useEffect(()=>{z&&p&&(P!==null&&google.maps.event.removeListener(P),U(google.maps.event.addListener(z,"dragstart",p)))},[p]),v.useEffect(()=>{z&&m&&(x!==null&&google.maps.event.removeListener(x),be(google.maps.event.addListener(z,"mousedown",m)))},[m]),v.useEffect(()=>{z&&_&&(Ee!==null&&google.maps.event.removeListener(Ee),oe(google.maps.event.addListener(z,"mousemove",_)))},[_]),v.useEffect(()=>{z&&S&&(pe!==null&&google.maps.event.removeListener(pe),fe(google.maps.event.addListener(z,"mouseout",S)))},[S]),v.useEffect(()=>{z&&T&&(Te!==null&&google.maps.event.removeListener(Te),D(google.maps.event.addListener(z,"mouseover",T)))},[T]),v.useEffect(()=>{z&&C&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(z,"mouseup",C)))},[C]),v.useEffect(()=>{z&&A&&(J!==null&&google.maps.event.removeListener(J),ae(google.maps.event.addListener(z,"rightclick",A)))},[A]),v.useEffect(()=>{z&&V&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(z,"click",V)))},[V]),v.useEffect(()=>{z&&k&&(Ae!==null&&google.maps.event.removeListener(Ae),ve(google.maps.event.addListener(z,"drag",k)))},[k]),v.useEffect(()=>{z&&B&&(Ne!==null&&google.maps.event.removeListener(Ne),ge(google.maps.event.addListener(z,"bounds_changed",B)))},[B]),v.useEffect(()=>{var Me=new google.maps.Rectangle(Jh(Jh({},e),{},{map:K}));return typeof l<"u"&&Me.setVisible(l),typeof a<"u"&&Me.setEditable(a),typeof r<"u"&&Me.setDraggable(r),typeof t<"u"&&Me.setBounds(t),c&&I(google.maps.event.addListener(Me,"dblclick",c)),d&&M(google.maps.event.addListener(Me,"dragend",d)),p&&U(google.maps.event.addListener(Me,"dragstart",p)),m&&be(google.maps.event.addListener(Me,"mousedown",m)),_&&oe(google.maps.event.addListener(Me,"mousemove",_)),S&&fe(google.maps.event.addListener(Me,"mouseout",S)),T&&D(google.maps.event.addListener(Me,"mouseover",T)),C&&se(google.maps.event.addListener(Me,"mouseup",C)),A&&ae(google.maps.event.addListener(Me,"rightclick",A)),V&&me(google.maps.event.addListener(Me,"click",V)),k&&ve(google.maps.event.addListener(Me,"drag",k)),B&&ge(google.maps.event.addListener(Me,"bounds_changed",B)),Y(Me),G&&G(Me),()=>{O!==null&&google.maps.event.removeListener(O),w!==null&&google.maps.event.removeListener(w),P!==null&&google.maps.event.removeListener(P),x!==null&&google.maps.event.removeListener(x),Ee!==null&&google.maps.event.removeListener(Ee),pe!==null&&google.maps.event.removeListener(pe),Te!==null&&google.maps.event.removeListener(Te),W!==null&&google.maps.event.removeListener(W),J!==null&&google.maps.event.removeListener(J),Z!==null&&google.maps.event.removeListener(Z),Ae!==null&&google.maps.event.removeListener(Ae),Ne!==null&&google.maps.event.removeListener(Ne),q&&q(Me),Me.setMap(null)}},[]),null}v.memo(BP);class HP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Jh(Jh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:fb,eventMap:hb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:fb,eventMap:hb,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Fe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(HP,"contextType",Ue);function db(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function ef(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?db(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):db(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var pb={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},gb={center(i,e){i.setCenter(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},radius(i,e){i.setRadius(e)},visible(i,e){i.setVisible(e)}},qP={};function FP(i){var{options:e,center:t,radius:r,draggable:a,editable:l,visible:c,onDblClick:d,onDragEnd:p,onDragStart:m,onMouseDown:_,onMouseMove:S,onMouseOut:T,onMouseOver:C,onMouseUp:A,onRightClick:V,onClick:k,onDrag:B,onCenterChanged:G,onRadiusChanged:q,onLoad:K,onUnmount:z}=i,Y=v.useContext(Ue),[O,I]=v.useState(null),[w,M]=v.useState(null),[P,U]=v.useState(null),[x,be]=v.useState(null),[Ee,oe]=v.useState(null),[pe,fe]=v.useState(null),[Te,D]=v.useState(null),[W,se]=v.useState(null),[J,ae]=v.useState(null),[Z,me]=v.useState(null),[Ae,ve]=v.useState(null),[Ne,ge]=v.useState(null),[Me,wt]=v.useState(null),[yt,_n]=v.useState(null);return v.useEffect(()=>{O!==null&&O.setMap(Y)},[Y]),v.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),v.useEffect(()=>{typeof a<"u"&&O!==null&&O.setDraggable(a)},[O,a]),v.useEffect(()=>{typeof l<"u"&&O!==null&&O.setEditable(l)},[O,l]),v.useEffect(()=>{typeof c<"u"&&O!==null&&O.setVisible(c)},[O,c]),v.useEffect(()=>{typeof r=="number"&&O!==null&&O.setRadius(r)},[O,r]),v.useEffect(()=>{typeof t<"u"&&O!==null&&O.setCenter(t)},[O,t]),v.useEffect(()=>{O&&d&&(w!==null&&google.maps.event.removeListener(w),M(google.maps.event.addListener(O,"dblclick",d)))},[d]),v.useEffect(()=>{O&&p&&(P!==null&&google.maps.event.removeListener(P),U(google.maps.event.addListener(O,"dragend",p)))},[p]),v.useEffect(()=>{O&&m&&(x!==null&&google.maps.event.removeListener(x),be(google.maps.event.addListener(O,"dragstart",m)))},[m]),v.useEffect(()=>{O&&_&&(Ee!==null&&google.maps.event.removeListener(Ee),oe(google.maps.event.addListener(O,"mousedown",_)))},[_]),v.useEffect(()=>{O&&S&&(pe!==null&&google.maps.event.removeListener(pe),fe(google.maps.event.addListener(O,"mousemove",S)))},[S]),v.useEffect(()=>{O&&T&&(Te!==null&&google.maps.event.removeListener(Te),D(google.maps.event.addListener(O,"mouseout",T)))},[T]),v.useEffect(()=>{O&&C&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(O,"mouseover",C)))},[C]),v.useEffect(()=>{O&&A&&(J!==null&&google.maps.event.removeListener(J),ae(google.maps.event.addListener(O,"mouseup",A)))},[A]),v.useEffect(()=>{O&&V&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(O,"rightclick",V)))},[V]),v.useEffect(()=>{O&&k&&(Ae!==null&&google.maps.event.removeListener(Ae),ve(google.maps.event.addListener(O,"click",k)))},[k]),v.useEffect(()=>{O&&B&&(Ne!==null&&google.maps.event.removeListener(Ne),ge(google.maps.event.addListener(O,"drag",B)))},[B]),v.useEffect(()=>{O&&G&&(Me!==null&&google.maps.event.removeListener(Me),wt(google.maps.event.addListener(O,"center_changed",G)))},[k]),v.useEffect(()=>{O&&q&&(yt!==null&&google.maps.event.removeListener(yt),_n(google.maps.event.addListener(O,"radius_changed",q)))},[q]),v.useEffect(()=>{var He=new google.maps.Circle(ef(ef({},e||qP),{},{map:Y}));return typeof r=="number"&&He.setRadius(r),typeof t<"u"&&He.setCenter(t),typeof r=="number"&&He.setRadius(r),typeof c<"u"&&He.setVisible(c),typeof l<"u"&&He.setEditable(l),typeof a<"u"&&He.setDraggable(a),d&&M(google.maps.event.addListener(He,"dblclick",d)),p&&U(google.maps.event.addListener(He,"dragend",p)),m&&be(google.maps.event.addListener(He,"dragstart",m)),_&&oe(google.maps.event.addListener(He,"mousedown",_)),S&&fe(google.maps.event.addListener(He,"mousemove",S)),T&&D(google.maps.event.addListener(He,"mouseout",T)),C&&se(google.maps.event.addListener(He,"mouseover",C)),A&&ae(google.maps.event.addListener(He,"mouseup",A)),V&&me(google.maps.event.addListener(He,"rightclick",V)),k&&ve(google.maps.event.addListener(He,"click",k)),B&&ge(google.maps.event.addListener(He,"drag",B)),G&&wt(google.maps.event.addListener(He,"center_changed",G)),q&&_n(google.maps.event.addListener(He,"radius_changed",q)),I(He),K&&K(He),()=>{w!==null&&google.maps.event.removeListener(w),P!==null&&google.maps.event.removeListener(P),x!==null&&google.maps.event.removeListener(x),Ee!==null&&google.maps.event.removeListener(Ee),pe!==null&&google.maps.event.removeListener(pe),Te!==null&&google.maps.event.removeListener(Te),W!==null&&google.maps.event.removeListener(W),J!==null&&google.maps.event.removeListener(J),Z!==null&&google.maps.event.removeListener(Z),Ae!==null&&google.maps.event.removeListener(Ae),Me!==null&&google.maps.event.removeListener(Me),yt!==null&&google.maps.event.removeListener(yt),z&&z(He),He.setMap(null)}},[]),null}v.memo(FP);class GP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(ef(ef({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:gb,eventMap:pb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:gb,eventMap:pb,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Fe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(GP,"contextType",Ue);function mb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function tf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):mb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var vb={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},yb={add(i,e){i.add(e)},addgeojson(i,e,t){i.addGeoJson(e,t)},contains(i,e){i.contains(e)},foreach(i,e){i.forEach(e)},loadgeojson(i,e,t,r){i.loadGeoJson(e,t,r)},overridestyle(i,e,t){i.overrideStyle(e,t)},remove(i,e){i.remove(e)},revertstyle(i,e){i.revertStyle(e)},controlposition(i,e){i.setControlPosition(e)},controls(i,e){i.setControls(e)},drawingmode(i,e){i.setDrawingMode(e)},map(i,e){i.setMap(e)},style(i,e){i.setStyle(e)},togeojson(i,e){i.toGeoJson(e)}};function KP(i){var{options:e,onClick:t,onDblClick:r,onMouseDown:a,onMouseMove:l,onMouseOut:c,onMouseOver:d,onMouseUp:p,onRightClick:m,onAddFeature:_,onRemoveFeature:S,onRemoveProperty:T,onSetGeometry:C,onSetProperty:A,onLoad:V,onUnmount:k}=i,B=v.useContext(Ue),[G,q]=v.useState(null),[K,z]=v.useState(null),[Y,O]=v.useState(null),[I,w]=v.useState(null),[M,P]=v.useState(null),[U,x]=v.useState(null),[be,Ee]=v.useState(null),[oe,pe]=v.useState(null),[fe,Te]=v.useState(null),[D,W]=v.useState(null),[se,J]=v.useState(null),[ae,Z]=v.useState(null),[me,Ae]=v.useState(null),[ve,Ne]=v.useState(null);return v.useEffect(()=>{G!==null&&G.setMap(B)},[B]),v.useEffect(()=>{G&&r&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(G,"dblclick",r)))},[r]),v.useEffect(()=>{G&&a&&(Y!==null&&google.maps.event.removeListener(Y),O(google.maps.event.addListener(G,"mousedown",a)))},[a]),v.useEffect(()=>{G&&l&&(I!==null&&google.maps.event.removeListener(I),w(google.maps.event.addListener(G,"mousemove",l)))},[l]),v.useEffect(()=>{G&&c&&(M!==null&&google.maps.event.removeListener(M),P(google.maps.event.addListener(G,"mouseout",c)))},[c]),v.useEffect(()=>{G&&d&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(G,"mouseover",d)))},[d]),v.useEffect(()=>{G&&p&&(be!==null&&google.maps.event.removeListener(be),Ee(google.maps.event.addListener(G,"mouseup",p)))},[p]),v.useEffect(()=>{G&&m&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(G,"rightclick",m)))},[m]),v.useEffect(()=>{G&&t&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(G,"click",t)))},[t]),v.useEffect(()=>{G&&_&&(D!==null&&google.maps.event.removeListener(D),W(google.maps.event.addListener(G,"addfeature",_)))},[_]),v.useEffect(()=>{G&&S&&(se!==null&&google.maps.event.removeListener(se),J(google.maps.event.addListener(G,"removefeature",S)))},[S]),v.useEffect(()=>{G&&T&&(ae!==null&&google.maps.event.removeListener(ae),Z(google.maps.event.addListener(G,"removeproperty",T)))},[T]),v.useEffect(()=>{G&&C&&(me!==null&&google.maps.event.removeListener(me),Ae(google.maps.event.addListener(G,"setgeometry",C)))},[C]),v.useEffect(()=>{G&&A&&(ve!==null&&google.maps.event.removeListener(ve),Ne(google.maps.event.addListener(G,"setproperty",A)))},[A]),v.useEffect(()=>{if(B!==null){var ge=new google.maps.Data(tf(tf({},e),{},{map:B}));r&&z(google.maps.event.addListener(ge,"dblclick",r)),a&&O(google.maps.event.addListener(ge,"mousedown",a)),l&&w(google.maps.event.addListener(ge,"mousemove",l)),c&&P(google.maps.event.addListener(ge,"mouseout",c)),d&&x(google.maps.event.addListener(ge,"mouseover",d)),p&&Ee(google.maps.event.addListener(ge,"mouseup",p)),m&&pe(google.maps.event.addListener(ge,"rightclick",m)),t&&Te(google.maps.event.addListener(ge,"click",t)),_&&W(google.maps.event.addListener(ge,"addfeature",_)),S&&J(google.maps.event.addListener(ge,"removefeature",S)),T&&Z(google.maps.event.addListener(ge,"removeproperty",T)),C&&Ae(google.maps.event.addListener(ge,"setgeometry",C)),A&&Ne(google.maps.event.addListener(ge,"setproperty",A)),q(ge),V&&V(ge)}return()=>{G&&(K!==null&&google.maps.event.removeListener(K),Y!==null&&google.maps.event.removeListener(Y),I!==null&&google.maps.event.removeListener(I),M!==null&&google.maps.event.removeListener(M),U!==null&&google.maps.event.removeListener(U),be!==null&&google.maps.event.removeListener(be),oe!==null&&google.maps.event.removeListener(oe),fe!==null&&google.maps.event.removeListener(fe),D!==null&&google.maps.event.removeListener(D),se!==null&&google.maps.event.removeListener(se),ae!==null&&google.maps.event.removeListener(ae),me!==null&&google.maps.event.removeListener(me),ve!==null&&google.maps.event.removeListener(ve),k&&k(G),G.setMap(null))}},[]),null}v.memo(KP);class $P extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(tf(tf({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:yb,eventMap:vb,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:yb,eventMap:vb,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Fe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne($P,"contextType",Ue);function _b(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Eb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):_b(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var bb={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Sb={options(i,e){i.setOptions(e)},url(i,e){i.setUrl(e)},zIndex(i,e){i.setZIndex(e)}};class QP extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Eb(Eb({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Sb,eventMap:bb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Sb,eventMap:bb,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Fe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(QP,"contextType",Ue);function Fw(i,e){return typeof e=="function"?e(i.offsetWidth,i.offsetHeight):{x:0,y:0}}function YP(i,e){return new e(i.lat,i.lng)}function WP(i,e){return new e(new google.maps.LatLng(i.ne.lat,i.ne.lng),new google.maps.LatLng(i.sw.lat,i.sw.lng))}function ZP(i,e,t){return i instanceof e?i:t(i,e)}function XP(i,e,t){return i instanceof e?i:t(i,e)}function JP(i,e,t){var r=i&&i.fromLatLngToDivPixel(t.getNorthEast()),a=i&&i.fromLatLngToDivPixel(t.getSouthWest());return r&&a?{left:"".concat(a.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-a.x-e.x,"px"),height:"".concat(a.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function e2(i,e,t){var r=i&&i.fromLatLngToDivPixel(t);if(r){var{x:a,y:l}=r;return{left:"".concat(a+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Gw(i,e,t,r){return t!==void 0?JP(i,e,XP(t,google.maps.LatLngBounds,WP)):e2(i,e,ZP(r,google.maps.LatLng,YP))}function t2(i,e){return i.left===e.left&&i.top===e.top&&i.width===e.height&&i.height===e.height}function Tb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function n2(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Tb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function i2(i,e,t,r,a){class l extends google.maps.OverlayView{constructor(d,p,m,_){super(),this.container=d,this.pane=p,this.position=m,this.bounds=_}onAdd(){var d,p=(d=this.getPanes())===null||d===void 0?void 0:d[this.pane];p==null||p.appendChild(this.container)}draw(){var d=this.getProjection(),p=n2({},this.container?Fw(this.container,a):{x:0,y:0}),m=Gw(d,p,this.bounds,this.position);for(var[_,S]of Object.entries(m))this.container.style[_]=S}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(i,e,t,r)}function wb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function r2(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):wb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Cb(i){if(!i)return"";var e=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);return e+""}function Ab(i){if(!i)return"";var e=i instanceof google.maps.LatLngBounds?i:new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.east),new google.maps.LatLng(i.north,i.west));return e+""}function s2(i){var{position:e,bounds:t,mapPaneName:r,zIndex:a,onLoad:l,onUnmount:c,getPixelPositionOffset:d,children:p}=i,m=v.useContext(Ue),_=v.useMemo(()=>{var T=document.createElement("div");return T.style.position="absolute",T},[]),S=v.useMemo(()=>i2(_,r,e,t,d),[_,r,e,t]);return v.useEffect(()=>(l==null||l(S),S==null||S.setMap(m),()=>{c==null||c(S),S==null||S.setMap(null)}),[m,S]),v.useEffect(()=>{_.style.zIndex="".concat(a)},[a,_]),Zo.createPortal(p,_)}v.memo(s2);class Xo extends v.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var r=this.props.mapPaneName,a=this.overlayView.getPanes();Ht(!!r,"OverlayView requires props.mapPaneName but got %s",r),a?this.setState({paneEl:a[r]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var r,a;this.updatePane(),(r=(a=this.props).onLoad)===null||r===void 0||r.call(a,this.overlayView)}),ne(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),a=r2({x:0,y:0},this.containerRef.current?Fw(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=Gw(r,a,this.props.bounds,this.props.position);if(!t2(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,d,p,m;this.setState({containerStyle:{top:(c=l.top)!==null&&c!==void 0?c:0,left:(d=l.left)!==null&&d!==void 0?d:0,width:(p=l.width)!==null&&p!==void 0?p:0,height:(m=l.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var r,a;this.setState(()=>({paneEl:null})),(r=(a=this.props).onUnmount)===null||r===void 0||r.call(a,this.overlayView)}),this.containerRef=v.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Cb(e.position),r=Cb(this.props.position),a=Ab(e.bounds),l=Ab(this.props.bounds);(t!==r||a!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Zo.createPortal(j.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:v.Children.only(this.props.children)}),e):null}}ne(Xo,"FLOAT_PANE","floatPane");ne(Xo,"MAP_PANE","mapPane");ne(Xo,"MARKER_LAYER","markerLayer");ne(Xo,"OVERLAY_LAYER","overlayLayer");ne(Xo,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(Xo,"contextType",Ue);function a2(){}function Rb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Lb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Rb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Ib={onDblClick:"dblclick",onClick:"click"},Mb={opacity(i,e){i.setOpacity(e)}};function o2(i){var{url:e,bounds:t,options:r,visible:a}=i,l=v.useContext(Ue),c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),d=v.useMemo(()=>new google.maps.GroundOverlay(e,c,r),[]);return v.useEffect(()=>{d!==null&&d.setMap(l)},[l]),v.useEffect(()=>{typeof e<"u"&&d!==null&&(d.set("url",e),d.setMap(l))},[d,e]),v.useEffect(()=>{typeof a<"u"&&d!==null&&d.setOpacity(a?1:0)},[d,a]),v.useEffect(()=>{var p=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&d!==null&&(d.set("bounds",p),d.setMap(l))},[d,t]),null}v.memo(o2);class Kw extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ht(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Lb(Lb({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Mb,eventMap:Ib,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Mb,eventMap:Ib,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(Kw,"defaultProps",{onLoad:a2});ne(Kw,"contextType",Ue);function Ob(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function nf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ob(Object(t),!0).forEach(function(r){ne(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ob(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Db={},xb={data(i,e){i.setData(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)}};function l2(i){var{data:e,onLoad:t,onUnmount:r,options:a}=i,l=v.useContext(Ue),[c,d]=v.useState(null);return v.useEffect(()=>{google.maps.visualization||Ht(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),v.useEffect(()=>{Ht(!!e,"data property is required in HeatmapLayer %s",e)},[e]),v.useEffect(()=>{c!==null&&c.setMap(l)},[l]),v.useEffect(()=>{a&&c!==null&&c.setOptions(a)},[c,a]),v.useEffect(()=>{var p=new google.maps.visualization.HeatmapLayer(nf(nf({},a),{},{data:e,map:l}));return d(p),t&&t(p),()=>{c!==null&&(r&&r(c),c.setMap(null))}},[]),null}v.memo(l2);class u2 extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ht(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ht(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(nf(nf({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:xb,eventMap:Db,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:xb,eventMap:Db,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Fe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(u2,"contextType",Ue);var kb={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Pb={register(i,e,t){i.registerPanoProvider(e,t)},links(i,e){i.setLinks(e)},motionTracking(i,e){i.setMotionTracking(e)},options(i,e){i.setOptions(e)},pano(i,e){i.setPano(e)},position(i,e){i.setPosition(e)},pov(i,e){i.setPov(e)},visible(i,e){i.setVisible(e)},zoom(i,e){i.setZoom(e)}};class c2 extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,r=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:Pb,eventMap:kb,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Pb,eventMap:kb,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Fe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(c2,"contextType",Ue);class h2 extends v.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(h2,"contextType",Ue);var Nb={onDirectionsChanged:"directions_changed"},Vb={directions(i,e){i.setDirections(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},panel(i,e){i.setPanel(e)},routeIndex(i,e){i.setRouteIndex(e)}};class f2 extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:Vb,eventMap:Nb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Vb,eventMap:Nb,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Fe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(f2,"contextType",Ue);var Ub={onPlacesChanged:"places_changed"},jb={bounds(i,e){i.setBounds(e)}};class d2 extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",v.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ht(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:jb,eventMap:Ub,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:jb,eventMap:Ub,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Fe(this.registeredEvents))}render(){return j.jsx("div",{ref:this.containerElement,children:v.Children.only(this.props.children)})}}ne(d2,"contextType",Ue);var zb={onPlaceChanged:"place_changed"},Bb={bounds(i,e){i.setBounds(e)},restrictions(i,e){i.setComponentRestrictions(e)},fields(i,e){i.setFields(e)},options(i,e){i.setOptions(e)},types(i,e){i.setTypes(e)}};class $w extends v.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",v.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Ht(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var r=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Be({updaterMap:Bb,eventMap:zb,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Bb,eventMap:zb,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Fe(this.registeredEvents)}render(){return j.jsx("div",{ref:this.containerElement,className:this.props.className,children:v.Children.only(this.props.children)})}}ne($w,"defaultProps",{className:""});ne($w,"contextType",Ue);const p2={width:"100%",height:"500px"},g2={lat:13.0827,lng:80.2707},m2=()=>{const{isLoaded:i}=qk({googleMapsApiKey:"AIzaSyDyI9ViQTMTFlsmkiD6eLiYzcPGSek2a6E"}),[e,t]=v.useState(null),[r,a]=v.useState([]);return v.useEffect(()=>{navigator.geolocation.getCurrentPosition(l=>{t({lat:l.coords.latitude,lng:l.coords.longitude})},l=>console.error("Error getting location:",l),{enableHighAccuracy:!0})},[]),v.useEffect(()=>{const l=cm(hn,"buses"),c=kD(l,PD("availableSeats","desc")),d=Cm(c,p=>{const m=p.docs.map(_=>({id:_.id,..._.data()}));a(m)});return()=>d()},[]),i?j.jsxs(Ok,{mapContainerStyle:p2,center:e||g2,zoom:15,children:[e&&j.jsx(bg,{position:e,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}),r.map(l=>j.jsx(bg,{position:{lat:l.latitude,lng:l.longitude},label:l.availableSeats.toString()},l.id))]}):j.jsx("p",{children:"Loading Map..."})};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qw=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=v.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...d},p)=>v.createElement("svg",{ref:p,...y2,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:Qw("lucide",a),...d},[...c.map(([m,_])=>v.createElement(m,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=(i,e)=>{const t=v.forwardRef(({className:r,...a},l)=>v.createElement(_2,{ref:l,iconNode:e,className:Qw(`lucide-${v2(i)}`,r),...a}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Ww=Yw("MicOff",E2);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Zw=Yw("Mic",b2),S2=({onSearch:i,onSelectFirstBus:e})=>{const[t,r]=v.useState(!1),a=()=>{if(!("webkitSpeechRecognition"in window)){alert("Speech Recognition not supported in this browser.");return}const l=new window.webkitSpeechRecognition;l.lang="en-US",l.start(),r(!0),l.onresult=c=>{const d=c.results[0][0].transcript.trim().toLowerCase();if(console.log("Recognized speech:",d),d.includes("select bus"))console.log("Voice command detected: Selecting first available bus"),e();else{const p=/(.+?)\s+to\s+(.+)/i,m=d.match(p);if(m){const _=m[1].trim(),S=m[2].trim();console.log("Extracted From:",_,"To:",S),i(_,S)}else alert("Please say: 'Boarding Point to Destination'")}r(!1)},l.onerror=()=>{r(!1),alert("Speech recognition failed. Try again.")}};return j.jsx("div",{children:j.jsx("button",{onTouchStart:a,onClick:a,style:{position:"fixed",bottom:"20px",left:"20px",backgroundColor:t?"#f54242":"#007bff",color:"#fff",border:"none",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:t?j.jsx(Zw,{size:24}):j.jsx(Ww,{size:24})})})},T2=()=>{const[i,e]=v.useState(""),[t,r]=v.useState(""),[a,l]=v.useState([]),[c,d]=v.useState([]),[p,m]=v.useState(!1),[_,S]=v.useState(!1),T=kr(),{user:C}=vw(),A=(q,K)=>{console.log("Voice Query Extracted - From:",q,"To:",K),e(q),r(K),setTimeout(()=>{console.log("Running search after state update..."),k(q,K)},100)},V=()=>{if(c.length>0){const q=c[0];console.log("Automatically selecting bus:",q.name||"Unnamed Bus"),T(`/seat-availability/${q.id}`,{state:{bus:q}})}else alert("No available buses to select.")};v.useEffect(()=>{C&&(async()=>{const K=Vn(hn,"users",C.uid),z=await Kh(K);z.exists()&&(console.log("User data from Firestore:",z.data()),S(z.data().isAdmin))})()},[C]),v.useEffect(()=>{const q=Cm(cm(hn,"buses"),K=>{const z=K.docs.map(Y=>({id:Y.id,...Y.data()}));l(z)});return()=>q()},[]),v.useEffect(()=>{(async()=>{if(C){const K=await Kh(Vn(hn,"users",C.uid));K.exists()&&S(K.data().isAdmin||!1)}})()},[C]);const k=(q=i,K=t)=>{if(console.log("Searching for buses from:",q,"to:",K),!q.trim()||!K.trim()){d([]),m(!1);return}const z=q.trim().toLowerCase(),Y=K.trim().toLowerCase(),O=a.filter(I=>{var P,U;const w=Array.isArray(I.from)?I.from.some(x=>x.toLowerCase()===z):((P=I.from)==null?void 0:P.toLowerCase())===z,M=Array.isArray(I.to)?I.to.some(x=>x.toLowerCase()===Y):((U=I.to)==null?void 0:U.toLowerCase())===Y;return w&&M});console.log("Filtered buses:",O),d(O),m(!0)};v.useEffect(()=>{a.length>0?console.log("Buses fetched:",a):console.log("No buses loaded yet!")},[a]);const B=async q=>{if(!C)return;sessionStorage.setItem("selectedBus",JSON.stringify(q));const K=Vn(hn,"buses",q.id);try{await Io(K,{passengers:BD({uid:C.uid,from:i,to:t})}),T(`/seat-availability/${q.id}`,{state:{bus:q}})}catch(z){console.error("Error saving user journey:",z)}},G=()=>{T("/seat-update")};return console.log("isAdmin:",_),console.log("user:",C),j.jsxs("div",{style:{textAlign:"center",padding:"20px"},className:"h-div",children:[j.jsx("h1",{className:"h-h1",children:"Find Your Bus"}),j.jsx("label",{className:"h-lb1",children:"Boarding Point"}),j.jsx("br",{}),j.jsx("input",{type:"text",placeholder:"From",value:i,onChange:q=>e(q.target.value),style:{marginRight:"10px",padding:"8px"},className:"h-ip"}),j.jsx("label",{className:"h-lb2",children:"Destination"}),j.jsx("input",{type:"text",placeholder:"To",value:t,onChange:q=>r(q.target.value),style:{padding:"8px"},className:"h-ip"}),j.jsx(S2,{onSearch:A,onSelectFirstBus:V}),"  ",j.jsx("button",{onClick:()=>k(),style:{marginLeft:"10px",padding:"8px"},className:"sb-btn",children:"Search Buses"}),_?j.jsx("button",{onClick:G,className:"su-btn",children:"Seat Update"}):null,p&&j.jsxs(j.Fragment,{children:[j.jsx("h2",{className:"h-h2",children:"Available Buses"}),c.length===0?j.jsx("p",{className:"h-p",children:"No buses available for this route."}):j.jsx("ul",{children:c.map(q=>j.jsxs("li",{children:[j.jsx("strong",{children:q.name||"Unnamed Bus"})," ",j.jsx("br",{}),"Route: ",q.from," → ",Array.isArray(q.to)?q.to.join(", "):q.to," ",j.jsx("br",{}),"Seats Available: ",q.availableSeats??"Unknown"," ",j.jsx("br",{}),j.jsx("button",{onClick:()=>B(q),style:{marginTop:"10px",padding:"8px"},children:"Select Bus"})]},q.id))})]}),p&&j.jsx(m2,{buses:c})]})},w2=()=>{var Te;const i=Gi(),e=kr(),t=JSON.parse(sessionStorage.getItem("selectedBus")),r=((Te=i.state)==null?void 0:Te.bus)||t,[a,l]=v.useState(40),[c,d]=v.useState([]),[p,m]=v.useState(new Set),[_,S]=v.useState(!1),[T,C]=v.useState(null),[A,V]=v.useState(!1),[k,B]=v.useState(null),[G,q]=v.useState(0),[K,z]=v.useState(0);let Y=null;v.useEffect(()=>{(async()=>{if(r!=null&&r.id){const W=Vn(hn,"buses",r.id),se=await Kh(W);if(se.exists()){const J=se.data();l(J.availableSeats);const ae=40;let Z=sessionStorage.getItem(`reservedSeats_${r.id}`);if(Z)d(JSON.parse(Z));else{const me=new Set;for(;me.size<ae-J.availableSeats;)me.add(Math.floor(Math.random()*ae)+1);const Ae=[...me];sessionStorage.setItem(`reservedSeats_${r.id}`,JSON.stringify(Ae)),d(Ae)}}}})()},[r]);const O=async(D,W)=>{if(D)try{const se=Vn(hn,"buses",D);await Io(se,{availableSeats:W}),console.log("Seat availability updated in Firestore.")}catch(se){console.error("Error updating seat availability:",se)}},I=async D=>{p.has(D)?(C(D),S(!0)):M(D,!1)},w=D=>{D?(m(W=>{const se=new Set(W);return se.delete(T),se}),l(W=>W+1),O(a+1),S(!1),setTimeout(()=>{e("/thank-you")},500)):S(!1)},M=async(D,W)=>{if(r!=null&&r.id){const se=Vn(hn,"buses",r.id);W?(m(J=>{const ae=new Set(J);return ae.delete(D),ae}),l(J=>J+1),await Io(se,{availableSeats:a+1})):(m(J=>new Set(J).add(D)),l(J=>J-1),await Io(se,{availableSeats:a-1}))}},P=(D,W)=>{if(!D.length||!W.length){q(0),z(0);return}const se=W.map(Z=>Z.toLowerCase());let J=W.length,ae=0;D.forEach(Z=>{const me=Z.to.toLowerCase(),Ae=se.indexOf(me);Ae!==-1&&Ae<J&&(J=Ae)}),J!==W.length&&(ae=D.filter(Z=>Z.to.toLowerCase()===se[J]).length),q(ae),z(J),console.log("Next stop index:",J,"Users getting down:",ae)};v.useEffect(()=>{if(!(r!=null&&r.id))return;const D=Vn(hn,"buses",r.id),W=Cm(D,se=>{if(se.exists()){const J=se.data();console.log("Updated Firestore passengers:",JSON.stringify(J.passengers,null,2)),console.log("Route:",JSON.stringify(J.route,null,2)),P(J.passengers||[],J.route||[])}});return()=>W()},[r]);const U=async()=>{if(!(r!=null&&r.to))return;const W=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(r.to)}&key=AIzaSyDyI9ViQTMTFlsmkiD6eLiYzcPGSek2a6E`;try{const J=await(await fetch(W)).json();if(J.status==="OK"){const ae=J.results[0].geometry.location;B(ae)}else console.error("Failed to fetch destination coordinates:",J.status)}catch(se){console.error("Error fetching destination coordinates:",se)}};v.useEffect(()=>{U()},[r==null?void 0:r.to]);const x=(D,W)=>{const se=ve=>Math.PI/180*ve,ae=se(W.lat-D.lat),Z=se(W.lng-D.lng),me=Math.sin(ae/2)*Math.sin(ae/2)+Math.cos(se(D.lat))*Math.cos(se(W.lat))*Math.sin(Z/2)*Math.sin(Z/2);return 6371*(2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me)))};v.useEffect(()=>{if(!k)return;const D=navigator.geolocation.watchPosition(W=>{const se={lat:W.coords.latitude,lng:W.coords.longitude};x(se,k)<.1&&(M([...p][0],!0),navigator.geolocation.clearWatch(D))},W=>console.error("Error getting user location:",W),{enableHighAccuracy:!0,maximumAge:0});return()=>navigator.geolocation.clearWatch(D)},[k,p]);const be=()=>{A?oe():Ee()},Ee=()=>{const D=window.SpeechRecognition||window.webkitSpeechRecognition;if(!D){alert("Speech Recognition not supported in this browser.");return}Y=new D,Y.continuous=!0,Y.interimResults=!1,Y.lang="en-US",Y.onresult=W=>{const se=W.results[W.results.length-1][0].transcript.trim().toLowerCase();se.includes("i have seated")?pe("seated"):se.includes("i am getting down")&&pe("gettingDown")},Y.onerror=W=>{console.error("Speech recognition error:",W.error)},Y.start(),V(!0)},oe=()=>{Y&&Y.stop(),V(!1)},pe=D=>{D==="seated"&&a>0?M([...c].find(W=>!p.has(W)),!1):D==="gettingDown"&&p.size>0&&M([...p][0],!0)},fe=()=>{e("/payment",{state:{bus:r}})};return j.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[j.jsx("h1",{children:"Seat Availability"}),j.jsxs("h2",{children:[r==null?void 0:r.from," ↔ ",r==null?void 0:r.to]}),j.jsx("h3",{children:r==null?void 0:r.name}),j.jsxs("p",{style:{fontWeight:"bold",fontSize:"18px"},children:[a," Seats left"]}),j.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:j.jsx("div",{style:{background:"#FFF",padding:"20px",borderRadius:"10px"},children:[...Array(10)].map((D,W)=>j.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:[1,2,3,4].map(se=>{const J=W*4+se,ae=c.includes(J),Z=p.has(J);return j.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"5px",backgroundColor:Z?"#7A95D2":ae?"#ff8b94":"#94D179",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"16px",color:"#fff",cursor:ae?"not-allowed":"pointer",margin:"5px"},title:Z?"Seat Confirmed":ae?"Seat Booked":"Available",onClick:()=>I(J),children:J},J)})},W))})}),j.jsx("p",{style:{fontWeight:"bold",fontSize:"16px",color:"#f39c12"},children:a===0||G>0?`${G} seats will be available in ${K} stops`:"No seats available at the next stop"}),_&&j.jsxs("div",{className:"confirmation-box",children:[j.jsx("p",{children:"Are you getting down?"}),j.jsx("button",{onClick:()=>w(!0),children:"Yes"}),j.jsx("button",{onClick:()=>w(!1),children:"No"})]}),j.jsx("button",{onClick:be,style:{position:"fixed",bottom:"20px",left:"20px",backgroundColor:A?"#f54242":"#007bff",color:"#fff",border:"none",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:A?j.jsx(Zw,{size:24}):j.jsx(Ww,{size:24})}),j.jsx("button",{onClick:fe,children:"Pay Now"})]})},C2=()=>{var m;const e=((m=Gi().state)==null?void 0:m.bus)||{},[t,r]=v.useState(null),[a,l]=v.useState(null),[c,d]=v.useState("");v.useEffect(()=>{if("geolocation"in navigator){const _=navigator.geolocation.watchPosition(S=>{r(S.coords.latitude),l(S.coords.longitude),p(S.coords.latitude,S.coords.longitude)},S=>d("Location access denied. Enable GPS to update."),{enableHighAccuracy:!0,maximumAge:1e4});return()=>navigator.geolocation.clearWatch(_)}else d("Geolocation is not supported on this device.")},[]);const p=async(_,S)=>{if(e.id)try{const T=Vn(hn,"buses",e.id);await Io(T,{latitude:_,longitude:S,lastUpdated:zD()}),console.log(`Updated location for ${e.name}: ${_}, ${S}`)}catch(T){console.error("Error updating bus location:",T),d("Failed to update location.")}};return j.jsxs("div",{children:[j.jsxs("h2",{children:["Seat Booking for ",e.name]}),j.jsxs("p",{children:["Route: ",e.from," → ",e.to]}),j.jsxs("p",{children:["Seats Available: ",e.availableSeats]}),c&&j.jsx("p",{style:{color:"red"},children:c})]})},A2=()=>{const[i,e]=v.useState([]),[t,r]=v.useState(null),[a,l]=v.useState("");v.useEffect(()=>{(async()=>{try{const m=(await jD(cm(hn,"buses"))).docs.map(_=>({id:_.id,..._.data()}));e(m)}catch(p){console.error("Error fetching buses:",p)}})()},[]);const c=async()=>{if(!t||a===""){alert("Please select a bus and enter available seats.");return}const d=parseInt(a,10);if(isNaN(d)||d<0){alert("Invalid seat number.");return}console.log(`Updating bus ${t.id} with available seats:`,d);try{await Io(Vn(hn,"buses",t.id),{availableSeats:d}),r(p=>({...p,availableSeats:d})),alert("Seats updated successfully!")}catch(p){console.error("Error updating seats:",p),alert("Failed to update seats.")}};return j.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[j.jsx("h1",{className:"ua-h1",children:"Update Available Seats"}),j.jsxs("select",{className:"ua-select",value:(t==null?void 0:t.id)||"",onChange:d=>{const p=i.find(m=>m.id===d.target.value);r(p),l((p==null?void 0:p.availableSeats)||"")},style:{padding:"8px",marginBottom:"10px"},children:[j.jsx("option",{className:"ua-op",value:"",children:"Select a Bus"}),i.map(d=>j.jsxs("option",{value:d.id,children:[d.name," (",d.availableSeats," seats)"]},d.id))]}),t&&j.jsxs("div",{children:[j.jsx("h2",{children:t.name}),j.jsxs("p",{children:["Available Seats: ",t.availableSeats]}),j.jsx("input",{type:"number",placeholder:"Enter new available seats",value:a,onChange:d=>l(d.target.value),style:{padding:"8px",marginRight:"10px"}}),j.jsx("button",{onClick:c,style:{padding:"8px"},children:"Update Seats"})]})]})},R2=()=>{var _;const i=Gi(),e=kr(),t=(_=i.state)==null?void 0:_.bus,[r,a]=v.useState(null),[l,c]=v.useState(!1),[d,p]=v.useState(null);v.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const T=Vn(hn,"buses",t.id),C=await Kh(T);C.exists()?a(C.data().fare):console.error("Bus data not found!")}catch(T){console.error("Error fetching bus fare:",T)}})()},[t]);const m=()=>{if(!r){alert("Bus fare not available!");return}if(!window.Razorpay){alert("Razorpay SDK failed to load. Please check your internet connection.");return}c(!0);const S={key:"rzp_test_RUlfU2sYGSUNJ4",amount:r*100,currency:"INR",name:"SmartMove",description:`Ticket for ${t.name}`,handler:async C=>{try{const A={busName:t.name,from:t.from,to:t.to,amountPaid:r,paymentId:C.razorpay_payment_id,timestamp:new Date},V=Vn(hn,"tickets",C.razorpay_payment_id);await wm(V,A),p(A)}catch(A){console.error("Error saving ticket:",A)}finally{c(!1)}},theme:{color:"#3399cc"}};new window.Razorpay(S).open()};return j.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[j.jsx("h1",{children:"Payment"}),j.jsxs("h2",{children:["Bus: ",t==null?void 0:t.name]}),j.jsxs("p",{children:["Route: ",t==null?void 0:t.from," → ",t==null?void 0:t.to]}),r!==null?j.jsxs(j.Fragment,{children:[j.jsxs("h3",{children:["Fare: ₹",r]}),d?j.jsxs("div",{style:{border:"1px solid #ddd",padding:"20px",marginTop:"20px"},children:[j.jsx("h2",{children:"🎟 Ticket Confirmed"}),j.jsxs("p",{children:[j.jsx("strong",{children:"Bus:"})," ",d.busName]}),j.jsxs("p",{children:[j.jsx("strong",{children:"From:"})," ",d.from]}),j.jsxs("p",{children:[j.jsx("strong",{children:"To:"})," ",d.to]}),j.jsxs("p",{children:[j.jsx("strong",{children:"Amount Paid:"})," ₹",d.amountPaid]}),j.jsxs("p",{children:[j.jsx("strong",{children:"Payment ID:"})," ",d.paymentId]}),j.jsx("button",{onClick:()=>e("/thank-you"),children:"Finish"})]}):j.jsx("div",{children:j.jsx("button",{onClick:m,disabled:l,children:l?"Processing Payment...":"Pay Now"})})]}):j.jsx("p",{children:"Loading fare..."})]})},L2=()=>{const[i,e]=v.useState(""),[t,r]=v.useState(""),[a,l]=v.useState(5),[c,d]=v.useState(""),p=kr(),{logout:m}=vw(),_=async T=>{T.preventDefault();const C={name:i,email:t,rating:a,comments:c};try{await fetch("https://formspree.io/f/xpwpzzbk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),alert("Feedback submitted successfully!"),e(""),r(""),l(5),d("")}catch{alert("Error submitting feedback. Please try again.")}},S=async()=>{try{await m(),p("/")}catch(T){console.error("Logout failed:",T),alert("Failed to log out. Please try again.")}};return j.jsxs("div",{className:"thank-you-container",children:[j.jsx("h2",{children:"Thank You for Using SmartMove"}),j.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,className:"thank-you-video",children:[j.jsx("source",{src:"/thank_you.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),j.jsxs("div",{className:"feedback-form",children:[j.jsx("h3",{children:"We value your feedback!"}),j.jsxs("form",{onSubmit:_,className:"t-form",children:[j.jsxs("label",{className:"t-lb1",children:["Name:",j.jsx("input",{className:"t-ip",type:"text",value:i,onChange:T=>e(T.target.value),required:!0})]}),j.jsxs("label",{className:"t-lb2",children:["Email:",j.jsx("input",{className:"t-ip",type:"email",value:t,onChange:T=>r(T.target.value),required:!0})]}),j.jsxs("label",{className:"t-lb3",children:["Rating:",j.jsx("input",{className:"t-ip",type:"number",min:"1",max:"5",value:a,onChange:T=>l(T.target.value),required:!0})]}),j.jsxs("label",{className:"t-lb4",children:["Comments:",j.jsx("textarea",{className:"t-tx",value:c,onChange:T=>d(T.target.value),required:!0})]}),j.jsx("button",{type:"submit",className:"t-btn",children:"Submit Feedback"})]})]}),j.jsx("p",{onClick:()=>p("/"),className:"ar-link",children:"Go Home"}),j.jsx("button",{onClick:S,className:"logout-btn",children:"Logout"})]})};function I2(){return j.jsx(sk,{children:j.jsxs(Px,{children:[j.jsx(ti,{path:"/",element:j.jsx(gk,{})}),j.jsx(ti,{path:"/login",element:j.jsx(mk,{})}),j.jsx(ti,{path:"/forgot-password",element:j.jsx(vk,{})}),j.jsx(ti,{path:"/register-user",element:j.jsx(yk,{})}),j.jsx(ti,{path:"/register-admin",element:j.jsx(_k,{})}),j.jsx(ti,{path:"/home",element:j.jsx(T2,{})}),j.jsx(ti,{path:"/seat-availability/:busId",element:j.jsx(w2,{})}),j.jsx(ti,{path:"/seat-booking",element:j.jsx(C2,{})}),j.jsx(ti,{path:"/seat-update",element:j.jsx(A2,{})}),j.jsx(ti,{path:"/thank-you",element:j.jsx(L2,{})}),j.jsx(ti,{path:"/payment",element:j.jsx(R2,{})})]})})}MA.createRoot(document.getElementById("root")).render(j.jsx(v.StrictMode,{children:j.jsx(GD,{children:j.jsx(I2,{})})}));
